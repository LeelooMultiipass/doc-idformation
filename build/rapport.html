<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>rapport</title>
    <link rel="stylesheet" href="style.css">
    <script>
        function scrollToAnchor(aid){
            var aTag = document.querySelector("a[name='"+ aid +"']");
            window.scroll({ top: aTag.offsetTop, left: 0, behavior: 'smooth' });
        }
    </script>
  </head>
  <body>
    <div class="container">
      <h1 id="rapport">Rapport</h1>
      <p>M. Thibault HULAUX Mlle Lylou PONSING</p>
      <div style="page-break-after: always;">

      </div>
      <h2 id="table-des-matières">1. Table des matières<!-- OK --></h2>
      <!-- cSpell:disable -->
      <ul>
      <li><a href="#1-table-des-matières">1. Table des matières</a></li>
      <li><a href="#2-liste-des-compétences-couvertes">2. Liste des compétences couvertes</a></li>
      <li><a href="#3-résumé-du-projet-en-anglais">3. Résumé du projet en anglais</a></li>
      <li><a href="#4-cahier-des-charges">4. Cahier des charges</a>
      <ul>
      <li><a href="#41-contexte-de-lentreprise">4.1. Contexte de l’entreprise</a></li>
      <li><a href="#42-définition-du-besoin">4.2. Définition du besoin</a>
      <ul>
      <li><a href="#421-la-méthode-qqoqcp">4.2.1. La méthode QQOQCP</a></li>
      <li><a href="#422-les-personas">4.2.2. Les Personas</a>
      <ul>
      <li><a href="#4221-marie-dubois---responsable-dans-une-association">4.2.2.1. Marie Dubois - Responsable dans une association</a></li>
      <li><a href="#4222-mathieu-dupont---gérant">4.2.2.2. Mathieu Dupont - Gérant</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#43-objectif-du-projet">4.3. Objectif du projet</a></li>
      <li><a href="#44-description-de-toutes-les-fonctionnalités-attendues">4.4. Description de toutes les fonctionnalités attendues</a>
      <ul>
      <li><a href="#441-inscription">4.4.1. Inscription</a>
      <ul>
      <li><a href="#4411-fonctionnalité--inscription">4.4.1.1. Fonctionnalité : Inscription</a></li>
      </ul></li>
      <li><a href="#442-authentification">4.4.2. Authentification</a>
      <ul>
      <li><a href="#4421-fonctionnalité--authentification">4.4.2.1. Fonctionnalité : Authentification</a></li>
      </ul></li>
      <li><a href="#443-catégorie">4.4.3. Catégorie</a>
      <ul>
      <li><a href="#4431-fonctionnalité-ajouter-une-catégorie">4.4.3.1. Fonctionnalité: Ajouter une catégorie</a></li>
      <li><a href="#4432-fonctionnalité-supprimer-une-catégorie">4.4.3.2. Fonctionnalité: Supprimer une catégorie</a></li>
      <li><a href="#4433-fonctionnalité-modifier-une-catégorie">4.4.3.3. Fonctionnalité: Modifier une catégorie</a></li>
      <li><a href="#4434-fonctionnalité-accéder-aux-informations-dune-catégorie">4.4.3.4. Fonctionnalité: Accéder aux informations d’une catégorie</a></li>
      </ul></li>
      <li><a href="#444-produit">4.4.4. Produit</a>
      <ul>
      <li><a href="#4441-fonctionnalité-ajouter-un-produit">4.4.4.1. Fonctionnalité: Ajouter un produit</a></li>
      <li><a href="#4442-fonctionnalité-modifier-un-produit">4.4.4.2. Fonctionnalité: Modifier un produit</a></li>
      <li><a href="#4443-fonctionnalité-supprimer-un-produit">4.4.4.3. Fonctionnalité: Supprimer un produit</a></li>
      <li><a href="#4444-fonctionnalité-accéder-aux-informations-dun-produit">4.4.4.4. Fonctionnalité: Accéder aux informations d’un produit</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#45-délais">4.5. Délais</a></li>
      </ul></li>
      <li><a href="#5-gestion-de-projet">5. Gestion de projet</a>
      <ul>
      <li><a href="#51-planning-et-suivi">5.1. Planning et suivi</a></li>
      <li><a href="#52-environnement-humain-et-technique">5.2. Environnement humain et technique</a>
      <ul>
      <li><a href="#521-environnement-humain">5.2.1. Environnement humain</a></li>
      <li><a href="#522-environnement-technique">5.2.2. Environnement technique</a></li>
      </ul></li>
      <li><a href="#53-objectif-qualité">5.3. Objectif qualité</a></li>
      </ul></li>
      <li><a href="#6-spécifications-fonctionnelles-du-projet">6. Spécifications fonctionnelles du projet</a>
      <ul>
      <li><a href="#61-front-office">6.1. Front office</a>
      <ul>
      <li><a href="#611-landing-page">6.1.1. Landing page</a></li>
      <li><a href="#612-inscription-et-connexion">6.1.2. Inscription et connexion</a></li>
      <li><a href="#613-catégories">6.1.3. Catégories</a>
      <ul>
      <li><a href="#6131-menu-catégorie">6.1.3.1. Menu catégorie</a></li>
      <li><a href="#6132-ajout-dune-catégorie">6.1.3.2. Ajout d’une catégorie</a></li>
      <li><a href="#6133-information-et-modification-dune-catégorie">6.1.3.3. Information et modification d’une catégorie</a></li>
      <li><a href="#6134-suppression-dune-catégorie">6.1.3.4. Suppression d’une catégorie</a></li>
      </ul></li>
      <li><a href="#614-produits">6.1.4. Produits</a>
      <ul>
      <li><a href="#6141-information-produit">6.1.4.1. Information produit</a></li>
      <li><a href="#6142-ajout-dun-produit">6.1.4.2. Ajout d’un produit</a></li>
      <li><a href="#6143-modifier-un-produit">6.1.4.3. Modifier un produit</a></li>
      <li><a href="#6144-supprimer-un-produit">6.1.4.4. Supprimer un produit</a></li>
      </ul></li>
      <li><a href="#615-menu-user">6.1.5. Menu user</a></li>
      </ul></li>
      <li><a href="#62-back-office">6.2. Back office</a></li>
      <li><a href="#63-arborescence">6.3. Arborescence</a></li>
      <li><a href="#64-aperçu-des-contenus">6.4. Aperçu des contenus</a>
      <ul>
      <li><a href="#641-charte-graphique">6.4.1. Charte graphique</a></li>
      <li><a href="#642-maquette">6.4.2. Maquette</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#7-spécifications-techniques-du-projet">7. Spécifications techniques du projet</a>
      <ul>
      <li><a href="#71-langages">7.1. Langages</a>
      <ul>
      <li><a href="#711-front-end">7.1.1. Front-end</a>
      <ul>
      <li><a href="#7111-html">7.1.1.1. HTML</a></li>
      <li><a href="#7112-css--sass">7.1.1.2. CSS / SASS</a></li>
      <li><a href="#7113-javascript">7.1.1.3. JavaScript</a></li>
      </ul></li>
      <li><a href="#712-back-end">7.1.2. Back-end</a>
      <ul>
      <li><a href="#7121-java">7.1.2.1. Java</a></li>
      <li><a href="#7122-jsp">7.1.2.2. JSP</a></li>
      <li><a href="#7123-jstl">7.1.2.3. JSTL</a></li>
      <li><a href="#7124-sql">7.1.2.4. SQL</a></li>
      </ul></li>
      <li><a href="#713-autres">7.1.3. Autres</a>
      <ul>
      <li><a href="#7131-dockerfile">7.1.3.1. Dockerfile</a></li>
      <li><a href="#7132-python">7.1.3.2. Python</a></li>
      <li><a href="#7133-shell">7.1.3.3. Shell</a></li>
      <li><a href="#7134-xml">7.1.3.4. XML</a></li>
      <li><a href="#7135-yaml">7.1.3.5. YAML</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#72-frameworks">7.2. Frameworks</a>
      <ul>
      <li><a href="#721-jaas">7.2.1. JAAS</a></li>
      <li><a href="#722-revealjs">7.2.2. reveal.js</a></li>
      </ul></li>
      <li><a href="#73-versioning-gitlabgithub">7.3. Versioning (gitlab/github)</a>
      <ul>
      <li><a href="#731-gitlab">7.3.1. GitLab</a></li>
      </ul></li>
      <li><a href="#74-sgbd-utilisé-mysqlpostgresql">7.4. SGBD utilisé (MYSQL/PostgreSQL)</a>
      <ul>
      <li><a href="#741-mariadb">7.4.1. MariaDB</a></li>
      </ul></li>
      <li><a href="#75-outils-de-maquettage">7.5. Outils de maquettage</a>
      <ul>
      <li><a href="#751-figma">7.5.1. Figma</a></li>
      <li><a href="#752-plantuml">7.5.2. PlantUML</a></li>
      </ul></li>
      <li><a href="#76-plateforme-de-développement">7.6. Plateforme de développement</a>
      <ul>
      <li><a href="#761-automatisation-de-build">7.6.1. Automatisation de build</a></li>
      <li><a href="#762-containérisation-et-services">7.6.2. Containérisation et services</a>
      <ul>
      <li><a href="#7621-docker">7.6.2.1. Docker</a></li>
      <li><a href="#7622-docker-compose">7.6.2.2. Docker Compose</a></li>
      <li><a href="#7623-docker-swarm">7.6.2.3. Docker Swarm</a></li>
      </ul></li>
      <li><a href="#763-virtualisation">7.6.3. Virtualisation</a>
      <ul>
      <li><a href="#7631-oracle-vm-virtualbox">7.6.3.1. Oracle VM Virtualbox</a></li>
      <li><a href="#7632-vmware-esxi">7.6.3.2. VMware ESXi</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#77-outils-de-conception-de-la-documentation">7.7. Outils de conception de la documentation</a>
      <ul>
      <li><a href="#771-markdown">7.7.1. Markdown</a></li>
      <li><a href="#772-javadoc">7.7.2. Javadoc</a></li>
      <li><a href="#773-plantuml">7.7.3. PlantUML</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#8-réalisations">8. Réalisations</a></li>
      <li><a href="#9-présentation-du-jeu-dessai-le-plus-représentatif">9. Présentation du jeu d’essai le plus représentatif</a></li>
      <li><a href="#10-veille-sur-les-vulnérabilités-de-sécurité">10. Veille sur les vulnérabilités de sécurité</a>
      <ul>
      <li><a href="#101-sql-injection">10.1. SQL Injection</a></li>
      </ul></li>
      <li><a href="#11-description-dune-situation-de-travail-ayant-nécessité-une-recherche">11. Description d’une situation de travail ayant nécessité une recherche</a> <!-- cSpell:enable --></li>
      </ul>
      <div style="page-break-after: always;">

      </div>
      <h2 id="liste-des-compétences-couvertes">2. Liste des compétences couvertes<!-- OK --></h2>
      <p>La liste des compétences couvertes, conformément au référentiel de certification, est la suivante:</p>
      <table>
      <colgroup>
      <col style="width: 4%" />
      <col style="width: 95%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Description</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>1</td>
      <td>Maquetter une application</td>
      </tr>
      <tr class="even">
      <td>2</td>
      <td>Développer une interface utilisateur de type desktop</td>
      </tr>
      <tr class="odd">
      <td>3</td>
      <td>Développer des composants d’accès aux données</td>
      </tr>
      <tr class="even">
      <td>4</td>
      <td>Développer la partie front-end d’une interface utilisateur web</td>
      </tr>
      <tr class="odd">
      <td>5</td>
      <td>Développer la partie back-end d’une interface utilisateur web</td>
      </tr>
      <tr class="even">
      <td>6</td>
      <td>Concevoir une base de données</td>
      </tr>
      <tr class="odd">
      <td>7</td>
      <td>Mettre en place une base de données</td>
      </tr>
      <tr class="even">
      <td>8</td>
      <td>Développer des composants dans le langage d’une base de données</td>
      </tr>
      <tr class="odd">
      <td>9</td>
      <td>Collaborer à la gestion d’un projet informatique et à l’organisation de l’environnement de développement</td>
      </tr>
      <tr class="even">
      <td>10</td>
      <td>Concevoir une application</td>
      </tr>
      <tr class="odd">
      <td>11</td>
      <td>Développer des composants métier</td>
      </tr>
      <tr class="even">
      <td>12</td>
      <td>Construire une application organisée en couches</td>
      </tr>
      <tr class="odd">
      <td>13</td>
      <td>Développer une application mobile</td>
      </tr>
      <tr class="even">
      <td>14</td>
      <td>Préparer et exécuter les plans de tests d’une application</td>
      </tr>
      <tr class="odd">
      <td>15</td>
      <td>Préparer et exécuter le déploiement d’une application</td>
      </tr>
      </tbody>
      </table>
      <div style="page-break-after: always;">

      </div>
      <h2 id="résumé-du-projet-en-anglais">3. Résumé du projet en anglais</h2>
      <div class="sourceCode" id="cb1"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="ss">  - </span>20 lignes (200-250 mots, 1200 caractères</span>
      <span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a><span class="ss">  - </span>Qui / Quoi / Où / Quand / Comment / Combien / Pourquoi)</span></code></pre></div>
      <p>Today we’re going to analyse together an explicit breakdown of a basic modern web application.</p>
      <p>For the sake of this demonstration, we’re going to assume the following:</p>
      <ul>
      <li>The client is a service company which facilitates storage management and is willing to provide his customers with a related online service.</li>
      <li>The deliverable address a specific need of simple storage management solutions for associations and small business.</li>
      <li>The resulting application is deployed online (either in the cloud or on premise), so end users can access it from anywhere.</li>
      <li>The deliverable due date is 2022 November 4th.</li>
      <li>This application is built on modern standards, and relies on multiple containerized services, that can be deployed nearly anywhere. After registering / signing-in, users can administrate with ease private collections of categories of products.</li>
      <li>The end goal is to provide users with a simple to handle storage management solution.</li>
      </ul>
      <div style="page-break-after: always;">

      </div>
      <h2 id="cahier-des-charges">4. Cahier des charges<!-- OK --></h2>
      <div class="sourceCode" id="cb2"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="ss">- </span>Contexte de l&#39;entreprise</span>
      <span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a><span class="ss">- </span>Définition du besoin</span>
      <span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="ss">- </span>Objectif du projet</span>
      <span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a><span class="ss">- </span>Description de toutes les fonctionnalités attendues</span>
      <span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="ss">- </span>Délais</span></code></pre></div>
      <h3 id="contexte-de-lentreprise">4.1. Contexte de l’entreprise<!-- OK --></h3>
      <p>Nous avons supposé pour ce projet que l’entreprise qui nous fournissait la demande de projet est une <strong>entreprise de service qui est spécialisée dans la gestion de stockage</strong> et qu’elle souhaite offrir à ses clients un service en ligne lié.</p>
      <p>Nous avons supposé que ses clients pouvaient être des <strong>associations</strong>, ou des <strong>petites entreprises</strong> (cf. <a href="#422-les-personas">personas</a>).</p>
      <h3 id="définition-du-besoin">4.2. Définition du besoin<!-- OK --></h3>
      <p>L’entreprise de service est <strong>spécialisée dans la gestion de stockage</strong> et souhaite offrir à ses clients un service en ligne correspondant.</p>
      <p>L’objectif de cette entreprise est de développer une <strong>application web simple et facile à utiliser</strong>, destinée aux associations et aux petites entreprises qui ont besoin de solutions de gestion de stockage.</p>
      <h4 id="la-méthode-qqoqcp">4.2.1. La méthode QQOQCP<!-- OK --></h4>
      <p>La méthode <strong>QQOQCP</strong> est un acronyme qui permet de mémoriser rapidement des questions « Quoi ? Qui ? Où ? Quand ? Comment ? Pourquoi ? ».</p>
      <p>Cette méthode est un outil qui permet de <strong>faciliter la résolution de problèmes</strong>. En répondant à ces questions, cela permet de cerner les enjeux et de prendre du recul sur la situation de manière à mieux raisonner et à adapter ses actions.</p>
      <table>
      <colgroup>
      <col style="width: 5%" />
      <col style="width: 94%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Description</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td><strong>Qui</strong></td>
      <td>Le client est une société de services qui facilite la gestion du stockage et est disposé à fournir à ses clients un service en ligne.</td>
      </tr>
      <tr class="even">
      <td><strong>Quoi</strong></td>
      <td>Le livrable répond à un besoin spécifique de gestion simple du stockage pour les associations et les petites entreprises.</td>
      </tr>
      <tr class="odd">
      <td><strong>Où</strong></td>
      <td>L’application résultante est déployée en ligne (dans le cloud ou sur site), de sorte que les utilisateurs finaux puissent y accéder de n’importe où.</td>
      </tr>
      <tr class="even">
      <td><strong>Quand</strong></td>
      <td>La date d’échéance du livrable est le 4 novembre 2022.</td>
      </tr>
      <tr class="odd">
      <td><strong>Comment</strong></td>
      <td>Cette application repose sur plusieurs services conteneurisés. Après l’enregistrement / la connexion, les utilisateurs peuvent administrer des collections privées de catégories de produits.</td>
      </tr>
      <tr class="even">
      <td><strong>Pourquoi</strong></td>
      <td>L’objectif final est de fournir aux utilisateurs une solution de gestion du stockage simple à prendre en main.</td>
      </tr>
      </tbody>
      </table>
      <h4 id="les-personas">4.2.2. Les Personas<!-- OK --></h4>
      <p>Les <strong>personas</strong> sont des outils d’aide à la conception et à la réalisation d’un produit ou d’un service. Ils permettent, notamment pour l’équipe de conception, de rester centrée sur les utilisateurs finaux, leurs aptitudes et leurs buts.</p>
      <p>Savoir <strong>ce que l’utilisateur final peut et veut faire</strong> est un précurseur indispensable à la bonne réalisation d’un projet.</p>
      <p>Si les comportements et les buts de <strong>plusieurs personas diffèrent trop</strong> lorsqu’il s’agit de l’utilisation d’un même produit, il convient de confectionner <strong>plusieurs produits distincts</strong> répondant au plus près aux différents utilisateurs finaux.</p>
      <p>Alors qu’un <strong>Buyer Persona</strong> est la représentation fictionnelle de votre <strong>client idéal</strong>, un Negative Persona, aussi appelé “Exclusionary Persona”, est une représentation de ceux que vous ne souhaitez pas en tant que client.</p>
      <p>Ici notre <strong>Negative Persona</strong> aurait pu être <strong>tout organisme de grande taille</strong>, comme une moyenne ou une grande entreprise par exemple, pour qui ce site de gestion de stock ne contiendrait pas assez de fonctionnalités ou de sous item.</p>
      <p>Pour ce projet, nous avons imaginé <strong>deux profils d’utilisateur</strong>, qui seraient intéressés par le site de gestion de stock :</p>
      <h5 id="marie-dubois---responsable-dans-une-association">4.2.2.1. Marie Dubois - Responsable dans une association<!-- OK --></h5>
      <table>
      <colgroup>
      <col style="width: 14%" />
      <col style="width: 85%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Informations</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Fonction</td>
      <td>Responsable de l’inventaire et du stockage dans une petite association</td>
      </tr>
      <tr class="even">
      <td>Age</td>
      <td>45</td>
      </tr>
      <tr class="odd">
      <td>Éducation</td>
      <td>Bac + 2</td>
      </tr>
      <tr class="even">
      <td>Localisation</td>
      <td>Strasbourg</td>
      </tr>
      <tr class="odd">
      <td>Revenus</td>
      <td>2000</td>
      </tr>
      <tr class="even">
      <td>Citation</td>
      <td>“La simplicité est l’ultime sophistication.” - Leonardo da Vinci</td>
      </tr>
      <tr class="odd">
      <td>Besoins</td>
      <td>Marie a besoin d’un outil de gestion de stockage, simple à utiliser, qui lui permette de gérer efficacement les inventaires de l’association et de suivre les mouvements de stock. Elle souhaite pouvoir accéder à cet outil de n’importe où et y accéder rapidement afin de pouvoir gérer l’inventaire de manière efficace.</td>
      </tr>
      <tr class="even">
      <td>Contraintes</td>
      <td>Marie a besoin d’un outil de gestion de stockage facile à utiliser pour gérer l’inventaire de l’association de manière efficace. Elle doit également pouvoir y accéder de n’importe ou et de manière rapide, afin de pouvoir gérer efficacement son temps.</td>
      </tr>
      </tbody>
      </table>
      <h5 id="mathieu-dupont---gérant">4.2.2.2. Mathieu Dupont - Gérant<!-- OK --></h5>
      <table>
      <colgroup>
      <col style="width: 14%" />
      <col style="width: 85%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Informations</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Fonction</td>
      <td>Gérant d’une petite entreprise de vente en ligne</td>
      </tr>
      <tr class="even">
      <td>Age</td>
      <td>35</td>
      </tr>
      <tr class="odd">
      <td>Éducation</td>
      <td>Bac + 5</td>
      </tr>
      <tr class="even">
      <td>Localisation</td>
      <td>Colmar</td>
      </tr>
      <tr class="odd">
      <td>Revenus</td>
      <td>2500</td>
      </tr>
      <tr class="even">
      <td>Citation</td>
      <td>“Le succès est la somme de petits efforts, répétés jour après jour.” - Robert Collier</td>
      </tr>
      <tr class="odd">
      <td>Besoins</td>
      <td>Mathieu a besoin d’un outil de gestion de stockage, qui lui permette de suivre les stocks de ses produits et de s’assurer qu’il a suffisamment de stock pour répondre à la demande de ses clients. Il souhaite pouvoir accéder à cet outil de n’importe où et y accéder rapidement afin de pouvoir gérer efficacement son entreprise.</td>
      </tr>
      <tr class="even">
      <td>Contraintes</td>
      <td>Mathieu a besoin d’un outil de gestion de stockage facile à utiliser qui lui permette de suivre les stocks de ses produits de manière efficace. Il doit également être en mesure de gérer son entreprise de n’importe où et de manière rapide afin de ne pas perdre de temps.</td>
      </tr>
      </tbody>
      </table>
      <h3 id="objectif-du-projet">4.3. Objectif du projet<!-- OK --></h3>
      <p>Les <strong>objectifs</strong> de l’entreprise de service qui développe cette application de gestion de stockage pourraient être les suivants :</p>
      <ul>
      <li>Offrir une <strong>solution de gestion de stockage simple et efficace</strong> aux associations et aux petites entreprises qui en ont besoin.</li>
      <li>Accroître la <strong>satisfaction et la fidélisation des clients</strong> en leur proposant un outil en ligne qui répond parfaitement à leurs besoins.</li>
      <li>Générer des <strong>revenus supplémentaires</strong> en proposant l’application en ligne en tant que service payant.</li>
      <li><strong>Augmenter la visibilité de l’entreprise en</strong> proposant un produit innovant et de qualité sur le marché.</li>
      </ul>
      <p>Les <strong>gains</strong> attendus pour l’entreprise de service pourraient être les suivants :</p>
      <ul>
      <li><strong>Augmentation de la base de clients</strong> grâce à la proposition d’un outil de gestion de stockage de qualité.</li>
      <li><strong>Amélioration de la réputation de l’entreprise</strong> en proposant un produit innovant et de qualité.</li>
      <li>Génération de <strong>revenus supplémentaires</strong> grâce à la vente de l’application en ligne en tant que service payant.</li>
      <li><strong>Augmentation de la productivité</strong> des clients grâce à l’utilisation de l’application de gestion de stockage.</li>
      </ul>
      <h3 id="description-de-toutes-les-fonctionnalités-attendues">4.4. Description de toutes les fonctionnalités attendues<!-- OK --></h3>
      <!-- TODO: PlantUml integration:  $feature description > $feature.puml -->
      <h4 id="inscription">4.4.1. Inscription<!-- OK --></h4>
      <h5 id="fonctionnalité-inscription">4.4.1.1. Fonctionnalité : Inscription<!-- OK --></h5>
      <p><em>“En tant que futur utilisateur je veux pouvoir m’inscrire, afin de me créer un compte et de pouvoir accéder aux fonctionnalités du site.”</em></p>
      <p><strong>Scénario 1 :</strong> Tentative d’accès à la page d’inscription</p>
      <ul>
      <li>Étant donné que je n’ai pas de compte utilisateur</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que je clique sur le bouton s’inscrire</li>
      <li>Alors j’accède à la page d’inscription</li>
      <li>Et je suis redirigé sur la page d’inscription</li>
      </ul>
      <p><strong>Scénario 2 :</strong> Tentative d’inscription depuis la page d’inscription en rentrant tous les champs demandés</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs demandés</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors je suis inscrit</li>
      <li>Et je suis redirigé sur la page d’ajout d’une catégorie de mon compte</li>
      </ul>
      <p><strong>Scénario 3 :</strong> Tentative d’inscription depuis la page d’inscription en rentrant tous les champs obligatoires</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs demandés</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors je suis inscrit</li>
      <li>Et je suis redirigé sur la page d’ajout d’une catégorie de mon compte</li>
      </ul>
      <p><strong>Scénario 4 :</strong> Tentative d’inscription en omettant un champ obligatoire</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’omet un champ obligatoire</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors une erreur s’inscrit en dessous du champ obligatoire</li>
      <li>Et je reste sur la page d’inscription</li>
      </ul>
      <p><strong>Scénario 5 :</strong> Tentative d’inscription en omettant un email déjà valide</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique un email déjà valide</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors une erreur s’inscrit en dessous du champ email</li>
      <li>Et je reste sur la page d’inscription</li>
      </ul>
      <p><strong>Scénario 6 :</strong> Tentative d’inscription en ne respectant pas les consignes de création du mot de passe</p>
      <ul>
      <li>Étant donné que j’accède à la page d’inscription</li>
      <li>Et que je souhaite m’inscrire</li>
      <li>Et que j’indique les champs obligatoires/demandés</li>
      <li>Et que je ne respecte pas les consignes de création du mot de passe</li>
      <li>Et que j’appuie sur le bouton “s’inscrire”</li>
      <li>Alors une erreur s’inscrit en dessous du mot de passe</li>
      <li>Et je reste sur la page d’inscription</li>
      </ul>
      <h4 id="authentification">4.4.2. Authentification<!-- OK --></h4>
      <h5 id="fonctionnalité-authentification">4.4.2.1. Fonctionnalité : Authentification<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur je veux pouvoir m’authentifier, afin d’accéder à mon compte.”</em></p>
      <p><strong>Scénario 1 :</strong> Tentative d’authentification d’un compte valide</p>
      <ul>
      <li>Étant donné que je dispose d’un compte utilisateur attaché a mon adresse email</li>
      <li>Quand j’accède à la page d’accueil du site</li>
      <li>Et je saisis mon email dans le champ email</li>
      <li>Et que je saisis mon mot de passe dans le champ mot de passe</li>
      <li>Et que je clique sur le bouton “connexion” du formulaire</li>
      <li>Alors je suis authentifié sur le site</li>
      <li>Et je suis redirigé vers la page d’accueil</li>
      </ul>
      <p><strong>Scénario 2 :</strong> Tentative d’authentification sans compte utilisateur</p>
      <ul>
      <li>Étant donné que je ne dispose pas d’un compte utilisateur</li>
      <li>Et que je saisi une adresse mail non valide dans le champ email</li>
      <li>Et que je saisi un mot de passe non valide dans le champ mot de passe</li>
      <li>Et que je clique sur le bouton “connexion” du formulaire</li>
      <li>Alors le site m’affiche un message d’erreur me disant que mon email ou mon mot de passe ne correspondent pas à un compte utilisateur</li>
      <li>Et je reste sur la page d’accueil du site</li>
      </ul>
      <p><strong>Scénario 3 :</strong> Tentative d’authentification avec un compte valide mais une erreur dans le champ email</p>
      <ul>
      <li>Étant donné que je dispose d’un compte utilisateur</li>
      <li>Et que je saisi une adresse mail non valide dans le champ email</li>
      <li>Et que je saisi un mot de passe valide dans le champ mot de passe</li>
      <li>Et que je clique sur le bouton “connexion” du formulaire</li>
      <li>Alors le site m’affiche un message d’erreur me disant que mon email ou mon mot de passe ne correspondent pas à un compte utilisateur</li>
      <li>Et je reste sur la page d’accueil du site</li>
      </ul>
      <p><strong>Scénario 4 :</strong> Tentative d’authentification avec un compte valide mais une erreur dans le champ mot de passe</p>
      <ul>
      <li>Étant donné que je dispose d’un compte utilisateur</li>
      <li>Et que je saisi mon email valide dans le champs email</li>
      <li>Et que je saisi un mot de passe non valide dans le champ mot de passe</li>
      <li>Et que je clique sur le bouton “connexion” du formulaire</li>
      <li>Alors le site m’affiche un message d’erreur me disant que mon mon mot de passe est erroné</li>
      </ul>
      <h4 id="catégorie">4.4.3. Catégorie<!-- OK --></h4>
      <h5 id="fonctionnalité-ajouter-une-catégorie">4.4.3.1. Fonctionnalité: Ajouter une catégorie<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux ajouter une catégorie afin de pouvoir la gérer (modifier, supprimer, info).”</em></p>
      <p><strong>Scénario 1 :</strong> Ajouter une catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page d’accueil de mon compte</li>
      <li>Et que j’appuie sur le bouton ajouter une catégorie</li>
      <li>Alors j’ajoute une catégorie</li>
      <li>Et je suis redirigé sur la page info de la catégorie</li>
      </ul>
      <h5 id="fonctionnalité-supprimer-une-catégorie">4.4.3.2. Fonctionnalité: Supprimer une catégorie<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux supprimer une catégorie car je n’en ai plus besoin.”</em></p>
      <p><strong>Scénario 1 :</strong> Supprimer une catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page info d’une catégorie</li>
      <li>Et qu’elle ne contient pas de produit</li>
      <li>Et que j’appuie sur le bouton supprimer la catégorie</li>
      <li>Alors je supprime la catégorie</li>
      <li>Et je suis redirigé sur la page d’accueil de mon compte</li>
      </ul>
      <h5 id="fonctionnalité-modifier-une-catégorie">4.4.3.3. Fonctionnalité: Modifier une catégorie<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux pouvoir modifier une catégorie afin de la faire évoluer en fonction des mes besoins.”</em></p>
      <p><strong>Scénario 1 :</strong> Modifier le nom de ma catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page d’information d’une catégorie</li>
      <li>Et que je clique sur le nom de la catégorie</li>
      <li>Et que je change celui-ci</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j’ai modifié le nom de ma catégorie</li>
      <li>Et je suis redirigé vers la page d’information de cette catégorie (qui a été mise à jour)</li>
      </ul>
      <p><strong>Scénario 2 :</strong> Modifier la description de ma catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page d’information d’une catégorie</li>
      <li>Et que je clique sur la description de la catégorie</li>
      <li>Et que je change celle-ci</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j’ai modifié le nom de ma catégorie</li>
      <li>Et je suis redirigé vers la page d’information de cette catégorie (qui a été mise à jour)</li>
      </ul>
      <h5 id="fonctionnalité-accéder-aux-informations-dune-catégorie">4.4.3.4. Fonctionnalité: Accéder aux informations d’une catégorie<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux pouvoir accéder aux informations de mes catégories afin d’y voir les différents types de produit.”</em></p>
      <p><strong>Scénario 1 :</strong> Accéder aux informations d’une catégorie depuis le menu</p>
      <ul>
      <li>Étant donné que j’accède à n’importe quel page de mon compte (accueil, info catégorie, info produit)</li>
      <li>Et que je clique sur la catégorie qui m’intéresse (afficher dans le menu)</li>
      <li>Alors j’accède à la page info de cette catégorie</li>
      <li>Et je suis redirigé2 vers la page info de celle-ci</li>
      </ul>
      <h4 id="produit">4.4.4. Produit<!-- OK --></h4>
      <h5 id="fonctionnalité-ajouter-un-produit">4.4.4.1. Fonctionnalité: Ajouter un produit<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux ajouter un produit afin de pouvoir la gérer (modifier, supprimer,info).”</em></p>
      <p><strong>Scénario 1:</strong> Ajouter un produit depuis une page info catégorie</p>
      <ul>
      <li>Étant donné que j’accède à la page info d’une catégorie</li>
      <li>Et que je clique sur le bouton ajouter un produit</li>
      <li>Alors j’ajoute un produit</li>
      <li>Et je suis redirigé vers la page info du produit</li>
      </ul>
      <h5 id="fonctionnalité-modifier-un-produit">4.4.4.2. Fonctionnalité: Modifier un produit<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux pouvoir modifier un produit afin de la faire évoluer en fonction des mes besoins.”</em></p>
      <p><strong>Scénario 1:</strong> Modifier un produit depuis une page info produit</p>
      <ul>
      <li>Étant donné que j’accède à la page info du produit</li>
      <li>Et que je clique sur l’information que je veux modifier</li>
      <li>Et que je clique sur le bouton valider les modifications</li>
      <li>Alors j’ai modifié le produit</li>
      <li>Et je reste sur la page info du produit (mis à jour)</li>
      </ul>
      <h5 id="fonctionnalité-supprimer-un-produit">4.4.4.3. Fonctionnalité: Supprimer un produit<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux supprimer un produit car je n’en ai plus besoin.”</em></p>
      <p><strong>Scénario 1:</strong> Supprimer un produit depuis une page info produit</p>
      <ul>
      <li>Étant donné que j’accède à la page information du produit</li>
      <li>Et que je clique sur le bouton suppression du produit</li>
      <li>Et que la fenêtre de validation de la suppression du produit s’affiche</li>
      <li>Et que je clique sur le bouton valider la suppression</li>
      <li>Alors je supprime un produit</li>
      <li>Et je suis redirigé sur la page info catégorie qui contenait le produit</li>
      </ul>
      <h5 id="fonctionnalité-accéder-aux-informations-dun-produit">4.4.4.4. Fonctionnalité: Accéder aux informations d’un produit<!-- OK --></h5>
      <p><em>“En tant qu’utilisateur, je veux pouvoir accéder au informations de mes produits afin d’y relever les différentes valeurs.”</em></p>
      <p><strong>Scénario 1:</strong> Accéder aux informations d’un produit depuis la page information de la catégorie contenant le produit</p>
      <ul>
      <li>Étant donné que j’accède à la page information d’une catégorie</li>
      <li>Et que je clique sur le produit dont je veux les informations</li>
      <li>Alors j’accède à ces informations</li>
      <li>Et je suis redirigé sur la page information de ce produit</li>
      </ul>
      <p><strong>Scénario 2:</strong> Accéder aux informations d’un produit depuis la barre de recherche en écrivant le nom d’un produit</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris le nom d’un produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Et que j’accède à la page m’indiquant les produits trouvé selon ma recherche</li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j’accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
      </ul>
      <p><strong>Scénario 3:</strong> Accéder aux informations d’un produit depuis la barre de recherche en écrivant la référence d’un produit</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris la référence d’un produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Et que j’accède à la page m’indiquant les produits trouvé selon ma recherche</li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j’accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
      </ul>
      <p><strong>Scénario 4:</strong> Accéder aux informations d’un produit depuis la barre de recherche en écrivant le début du nom (1 lettre obligatoire)</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris au minimum la première lettre du nom de mon produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Et que j’accède à la page m’indiquant les produits trouvé selon ma recherche</li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j’accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
      </ul>
      <p><strong>Scénario 5:</strong> Accéder aux informations d’un produit depuis la barre de recherche en écrivant le début de la référence d’un produit (1 lettre/chiffre obligatoire)</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris au minimum la première lettre/chiffre de la référence de mon produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Et que j’accède à la page m’indiquant les produits trouvé selon ma recherche</li>
      <li>Et que je clique sur le produit voulu</li>
      <li>Alors j’accède à la page information du produit</li>
      <li>Et je suis redirigé sur la page information du produit</li>
      </ul>
      <p><strong>Scénario 6:</strong> Échec d’accès aux informations d’un produit depuis la barre de recherche</p>
      <ul>
      <li>Étant donné que je suis sur n’importe quel page de mon compte utilisateur</li>
      <li>Et que je clique sur la barre de recherche</li>
      <li>Et que j’écris au minimum la première lettre/chiffre du nom ou référence de mon produit</li>
      <li>Et que je clique sur la touche entrée de mon clavier</li>
      <li>Mais que je me suis trompé en écrivant/ou que mon produit n’existe pas</li>
      <li>Et qu’un message d’erreur s’affiche dans une fenêtre</li>
      <li>Et que je clique sur ok</li>
      <li>Et je reste sur la page où j’étais avant mon action</li>
      </ul>
      <h3 id="délais">4.5. Délais<!-- OK --></h3>
      <p>La date prévisionnelle de remise du livrable est fixée au <strong>4 novembre 2022</strong>.</p>
      <div style="page-break-after: always;">

      </div>
      <h2 id="gestion-de-projet">5. Gestion de projet<!-- OK --></h2>
      <div class="sourceCode" id="cb3"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="ss">- </span>Planning et suivi</span>
      <span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="ss">- </span>Environnement humain et technique</span>
      <span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a><span class="ss">- </span>Objectif qualité</span></code></pre></div>
      <p>Pour la gestion du projet, nous avons utilisé une <strong>méthode Agile</strong>.</p>
      <p>La méthode Agile se concentre sur la flexibilité et la collaboration pour <strong>livrer rapidement</strong> en répondant aux besoins changeants des clients, en utilisant des <strong>itérations courtes</strong> et une <strong>communication efficace</strong>.</p>
      <ul>
      <li><strong>Besoin et attentes du client</strong> sont la priorité principale.</li>
      <li><strong>Adaptation</strong> rapide aux changements.</li>
      <li><strong>Livraison fréquente</strong> pour obtenir un feedback rapide.</li>
      <li><strong>Travail en équipe</strong> (équipe de développement, parties prenantes, clients).</li>
      <li><strong>Individus et interactions</strong> plus importants que les processus et les outils.</li>
      <li><strong>Logiciel opérationnel</strong> plutôt qu’exhaustif.</li>
      <li><strong>Approche de face-à-face</strong> pour une communication efficace.</li>
      <li><strong>Suivi de l’avancement</strong> concret et visuel.</li>
      <li><strong>Amélioration continue</strong> pour augmenter la qualité et la productivité.</li>
      </ul>
      <h3 id="planning-et-suivi">5.1. Planning et suivi<!-- OK --></h3>
      <p>Pour le planning et le suivi utilisé la méthode Agile <strong>Scrum</strong>. Elle se base sur des itérations courtes appelées <strong>sprints</strong>, dans lesquelles les membres de l’équipe sont cross-fonctionnels et auto-organisés.</p>
      <p>Nous avons choisi pour ce faire d’utiliser <strong>Trello</strong> (ref. <a href="https://trello.com">Trello</a>). Nous y avons mis le <strong>détail des fonctionnalités</strong> et pour chaque fonctionnalité une <strong>check list</strong> à remplir contenant :</p>
      <ul>
      <li>Maquettage</li>
      <li>Front-end</li>
      <li>Back-end</li>
      <li>Test unitaire</li>
      <li>Test fonctionnel</li>
      </ul>
      <p>Nous nous sommes réparti les tâches en début de projet. Nous avons ensuite réalisé quotidiennement une <strong>réunion de synchronisation</strong> (Daily scrum en anglais) afin de planifier les tâches de la journée, et d’échanger sur celles de la veille. Nous avons fréquemment eu de courtes <strong>réunions de collaboration</strong> sur l’ensemble du projet (gestion du Backlog, rétrospective, amélioration de processus, projection et planification…).</p>
      <h3 id="environnement-humain-et-technique">5.2. Environnement humain et technique<!-- OK --></h3>
      <h4 id="environnement-humain">5.2.1. Environnement humain<!-- OK --></h4>
      <p>Ce projet a été réalisé dans son intégralité par <strong>Thibault HULAUX</strong> et <strong>Lylou PONSING</strong>.</p>
      <h4 id="environnement-technique">5.2.2. Environnement technique<!-- OK --></h4>
      <p>Pour ce projet, nous avons bénéficié chacun du prêt d’un ordinateur ASUS ExpertBook en tant que station principale de développement :</p>
      <p><strong>ASUS ExpertBook - station de développement Windows</strong></p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 5%" />
      <col style="width: 94%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Caractéristiques techniques</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>CPU</td>
      <td>quad-core Intel Core i7-1165GZ 64-bit @ 2.8GHz</td>
      </tr>
      <tr class="even">
      <td>RAM</td>
      <td>8GB DDR4</td>
      </tr>
      <tr class="odd">
      <td>Connectivity</td>
      <td>Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 3 USB 3.0 ports, USB 2.0 ports, 1 HDMI port (up to 4kp60 supported), 1 VGA port, 3.5mm analogue audio-video jack and a micro-SD card reader</td>
      </tr>
      <tr class="even">
      <td>Storage</td>
      <td>WDC SN530 512GB</td>
      </tr>
      <tr class="odd">
      <td>Video Output</td>
      <td>1 HDMI port (up to 4kp60 supported), 1 VGA port</td>
      </tr>
      <tr class="even">
      <td>Display</td>
      <td>15.6" Intel Iris Xe Graphics (1920 x 1080 x 60)</td>
      </tr>
      <tr class="odd">
      <td>OS</td>
      <td>Windows 10 Professionnal 64 bits</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <p>Afin de procéder à la conception des infrastructures, aux tests d’intégrations ainsi qu’aux tests de déploiement, il a également été nécessaire d’y adjoindre un couple de Raspberry Pi :</p>
      <p><strong>Raspberry Pi 4 - serveur polyvalent (docker engine, gitlab-runner, VMware ESXi)</strong></p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 5%" />
      <col style="width: 94%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Caractéristiques techniques</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>CPU</td>
      <td>Broadcom BCM2711, quad-core Cortex-A72 (ARM v8) 64-bit SoC @ 1.5GHz</td>
      </tr>
      <tr class="even">
      <td>RAM</td>
      <td>4GB LPDDR4-3200 SDRAM</td>
      </tr>
      <tr class="odd">
      <td>Connectivity</td>
      <td>Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 2 USB 3.0 ports, 2 USB 2.0 ports, 2 micro-HDMI ports (up to 4kp60 supported), 3.5mm analogue audio-video jack, and a 40-pin GPIO header</td>
      </tr>
      <tr class="even">
      <td>Storage</td>
      <td>microSD card slot for loading operating system and data storage</td>
      </tr>
      <tr class="odd">
      <td>Video Output</td>
      <td>2 micro-HDMI ports (up to 4kp60 supported), 2-lane MIPI DSI display port, 2-lane MIPI CSI camera port, 4-pole stereo audio and composite video port</td>
      </tr>
      <tr class="even">
      <td>Power</td>
      <td>5V DC via USB-C connector (minimum 3A<em>), GPIO header (minimum 3A</em>), or PoE (enabled with separate PoE HAT)</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <p><strong>Raspberry Pi 400 - station de développement Linux</strong></p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 5%" />
      <col style="width: 94%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Caractéristiques techniques</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>CPU</td>
      <td>Broadcom BCM2711, quad-core Cortex-A72 (ARM v8) 64-bit SoC @ 1.8GHz</td>
      </tr>
      <tr class="even">
      <td>RAM</td>
      <td>4GB LPDDR4-3200 SDRAM</td>
      </tr>
      <tr class="odd">
      <td>Connectivity</td>
      <td>Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, BLE, 2 USB 3.0 ports, 2 USB 2.0 ports, 2 micro-HDMI ports (up to 4kp60 supported), 3.5mm analogue audio-video jack, and a 40-pin GPIO header</td>
      </tr>
      <tr class="even">
      <td>Storage</td>
      <td>microSD card slot for loading operating system and data storage</td>
      </tr>
      <tr class="odd">
      <td>Video Output</td>
      <td>2 micro-HDMI ports (up to 4kp60 supported), 2-lane MIPI DSI display port, 2-lane MIPI CSI camera port, 4-pole stereo audio and composite video port</td>
      </tr>
      <tr class="even">
      <td>Power</td>
      <td>5V DC via USB-C connector (minimum 3A<em>), GPIO header (minimum 3A</em>), or PoE (enabled with separate PoE HAT)</td>
      </tr>
      <tr class="odd">
      <td>Keyboard</td>
      <td>78 key compact keyboard with a US layout</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <p>Par soucis d’exhaustivité, nous avons également intégré à l’environnement technique une station de développement Mac OS :</p>
      <p><strong>MacBook Pro - station de développement Mac OS</strong></p>
      <!-- cSpell:disable -->
      <table>
      <colgroup>
      <col style="width: 8%" />
      <col style="width: 91%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Caractéristiques techniques</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>CPU</td>
      <td>6-core Intel Core i7 with base clock speed of 2.2GHz and turbo boost up to 4.8GHz</td>
      </tr>
      <tr class="even">
      <td>RAM</td>
      <td>16GB of DDR4 RAM</td>
      </tr>
      <tr class="odd">
      <td>Connectivity</td>
      <td>Gigabit Ethernet, dual-band 802.11ac wireless, Bluetooth 5.0, Four Thunderbolt 3 ports, 3.5mm headphone jack, SDXC card slot</td>
      </tr>
      <tr class="even">
      <td>Storage</td>
      <td>1TB solid-state drive (SSD)</td>
      </tr>
      <tr class="odd">
      <td>Display</td>
      <td>15.4-inch Retina display with a resolution of 2880 x 1800 pixels</td>
      </tr>
      <tr class="even">
      <td>Graphics</td>
      <td>Radeon Pro 555X with 4GB of GDDR5 memory</td>
      </tr>
      <tr class="odd">
      <td>OS</td>
      <td>MacOS Monterey (version 10.15)</td>
      </tr>
      </tbody>
      </table>
      <!-- cSpell:enable -->
      <p>En dehors de ces éléments matériels, <strong>l’ensemble du projet a été réalisé avec la contrainte suivante : tous les outils, logiciels et hébergements doivent être utilisables gratuitement</strong>.</p>
      <p>Ceci a eu pour effet de nous interdire l’utilisation, ou de limiter fortement l’accès aux services payants des différents prestataires connexes (Amazon Web Services, Google Cloud, Azure Services, GitLab, Jira…).</p>
      <h3 id="objectif-qualité">5.3. Objectif qualité<!-- OK --></h3>
      <p>Les objectifs qualité sont:</p>
      <ul>
      <li>toutes les fonctionnalités doivent <strong>être réalisées</strong>.</li>
      <li>toutes les fonctionnalités doivent <strong>être assez simples pour être comprises par tous</strong>.</li>
      <li>toutes les fonctionnalités doivent <strong>respecter les standards de l’industrie</strong> (technologies, sécurité, fiabilité)</li>
      </ul>
      <div style="page-break-after: always;">

      </div>
      <h2 id="spécifications-fonctionnelles-du-projet">6. Spécifications fonctionnelles du projet</h2>
      <div class="sourceCode" id="cb4"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="ss">- </span>Front office</span>
      <span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a><span class="ss">- </span>Back office</span>
      <span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="ss">- </span>Arborescence</span>
      <span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a><span class="ss">- </span>Aperçu des contenus</span></code></pre></div>
      <h3 id="front-office">6.1. Front office</h3>
      <p>Ce projet contient une <strong>landing page avec une animation</strong>. Une page de <strong>connexion et d’inscription</strong>.</p>
      <p>Une fois connecté sur toutes les pages, il y aura une aside qui contient la <strong>liste des catégories</strong> créées par l’utilisateur afin qu’il puisse y accéder d’où il veut, ainsi qu’une <strong>barre de recherche</strong> afin d’accéder au produit depuis n’importe quelle page et un <strong>menu déroulant concernant l’utilisateur</strong>.</p>
      <p>Le site contient une page d’<strong>ajout de catégorie</strong>, une <strong>page informative</strong> d’une catégorie et une page de <strong>modification d’une catégorie</strong>.</p>
      <p>Sur la page informative d’une catégorie, il y a la <strong>liste des produits que contient la catégorie</strong>. Les produits sont représentés par des boutons. Si l’utilisateur <strong>clique</strong> dessus il atterrira sur la <strong>page d’information du produit</strong>. Il y aura aussi une page de <strong>modification du produit</strong> qui sera accessible à partir des informations du produit.</p>
      <h4 id="landing-page">6.1.1. Landing page<!-- OK --></h4>
      <p>La landing page a une <strong>interface stylisée différemment</strong> du reste du site. Une landing page se doit d’être attractive et de pousser l’utilisateur à utiliser le produit ou le service qu’elle essaie de vendre.</p>
      <p>Pour la landing page, nous avons fait le choix de faire une <strong>animation qui s’active une fois</strong> au lancement de la page.</p>
      <p>Cette animation comporte trois boîtes qui s’ouvrent et qui se referment. Pendant que la boite s’ouvre, il y a 4 petites boîtes qui descendent jusqu’à se retrouver dans les grandes boîtes. Les grandes boîtes symbolisent les catégories et les petites boîtes symbolisent les produits.</p>
      <p>Sur la landing page l’utilisateur peut <strong>accéder aux espaces d’inscription et de connexion</strong>.</p>
      <h4 id="inscription-et-connexion">6.1.2. Inscription et connexion<!-- OK --></h4>
      <p>Les espaces de connexion et d’inscription sont accessibles à partir du <strong>header de la landing page</strong>. Comme fait conventionnellement, tout à droite on retrouve en premier l’inscription et ensuite la connexion.</p>
      <p>La page de connexion contient le label : email avec son input, ainsi que le label : mot de passe avec son input.</p>
      <p>Sur la landing page, l’utilisateur peut cliquer sur <strong>se connecter</strong> et à gauche <strong>s’inscrire</strong>.</p>
      <h4 id="catégories">6.1.3. Catégories<!-- OK --></h4>
      <h5 id="menu-catégorie">6.1.3.1. Menu catégorie<!-- OK --></h5>
      <p>Une fois connecté, l’utilisateur aura accès à un <strong>menu disposé à gauche de l’interface</strong> et qui sera <strong>disponible sur toutes les pages</strong> du site.</p>
      <p>Ce menu contient une <strong>liste des catégories</strong> que l’utilisateur aura créé au préalable. Pour chaque catégorie, un lien sera créé avec comme valeur le nom que l’utilisateur lui aura donné.</p>
      <p>Au survol du bouton, le bouton changera de couleur afin d’indiquer à l’utilisateur qu’il s’agit d’un lien cliquable. Ce lien dirige vers la <strong>page informative de la catégorie</strong>.</p>
      <h5 id="ajout-dune-catégorie">6.1.3.2. Ajout d’une catégorie<!-- OK --></h5>
      <p>Quand l’utilisateur se sera connecté, la première page du site auquel il aura accès est la page d’ajout d’une catégorie.</p>
      <p>Sur cette page, l’utilisateur devra <strong>indiquer le nom de la catégorie ainsi que sa description</strong> puis il devra ajouter la catégorie en cliquant sur le bouton correspondant.</p>
      <p>Lorsque l’utilisateur ajoute une catégorie, elle est <strong>directement visible dans le menu catégorie</strong>.</p>
      <h5 id="information-et-modification-dune-catégorie">6.1.3.3. Information et modification d’une catégorie<!-- OK --></h5>
      <p>Une fois que l’utilisateur a accès à la page informative de la catégorie, il peut cliquer sur le bouton modifier la catégorie. En cliquant sur ce bouton l’utilisateur est redirigé vers la page de <strong>modification de la catégorie</strong>. Il peut <strong>modifier les champs <code>nom</code> et <code>description</code></strong> et pour valider les modifications, l’utilisateur devra cliquer sur le bouton <strong>valider les modifications</strong>.</p>
      <h5 id="suppression-dune-catégorie">6.1.3.4. Suppression d’une catégorie<!-- OK --></h5>
      <p>Sur la <strong>page de modification de la catégorie</strong>, l’utilisateur devra <strong>cliquer sur supprimer</strong> pour supprimer la catégorie.</p>
      <h4 id="produits">6.1.4. Produits<!-- OK --></h4>
      <h5 id="information-produit">6.1.4.1. Information produit<!-- OK --></h5>
      <p>L’utilisateur peut accéder aux informations d’un produit de deux manières :</p>
      <ul>
      <li>Quand l’utilisateur arrive sur la <strong>page d’information d’une catégorie</strong>, il y a la liste des produits qui sont affichés. Si l’utilisateur <strong>clique sur le bouton indiquant le nom du produit</strong>, il est redirigé vers la page d’information du produit.</li>
      <li>Quand l’utilisateur recherche un produit, <strong>depuis la barre de recherche</strong>, il obtient une liste de produits correspondant à sa recherche. Si l’utilisateur <strong>clique sur un produit souhaité</strong> il atterrira sur la page d’information du produit.</li>
      </ul>
      <h5 id="ajout-dun-produit">6.1.4.2. Ajout d’un produit<!-- OK --></h5>
      <p>Sur la <strong>page d’information de la catégorie</strong> contenant la liste des produits de celle-ci, si l’utilisateur clique sur ajouter un produit, il atterrira sur la page d’édition du produit.</p>
      <p>Il devra <strong>remplir les champs</strong> et appuyer sur le bouton ajouter pour <strong>valider l’ajout du produit</strong>.</p>
      <h5 id="modifier-un-produit">6.1.4.3. Modifier un produit<!-- OK --></h5>
      <p>Pour modifier le produit, l’utilisateur devra cliquer sur le bouton <strong>modifier le produit sur la page d’information du produit.</strong></p>
      <p>Il sera redirigé vers la page de modification du produit, dans laquelle il pourra modifier les champs et <strong>valider les modifications</strong>.</p>
      <h5 id="supprimer-un-produit">6.1.4.4. Supprimer un produit<!-- OK --></h5>
      <p>Sur la <strong>page de modification d’un produit</strong>, l’utilisateur peut <strong>cliquer sur supprimer</strong> le produit pour supprimer le produit.</p>
      <h4 id="menu-user">6.1.5. Menu user<!-- CHECK --></h4>
      <p>Une fois l’utilisateur <strong>connecté</strong>, il pourra accéder au <strong>menu user</strong>. L’utilisateur devra <strong>cliquer sur le user ou son symbole</strong>. A partir de là un <strong>menu déroulant</strong> s’abaisse et l’utilisateur peut cliquer sur : modification du profil, modification du mot de passe ou déconnexion.</p>
      <h3 id="back-office">6.2. Back office<!-- CHECK --></h3>
      <p>La partie admin de notre site de gestion de stock est conçue pour faciliter la gestion des données de l’application. Elle est accessible uniquement aux utilisateurs ayant le rôle “admin” (ou “dev” dans notre cas) et offre une vue complète des entrées de la table de stock.</p>
      <p>L’interface utilisateur affiche les entrées de manière dynamique dans un tableau, avec des boutons “éditer” et “supprimer” pour chaque entrée. Cela permet aux utilisateurs de facilement mettre à jour ou supprimer les entrées de la table de stock.</p>
      <p>En outre, la partie admin liste également toutes les clés de la table de stock et des tables jointes, ce qui permet aux utilisateurs de facilement identifier les relations entre les différentes données de l’application.</p>
      <p>Enfin, en bas de l’interface, il y a une ligne de saisie pour permettre aux utilisateurs d’ajouter de nouvelles entrées à la table de stock.</p>
      <p>Le système est conçu pour être extensible. Ainsi, d’autres rôles pourraient par la suite être rajoutés ainsi que d’autres fonctionnalités. Cela inclut des fonctionnalités comme la gestion des utilisateurs, des rapports, des alertes, etc.</p>
      <h3 id="arborescence">6.3. Arborescence<!-- CHECK --></h3>
      <p>Le diagramme de flux est utile dans la création de nouveaux processus métiers. Il permet d’identifier les éléments clés et de définir clairement le début et la fin. Modéliser un processus permet de gagner en qualité et en efficacité.</p>
      <figure>
      <img src="img/nofile.png" alt="" /><figcaption>Use case diagram</figcaption>
      </figure>
      <h3 id="aperçu-des-contenus">6.4. Aperçu des contenus<!-- CHECK --></h3>
      <h4 id="charte-graphique">6.4.1. Charte graphique</h4>
      <p><strong>Référence :</strong></p>
      <table>
      <colgroup>
      <col style="width: 67%" />
      <col style="width: 32%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th></th>
      <th>Couleur</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Fond du site</td>
      <td>#f7f7f7<font color="#f7f7f7">#</font></td>
      </tr>
      <tr class="even">
      <td>Aside et menu utilisateur</td>
      <td>#151515<font color="#151515">#</font></td>
      </tr>
      <tr class="odd">
      <td>Éléments de la barre de recherche, de l’aside et du menu utilisateur (:hover)</td>
      <td>#0e2b9e<font color="#0e2b9e">#</font></td>
      </tr>
      <tr class="even">
      <td>Couleur pour la validation</td>
      <td>#7feb15<font color="#7feb15">#</font></td>
      </tr>
      <tr class="odd">
      <td>Couleur pour la suppression</td>
      <td>#eb6a44<font color="#eb6a44">#</font></td>
      </tr>
      <tr class="even">
      <td>Couleur pour naviguer vers la page d’information des produits et catégories</td>
      <td>#2c52eb<font color="#2c52eb">#</font></td>
      </tr>
      <tr class="odd">
      <td>Couleur pour naviguer vers la page de mise à jour des produits et catégories</td>
      <td>#0e2b9e<font color="#0e2b9e">#</font></td>
      </tr>
      </tbody>
      </table>
      <p><strong>Explication :</strong></p>
      <p>La couleur choisie pour le fond du site (#f7f7f7) est une couleur claire qui apporte de la luminosité et une sensation de propreté. Elle permet également de mettre en avant les autres éléments de la page. La couleur choisie pour l’aside et le menu utilisateur (#151515) est une couleur foncée qui apporte de la profondeur et un contraste avec le fond du site. Elle permet également de mettre en avant les éléments importants de ces zones. La pseudo-classe :hover pour les éléments de la barre de recherche et les éléments de l’aside et du menu utilisateur est définie à #0e2b9e, une couleur bleue qui apporte une touche de dynamisme et de modernité. Elle permet également de mettre en avant les actions possibles pour l’utilisateur lorsqu’il survole ces éléments avec sa souris. La couleur pour la validation est #7feb15, une couleur verte qui apporte une touche de confirmation et de sécurité. Elle permet également de montrer clairement que l’action est effective. La couleur pour la suppression est #eb6a44, une couleur orange qui apporte une touche d’urgence et d’attention. Elle permet également de mettre en avant les actions les plus importantes pour l’utilisateur. La couleur pour naviguer vers la page d’information des produits et catégories est #2c52eb, une couleur bleue qui permet de montrer clairement la différence entre cette action et celle de mise à jour. La couleur pour naviguer vers la page de mise à jour des produits et catégories est #0e2b9e, une couleur bleue qui permet de montrer clairement la différence entre cette action et celle de consultation.</p>
      <h4 id="maquette">6.4.2. Maquette</h4>
      <p>Une maquette est un outil graphique utilisé pour prévisualiser l’apparence d’un site web ou d’une application avant sa mise en production. Il s’agit d’une représentation simplifiée de la structure et de la mise en page d’un site, qui permet de visualiser les éléments qui seront visibles sur toutes les pages.</p>
      <figure>
      <img src="img/mockup-auth.png" alt="" /><figcaption>welcome</figcaption>
      </figure>
      <p>Cette maquette représente la page d’authentification du site. Le body de la maquette est conçu avec un fondu dégradé allant du blanc au bleu clair pour donner un look élégant et moderne.</p>
      <p>Le header comprend un logo de l’application, un bouton d’inscription et un bouton de connexion. Le logo est placé à gauche du header et les boutons d’inscription et de connexion sont placés à droite.</p>
      <p>Sous le header, il y a un formulaire de connexion qui comprend des champs pour saisir l’adresse email et le mot de passe de l’utilisateur. Les champs sont bien espacés et clairement étiquetés pour une utilisation facile. Il y a également des boutons d’inscription et de connexion pour permettre à l’utilisateur de s’inscrire ou de se connecter.</p>
      <p>Les formulaires sur les pages de connexion et d’inscription ont un fond transparent pour permettre de voir le dégradé en arrière-plan et sont mis en valeur avec une bordure et une ombre qui les fait ressortir.</p>
      <figure>
      <img src="img/mockup-desktop.png" alt="" /><figcaption>desktop</figcaption>
      </figure>
      <p>Dans la maquette ci-dessus, les éléments présents sur toutes les pages pour les utilisateurs connectés incluent un header avec le logo de l’entreprise et un menu de navigation, un aside avec un menu utilisateur pour gérer les produits et catégories, un footer avec des liens vers l’aide, les mentions légales et les coordonnées de l’entreprise, et une barre de recherche pour chercher des produits spécifiques.</p>
      <p>Avantage figma :</p>
      <p>Pour une bonne pratique de design dans Figma, il est conseillé de créer des frames avec des noms correspondant à leur contenu, de disposer les éléments de la page (header, footer, etc.) pour une meilleure visualisation de l’espace utilisé, de nommer les formes en fonction de ce qu’elles représentent et de les transformer en composants pour une réutilisation et modification facile. Il est également recommandé de créer des groupes pour organiser les éléments similaires, comme le groupe “bouton d’inscription” qui comprend une forme et un texte, ce qui permet de centrer horizontalement et/ou verticalement le texte par rapport au bouton plutôt que par rapport au frame.</p>
      <div style="page-break-after: always;">

      </div>
      <h2 id="spécifications-techniques-du-projet">7. Spécifications techniques du projet</h2>
      <div class="sourceCode" id="cb5"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="ss">  - </span>Langages</span>
      <span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a><span class="ss">  - </span>Frameworks</span>
      <span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a><span class="ss">  - </span>Versioning (gitlab/github)</span>
      <span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a><span class="ss">  - </span>SGBD utilisé (MYSQL/PostgreSQL) </span>
      <span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a><span class="ss">  - </span>Outils de maquettage</span>
      <span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a><span class="ss">  - </span>Plateforme de développement</span>
      <span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a><span class="ss">  - </span>Outils de conception de la documentation</span></code></pre></div>
      <h3 id="langages">7.1. Langages<!-- OK --></h3>
      <h4 id="front-end">7.1.1. Front-end<!-- OK --></h4>
      <p>Nous avons choisi d’utiliser HTML, CSS et JavaScript pour développer le front-end de l’application pour les raisons suivantes :</p>
      <ul>
      <li><strong>Accessibilité</strong> : HTML est utilisé pour structurer le contenu de l’application, ce qui facilite l’accessibilité pour les utilisateurs avec des besoins spécifiques. CSS permet de séparer la présentation de la structure, ce qui facilite la mise en forme et la personnalisation de l’apparence.</li>
      <li><strong>Support du navigateur</strong> : HTML, CSS et JavaScript sont des technologies largement supportées par les navigateurs web, ce qui permet de déployer l’application sur une large gamme de plateformes et de navigateurs.</li>
      <li><strong>Interactivité</strong> : JavaScript permet de rendre l’application interactive en ajoutant des fonctionnalités telles que des formulaires, des animations et des interactions utilisateur.</li>
      <li><strong>Développement et maintenance</strong> : il existe une grande communauté de développeurs expérimentés qui travaillent avec ces technologies, il est donc facile de trouver des ressources pour le développement et la maintenance de l’application. Il existe également un grand nombre de bibliothèques et de frameworks qui facilitent le développement en HTML, CSS et JavaScript.</li>
      <li><strong>Scalabilité</strong>: Il est possible de découper le code en composants réutilisables pour améliorer la scalabilité de l’application.</li>
      </ul>
      <p>En somme, HTML, CSS et JavaScript sont des <strong>technologies éprouvées</strong> qui permettent de créer des <strong>applications web accessibles</strong>, <strong>supportées par les navigateurs</strong>, <strong>interactives</strong> et <strong>faciles à développer et maintenir</strong>. Leur combinaison permet de créer des <strong>interfaces utilisateur riches et performantes</strong>.</p>
      <h5 id="html">7.1.1.1. HTML<!-- EX --></h5>
      <p>Le <strong>HyperText Markup Language</strong>, abrégé HTML (ou HTML5 dans sa dernière version), est le langage standard conçu pour représenter des documents dans un navigateur web.</p>
      <p>C’est un <strong>langage de description</strong> de format de document qui se présente sous la forme d’un langage de balisage. Il est souvent assisté par des technologies telles que les feuilles de style en cascade (CSS) et le langage de programmation JavaScript.</p>
      <div class="sourceCode" id="cb6"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>- addexemple</span></code></pre></div>
      <h5 id="css-sass">7.1.1.2. CSS / SASS<!-- EX --></h5>
      <p>Les <strong>feuilles de style en cascade</strong>, abrégé CSS de l’anglais Cascading Style Sheets, est un <strong>langage de description</strong> de la présentation des documents HTML et XML. Les standards définissant CSS sont publiés par le World Wide Web Consortium (W3C).</p>
      <p>Le <strong>Sass</strong> (Syntactically awesome stylesheets) est un <strong>langage de script préprocesseur</strong> qui est compilé ou <strong>interprété en CSS</strong> (Cascading Style Sheets). C’est qu’on appelle un <strong>métalangage imbriqué</strong>, car un CSS valide est un SCSS valide sans modification de syntaxe.</p>
      <p>Il permet d’utiliser une syntaxe (SCSS dans sa nouvelle version) qui utilise les mêmes séparateurs de blocs que le CSS mais en fournissant les mécanismes supplémentaires suivants : variables, imbrication, mixins et héritage des sélecteurs.</p>
      <div class="sourceCode" id="cb7"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>- addexemple</span></code></pre></div>
      <h5 id="javascript">7.1.1.3. JavaScript<!-- EX --></h5>
      <p><strong>JavaScript</strong> est un <strong>langage de programmation</strong> de scripts principalement employé dans les pages web interactives et à ce titre est une partie essentielle des applications web. Il est également employé pour les serveurs Web avec l’utilisation par exemple de Node.js (Cf. <a href="#722-revealjs">reveal.js</a>).</p>
      <p>C’est un langage <strong>orienté objet à prototype</strong> : les bases du langage et ses principales interfaces sont fournies par des objets. C’est un langage extrêmement populaire, possédant le plus large écosystème grâce à son gestionnaire de dépendances npm.</p>
      <div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="op">-</span> addexemple</span></code></pre></div>
      <h4 id="back-end">7.1.2. Back-end<!-- OK --></h4>
      <p>Nous avons choisi d’utiliser Java, JSP, JSTL et SQL pour le back-end d’une application web basée sur le modèle MVC (Model-View-Controller) pour les raisons suivantes :</p>
      <ul>
      <li><strong>Robustesse</strong> : Java est un langage de programmation populaire et robuste qui offre une grande flexibilité et une forte sécurité, il est donc idéal pour construire des applications de grande envergure.</li>
      <li><strong>Plateforme indépendante</strong> : Java est une plateforme indépendante, cela permet de déployer l’application sur différentes plateformes telles que Windows, MacOS et Linux.</li>
      <li><strong>Intégration facile avec les bases de données</strong> : Java offre un accès facile aux bases de données via JDBC (Java Database Connectivity) pour gérer les données de l’application.</li>
      <li><strong>Respect du modèle</strong> : Java, JSP et JSTL sont tous compatibles avec l’architecture MVC, qui permet de séparer les différentes couches de l’application (modèle, vue et contrôleur) pour une meilleure organisation et une maintenance plus facile.</li>
      <li><strong>JSP</strong> : JSP permet de générer dynamiquement des pages web en se basant sur des modèles prédéfinis.</li>
      <li><strong>JSTL</strong> : JSTL facilite la manipulation des données dans les JSP. Il permet de définir des logiques dans les pages web, pour rendre les pages plus dynamiques.</li>
      </ul>
      <p>En somme, Java, JSP, JSTL et SQL sont des <strong>technologies éprouvées</strong> qui permettent de construire des applications web <strong>robustes</strong>, <strong>fiables</strong>, <strong>performantes</strong>, et <strong>facile à maintenir</strong>.</p>
      <p>Java permet de gérer les logiques métiers, JSP et JSTL de générer les pages web dynamiques, et SQL de gérer les données de l’application.</p>
      <p>Ces technologies sont particulièrement <strong>adaptées à une architecture MVC</strong>, et permettent de faciliter la gestion des données et la génération de pages web dynamiques.</p>
      <h5 id="java">7.1.2.1. Java<!-- OK --></h5>
      <p>Java est un <strong>langage de programmation orienté objet</strong> de haut niveau, basé sur des classes, conçu pour avoir le moins de dépendances d’implémentation possible.</p>
      <p>Une particularité de Java est que les logiciels écrits dans ce langage sont <strong>compilés vers une représentation binaire</strong> intermédiaire qui peut être <strong>exécutée dans une machine virtuelle Java</strong> (JVM) en faisant abstraction du système d’exploitation.</p>
      <p>Java permet de développer des applications client-serveur. Côté client, les applets sont à l’origine de la notoriété du langage. C’est surtout côté serveur que Java s’est imposé dans le milieu de l’entreprise grâce aux <strong>servlets</strong>, le pendant serveur des applets, et plus récemment les <strong>JSP</strong> (JavaServer Pages) qui peuvent se substituer à PHP, ASP et ASP.NET.</p>
      <p>Voici en exemple le ficher <code>CategoryInfo.java</code>, constituant une partie le code du servlet exécuté le serveur lors du traitement d’une requête sur l’url <code>/CategoryInfo</code> :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb9"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a></span>
      <span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a><span class="kw">package</span><span class="im"> servlet.category;</span></span>
      <span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a></span>
      <span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.io.IOException;</span></span>
      <span id="cb9-5"><a href="#cb9-5" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.sql.SQLException;</span></span>
      <span id="cb9-6"><a href="#cb9-6" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.util.ArrayList;</span></span>
      <span id="cb9-7"><a href="#cb9-7" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.util.List;</span></span>
      <span id="cb9-8"><a href="#cb9-8" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.util.logging.Level;</span></span>
      <span id="cb9-9"><a href="#cb9-9" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.util.logging.Logger;</span></span>
      <span id="cb9-10"><a href="#cb9-10" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.http.HttpServlet;</span></span>
      <span id="cb9-11"><a href="#cb9-11" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.http.HttpServletRequest;</span></span>
      <span id="cb9-12"><a href="#cb9-12" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.http.HttpServletResponse;</span></span>
      <span id="cb9-13"><a href="#cb9-13" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.http.HttpSession;</span></span>
      <span id="cb9-14"><a href="#cb9-14" aria-hidden="true"></a><span class="kw">import</span><span class="im"> javax.servlet.ServletException;</span></span>
      <span id="cb9-15"><a href="#cb9-15" aria-hidden="true"></a></span>
      <span id="cb9-16"><a href="#cb9-16" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.jdbc.dao.CategoryDAO;</span></span>
      <span id="cb9-17"><a href="#cb9-17" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.jdbc.dao.ProductDAO;</span></span>
      <span id="cb9-18"><a href="#cb9-18" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.model.Category;</span></span>
      <span id="cb9-19"><a href="#cb9-19" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.model.Product;</span></span>
      <span id="cb9-20"><a href="#cb9-20" aria-hidden="true"></a><span class="kw">import</span><span class="im"> app.model.User;</span></span>
      <span id="cb9-21"><a href="#cb9-21" aria-hidden="true"></a></span>
      <span id="cb9-22"><a href="#cb9-22" aria-hidden="true"></a><span class="kw">public</span> <span class="kw">class</span> CategoryInfo <span class="kw">extends</span> HttpServlet {</span>
      <span id="cb9-23"><a href="#cb9-23" aria-hidden="true"></a></span>
      <span id="cb9-24"><a href="#cb9-24" aria-hidden="true"></a>  <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> <span class="dt">long</span> serialVersionUID = <span class="dv">1L</span>;</span>
      <span id="cb9-25"><a href="#cb9-25" aria-hidden="true"></a>  <span class="kw">private</span> <span class="dt">static</span> <span class="dt">final</span> <span class="bu">Logger</span> log = <span class="bu">Logger</span>.<span class="fu">getLogger</span>(<span class="bu">Thread</span>.<span class="fu">currentThread</span>().<span class="fu">getStackTrace</span>()[<span class="dv">1</span>].<span class="fu">getClassName</span>());</span>
      <span id="cb9-26"><a href="#cb9-26" aria-hidden="true"></a></span>
      <span id="cb9-27"><a href="#cb9-27" aria-hidden="true"></a>  <span class="kw">private</span> Category category = <span class="kw">new</span> <span class="fu">Category</span>();</span>
      <span id="cb9-28"><a href="#cb9-28" aria-hidden="true"></a></span>
      <span id="cb9-29"><a href="#cb9-29" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb9-30"><a href="#cb9-30" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb9-31"><a href="#cb9-31" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb9-32"><a href="#cb9-32" aria-hidden="true"></a><span class="co">   * @see javax.servlet.GenericServlet#init()</span></span>
      <span id="cb9-33"><a href="#cb9-33" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb9-34"><a href="#cb9-34" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb9-35"><a href="#cb9-35" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">void</span> <span class="fu">init</span>() <span class="kw">throws</span> ServletException {</span>
      <span id="cb9-36"><a href="#cb9-36" aria-hidden="true"></a>    <span class="co">// Do initialization</span></span>
      <span id="cb9-37"><a href="#cb9-37" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb9-38"><a href="#cb9-38" aria-hidden="true"></a>  }</span>
      <span id="cb9-39"><a href="#cb9-39" aria-hidden="true"></a></span>
      <span id="cb9-40"><a href="#cb9-40" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb9-41"><a href="#cb9-41" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb9-42"><a href="#cb9-42" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb9-43"><a href="#cb9-43" aria-hidden="true"></a><span class="co">   * @see</span></span>
      <span id="cb9-44"><a href="#cb9-44" aria-hidden="true"></a><span class="co">   * javax.servlet.http.HttpServlet#doGet(javax.servlet.http.HttpServletRequest,</span></span>
      <span id="cb9-45"><a href="#cb9-45" aria-hidden="true"></a><span class="co">   * javax.servlet.http.HttpServletResponse)</span></span>
      <span id="cb9-46"><a href="#cb9-46" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb9-47"><a href="#cb9-47" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb9-48"><a href="#cb9-48" aria-hidden="true"></a>  <span class="kw">protected</span> <span class="dt">void</span> <span class="fu">doGet</span>(HttpServletRequest request, HttpServletResponse response)</span>
      <span id="cb9-49"><a href="#cb9-49" aria-hidden="true"></a>      <span class="kw">throws</span> ServletException, <span class="bu">IOException</span> {</span>
      <span id="cb9-50"><a href="#cb9-50" aria-hidden="true"></a></span>
      <span id="cb9-51"><a href="#cb9-51" aria-hidden="true"></a>    <span class="co">// Retrieve session</span></span>
      <span id="cb9-52"><a href="#cb9-52" aria-hidden="true"></a>    HttpSession session = request.<span class="fu">getSession</span>(<span class="kw">false</span>);</span>
      <span id="cb9-53"><a href="#cb9-53" aria-hidden="true"></a></span>
      <span id="cb9-54"><a href="#cb9-54" aria-hidden="true"></a>    <span class="co">// Retrieve user from session</span></span>
      <span id="cb9-55"><a href="#cb9-55" aria-hidden="true"></a>    User user = (User) session.<span class="fu">getAttribute</span>(<span class="st">&quot;user&quot;</span>);</span>
      <span id="cb9-56"><a href="#cb9-56" aria-hidden="true"></a></span>
      <span id="cb9-57"><a href="#cb9-57" aria-hidden="true"></a>    <span class="co">// Retrieve category from request parameter</span></span>
      <span id="cb9-58"><a href="#cb9-58" aria-hidden="true"></a>    <span class="kw">try</span> (CategoryDAO DAO = <span class="kw">new</span> <span class="fu">CategoryDAO</span>();) {</span>
      <span id="cb9-59"><a href="#cb9-59" aria-hidden="true"></a>      <span class="dt">int</span> id = <span class="bu">Integer</span>.<span class="fu">parseInt</span>(request.<span class="fu">getParameter</span>(<span class="st">&quot;categoryId&quot;</span>));</span>
      <span id="cb9-60"><a href="#cb9-60" aria-hidden="true"></a>      category = DAO.<span class="fu">getCategoryById</span>(id);</span>
      <span id="cb9-61"><a href="#cb9-61" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">SQLException</span> e) {</span>
      <span id="cb9-62"><a href="#cb9-62" aria-hidden="true"></a>      <span class="co">// </span><span class="al">TODO</span><span class="co"> Auto-generated catch block</span></span>
      <span id="cb9-63"><a href="#cb9-63" aria-hidden="true"></a>      log.<span class="fu">log</span>(<span class="bu">Level</span>.<span class="fu">SEVERE</span>, <span class="st">&quot;Error getting category&quot;</span>, e);</span>
      <span id="cb9-64"><a href="#cb9-64" aria-hidden="true"></a>      e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb9-65"><a href="#cb9-65" aria-hidden="true"></a>      category = <span class="kw">null</span>;</span>
      <span id="cb9-66"><a href="#cb9-66" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">Exception</span> e) { <span class="co">// Catch block for java.lang.AutoCloseable#close() throw.</span></span>
      <span id="cb9-67"><a href="#cb9-67" aria-hidden="true"></a>      log.<span class="fu">log</span>(<span class="bu">Level</span>.<span class="fu">SEVERE</span>, <span class="kw">null</span>, e.<span class="fu">getMessage</span>());</span>
      <span id="cb9-68"><a href="#cb9-68" aria-hidden="true"></a>      e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb9-69"><a href="#cb9-69" aria-hidden="true"></a>    }</span>
      <span id="cb9-70"><a href="#cb9-70" aria-hidden="true"></a></span>
      <span id="cb9-71"><a href="#cb9-71" aria-hidden="true"></a>    <span class="co">// Retrieve list of products</span></span>
      <span id="cb9-72"><a href="#cb9-72" aria-hidden="true"></a>    <span class="bu">List</span>&lt;Product&gt; productList = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;&gt;();</span>
      <span id="cb9-73"><a href="#cb9-73" aria-hidden="true"></a>    <span class="bu">Integer</span> categoryId = <span class="bu">Integer</span>.<span class="fu">parseInt</span>(request.<span class="fu">getParameter</span>(<span class="st">&quot;categoryId&quot;</span>));</span>
      <span id="cb9-74"><a href="#cb9-74" aria-hidden="true"></a>    <span class="kw">try</span> (ProductDAO DAO = <span class="kw">new</span> <span class="fu">ProductDAO</span>();) {</span>
      <span id="cb9-75"><a href="#cb9-75" aria-hidden="true"></a>      productList = DAO.<span class="fu">getProductsByCategory</span>(user.<span class="fu">getId</span>(), categoryId);</span>
      <span id="cb9-76"><a href="#cb9-76" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">SQLException</span> e) {</span>
      <span id="cb9-77"><a href="#cb9-77" aria-hidden="true"></a>      log.<span class="fu">log</span>(<span class="bu">Level</span>.<span class="fu">SEVERE</span>, <span class="st">&quot;Error getting products&quot;</span>, e);</span>
      <span id="cb9-78"><a href="#cb9-78" aria-hidden="true"></a>      e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb9-79"><a href="#cb9-79" aria-hidden="true"></a>      productList = <span class="kw">null</span>;</span>
      <span id="cb9-80"><a href="#cb9-80" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">Exception</span> e) {</span>
      <span id="cb9-81"><a href="#cb9-81" aria-hidden="true"></a>      <span class="co">// </span><span class="al">TODO</span><span class="co"> Auto-generated catch block for java.lang.AutoCloseable#close() throw.</span></span>
      <span id="cb9-82"><a href="#cb9-82" aria-hidden="true"></a>      log.<span class="fu">log</span>(<span class="bu">Level</span>.<span class="fu">SEVERE</span>, <span class="kw">null</span>, e.<span class="fu">getMessage</span>());</span>
      <span id="cb9-83"><a href="#cb9-83" aria-hidden="true"></a>      e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb9-84"><a href="#cb9-84" aria-hidden="true"></a>    }</span>
      <span id="cb9-85"><a href="#cb9-85" aria-hidden="true"></a></span>
      <span id="cb9-86"><a href="#cb9-86" aria-hidden="true"></a>    <span class="co">// Set attributes to request</span></span>
      <span id="cb9-87"><a href="#cb9-87" aria-hidden="true"></a>    request.<span class="fu">setAttribute</span>(<span class="st">&quot;productList&quot;</span>, productList);</span>
      <span id="cb9-88"><a href="#cb9-88" aria-hidden="true"></a>    request.<span class="fu">setAttribute</span>(<span class="st">&quot;category&quot;</span>, category);</span>
      <span id="cb9-89"><a href="#cb9-89" aria-hidden="true"></a></span>
      <span id="cb9-90"><a href="#cb9-90" aria-hidden="true"></a>    <span class="co">// Dispatch view and forward request</span></span>
      <span id="cb9-91"><a href="#cb9-91" aria-hidden="true"></a>    request.<span class="fu">getRequestDispatcher</span>(<span class="st">&quot;/WEB-INF/views/category/CategoryInfo.jsp&quot;</span>).<span class="fu">forward</span>(request, response);</span>
      <span id="cb9-92"><a href="#cb9-92" aria-hidden="true"></a></span>
      <span id="cb9-93"><a href="#cb9-93" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb9-94"><a href="#cb9-94" aria-hidden="true"></a>  }</span>
      <span id="cb9-95"><a href="#cb9-95" aria-hidden="true"></a></span>
      <span id="cb9-96"><a href="#cb9-96" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb9-97"><a href="#cb9-97" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb9-98"><a href="#cb9-98" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb9-99"><a href="#cb9-99" aria-hidden="true"></a><span class="co">   * @see</span></span>
      <span id="cb9-100"><a href="#cb9-100" aria-hidden="true"></a><span class="co">   * javax.servlet.http.HttpServlet#doPost(javax.servlet.http.HttpServletRequest,</span></span>
      <span id="cb9-101"><a href="#cb9-101" aria-hidden="true"></a><span class="co">   * javax.servlet.http.HttpServletResponse)</span></span>
      <span id="cb9-102"><a href="#cb9-102" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb9-103"><a href="#cb9-103" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb9-104"><a href="#cb9-104" aria-hidden="true"></a>  <span class="kw">protected</span> <span class="dt">void</span> <span class="fu">doPost</span>(HttpServletRequest request, HttpServletResponse response)</span>
      <span id="cb9-105"><a href="#cb9-105" aria-hidden="true"></a>      <span class="kw">throws</span> ServletException, <span class="bu">IOException</span> {</span>
      <span id="cb9-106"><a href="#cb9-106" aria-hidden="true"></a></span>
      <span id="cb9-107"><a href="#cb9-107" aria-hidden="true"></a>    <span class="co">// Do post</span></span>
      <span id="cb9-108"><a href="#cb9-108" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb9-109"><a href="#cb9-109" aria-hidden="true"></a>  }</span>
      <span id="cb9-110"><a href="#cb9-110" aria-hidden="true"></a></span>
      <span id="cb9-111"><a href="#cb9-111" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb9-112"><a href="#cb9-112" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb9-113"><a href="#cb9-113" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb9-114"><a href="#cb9-114" aria-hidden="true"></a><span class="co">   * @see javax.servlet.GenericServlet#destroy()</span></span>
      <span id="cb9-115"><a href="#cb9-115" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb9-116"><a href="#cb9-116" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb9-117"><a href="#cb9-117" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">void</span> <span class="fu">destroy</span>() {</span>
      <span id="cb9-118"><a href="#cb9-118" aria-hidden="true"></a>    <span class="co">// Do clean up</span></span>
      <span id="cb9-119"><a href="#cb9-119" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb9-120"><a href="#cb9-120" aria-hidden="true"></a>  }</span>
      <span id="cb9-121"><a href="#cb9-121" aria-hidden="true"></a></span>
      <span id="cb9-122"><a href="#cb9-122" aria-hidden="true"></a>}</span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="jsp">7.1.2.2. JSP<!-- OK --></h5>
      <p><strong>Jakarta Server Pages</strong> (anciennement JavaServer Pages) ou JSP est une collection de technologies qui permet aux développeurs de <strong>créer dynamiquement du code HTML</strong>, XML, SOAP ou tout autre type de page web. JSP est semblable a PHP ou ASP, mais pour le langage de programmation Java.</p>
      <p>Voici en exemple le fichier <code>CategoryInfo.jsp</code> (utilisé comme fichier de vue par <code>CategoryInfo.java</code> de notre exemple précédent), qui est utilisé pour produire le code de la page HTML renvoyée à l’utilisateur.</p>
      <p>Veuillez également noter l’utilisation de la balise <code>&lt;jsp:include&gt;</code> afin d’agréger les différents éléments constitutifs de la page complète :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb10"><pre class="sourceCode jsp"><code class="sourceCode jsp"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a></span>
      <span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a><span class="bu">&lt;%@ taglib</span><span class="ot"> uri</span>=<span class="st">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="ot"> prefix</span>=<span class="st">&quot;c&quot;</span><span class="ot"> </span><span class="bu">%&gt;</span></span>
      <span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/__head.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_aside.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_nav.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb10-6"><a href="#cb10-6" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_header.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb10-7"><a href="#cb10-7" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_search.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb10-8"><a href="#cb10-8" aria-hidden="true"></a>&lt;main&gt;</span>
      <span id="cb10-9"><a href="#cb10-9" aria-hidden="true"></a>  &lt;article&gt;</span>
      <span id="cb10-10"><a href="#cb10-10" aria-hidden="true"></a>    &lt;h2&gt;Product List&lt;/h2&gt;</span>
      <span id="cb10-11"><a href="#cb10-11" aria-hidden="true"></a>    &lt;ul<span class="ot"> class</span>=<span class="dt">&quot;productList&quot;</span>&gt;</span>
      <span id="cb10-12"><a href="#cb10-12" aria-hidden="true"></a>    <span class="kw">&lt;c:forEach</span><span class="ot"> var</span>=<span class="dt">&quot;product&quot;</span><span class="ot"> items</span>=<span class="dt">&quot;</span><span class="pp">${</span>productList<span class="pp">}</span><span class="dt">&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb10-13"><a href="#cb10-13" aria-hidden="true"></a>      &lt;li&gt;</span>
      <span id="cb10-14"><a href="#cb10-14" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;product-list&quot;</span></span>
      <span id="cb10-15"><a href="#cb10-15" aria-hidden="true"></a><span class="ot">          href</span>=<span class="dt">&quot;/ProductInfo?productId=</span><span class="pp">${</span>product.<span class="fu">id</span><span class="pp">}</span><span class="dt">&amp;categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;</span>
      <span id="cb10-16"><a href="#cb10-16" aria-hidden="true"></a>          <span class="co">&lt;!-- JSP parsing variable </span><span class="pp">${</span>product.<span class="fu">name</span><span class="pp">}</span><span class="co">--&gt;</span></span>
      <span id="cb10-17"><a href="#cb10-17" aria-hidden="true"></a>          <span class="pp">${</span>product.<span class="fu">name</span><span class="pp">}</span></span>
      <span id="cb10-18"><a href="#cb10-18" aria-hidden="true"></a>        &lt;/a&gt;</span>
      <span id="cb10-19"><a href="#cb10-19" aria-hidden="true"></a>      &lt;/li&gt;</span>
      <span id="cb10-20"><a href="#cb10-20" aria-hidden="true"></a>    <span class="kw">&lt;/c:forEach&gt;</span></span>
      <span id="cb10-21"><a href="#cb10-21" aria-hidden="true"></a>    &lt;/ul&gt;</span>
      <span id="cb10-22"><a href="#cb10-22" aria-hidden="true"></a>      &lt;div<span class="ot"> class</span>=<span class="dt">&quot;form-actions&quot;</span><span class="ot"> id</span>=<span class="dt">&quot;form-bottom&quot;</span>&gt;</span>
      <span id="cb10-23"><a href="#cb10-23" aria-hidden="true"></a>        &lt;button<span class="ot"> class</span>=<span class="dt">&quot;cancel&quot;</span><span class="ot"> onclick</span>=<span class="dt">&quot;history.back()&quot;</span>&gt;</span>
      <span id="cb10-24"><a href="#cb10-24" aria-hidden="true"></a>          &lt;i<span class="ot"> class</span>=<span class="dt">&quot;fa-solid fa-arrow-left&quot;</span>&gt;&lt;/i&gt;</span>
      <span id="cb10-25"><a href="#cb10-25" aria-hidden="true"></a>        &lt;/button&gt;</span>
      <span id="cb10-26"><a href="#cb10-26" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;info&quot;</span><span class="ot"> href</span>=<span class="dt">&quot;CategoryEdit?categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;Update category&lt;/a&gt;</span>
      <span id="cb10-27"><a href="#cb10-27" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;add&quot;</span><span class="ot"> href</span>=<span class="dt">&quot;/ProductAdd?categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;Add a product&lt;/a&gt;</span>
      <span id="cb10-28"><a href="#cb10-28" aria-hidden="true"></a>  &lt;/article&gt;</span>
      <span id="cb10-29"><a href="#cb10-29" aria-hidden="true"></a>&lt;/main&gt;</span>
      <span id="cb10-30"><a href="#cb10-30" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_footer.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb10-31"><a href="#cb10-31" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/__tail.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="jstl">7.1.2.3. JSTL<!-- OK --></h5>
      <p>La <strong>Jakarta Standard Tag Library</strong> (anciennement JavaServer Pages Standard Tag Library) ou JSTL est un composant de la plateforme de développement Java EE Web application.</p>
      <p>Il <strong>étend les spécifications du JSP</strong> and ajoutant une librairie de tag pour les tâches communes, comme le traitement des données XML, l’exécution conditionnelle, l’accès a une base de données, les boucles ou l’internationalisation.</p>
      <p>Le fichier <code>CategoryInfo.jsp</code> de l’exemple précédent illustre également l’utilisation du JSTL dans le cadre d’une boucle qui génère dynamiquement du code HTML dans la page :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb11"><pre class="sourceCode jsp"><code class="sourceCode jsp"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a></span>
      <span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="bu">&lt;%@ taglib</span><span class="ot"> uri</span>=<span class="st">&quot;http://java.sun.com/jsp/jstl/core&quot;</span><span class="ot"> prefix</span>=<span class="st">&quot;c&quot;</span><span class="ot"> </span><span class="bu">%&gt;</span></span>
      <span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/__head.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_aside.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_nav.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_header.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_search.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a>&lt;main&gt;</span>
      <span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a>  &lt;article&gt;</span>
      <span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a>    &lt;h2&gt;Product List&lt;/h2&gt;</span>
      <span id="cb11-11"><a href="#cb11-11" aria-hidden="true"></a>    &lt;ul<span class="ot"> class</span>=<span class="dt">&quot;productList&quot;</span>&gt;</span>
      <span id="cb11-12"><a href="#cb11-12" aria-hidden="true"></a>    <span class="co">&lt;!-- JSTL foreach looping on </span><span class="pp">${</span>productList<span class="pp">}</span><span class="co">--&gt;</span></span>
      <span id="cb11-13"><a href="#cb11-13" aria-hidden="true"></a>    <span class="kw">&lt;c:forEach</span><span class="ot"> var</span>=<span class="dt">&quot;product&quot;</span><span class="ot"> items</span>=<span class="dt">&quot;</span><span class="pp">${</span>productList<span class="pp">}</span><span class="dt">&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb11-14"><a href="#cb11-14" aria-hidden="true"></a>      &lt;li&gt;</span>
      <span id="cb11-15"><a href="#cb11-15" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;product-list&quot;</span></span>
      <span id="cb11-16"><a href="#cb11-16" aria-hidden="true"></a><span class="ot">          href</span>=<span class="dt">&quot;/ProductInfo?productId=</span><span class="pp">${</span>product.<span class="fu">id</span><span class="pp">}</span><span class="dt">&amp;categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;</span>
      <span id="cb11-17"><a href="#cb11-17" aria-hidden="true"></a>          <span class="pp">${</span>product.<span class="fu">name</span><span class="pp">}</span></span>
      <span id="cb11-18"><a href="#cb11-18" aria-hidden="true"></a>        &lt;/a&gt;</span>
      <span id="cb11-19"><a href="#cb11-19" aria-hidden="true"></a>      &lt;/li&gt;</span>
      <span id="cb11-20"><a href="#cb11-20" aria-hidden="true"></a>    <span class="kw">&lt;/c:forEach&gt;</span></span>
      <span id="cb11-21"><a href="#cb11-21" aria-hidden="true"></a>    &lt;/ul&gt;</span>
      <span id="cb11-22"><a href="#cb11-22" aria-hidden="true"></a>      &lt;div<span class="ot"> class</span>=<span class="dt">&quot;form-actions&quot;</span><span class="ot"> id</span>=<span class="dt">&quot;form-bottom&quot;</span>&gt;</span>
      <span id="cb11-23"><a href="#cb11-23" aria-hidden="true"></a>        &lt;button<span class="ot"> class</span>=<span class="dt">&quot;cancel&quot;</span><span class="ot"> onclick</span>=<span class="dt">&quot;history.back()&quot;</span>&gt;</span>
      <span id="cb11-24"><a href="#cb11-24" aria-hidden="true"></a>          &lt;i<span class="ot"> class</span>=<span class="dt">&quot;fa-solid fa-arrow-left&quot;</span>&gt;&lt;/i&gt;</span>
      <span id="cb11-25"><a href="#cb11-25" aria-hidden="true"></a>        &lt;/button&gt;</span>
      <span id="cb11-26"><a href="#cb11-26" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;info&quot;</span><span class="ot"> href</span>=<span class="dt">&quot;CategoryEdit?categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;Update category&lt;/a&gt;</span>
      <span id="cb11-27"><a href="#cb11-27" aria-hidden="true"></a>        &lt;a<span class="ot"> class</span>=<span class="dt">&quot;add&quot;</span><span class="ot"> href</span>=<span class="dt">&quot;/ProductAdd?categoryId=</span><span class="pp">${</span>category.<span class="fu">id</span><span class="pp">}</span><span class="dt">&quot;</span>&gt;Add a product&lt;/a&gt;</span>
      <span id="cb11-28"><a href="#cb11-28" aria-hidden="true"></a>  &lt;/article&gt;</span>
      <span id="cb11-29"><a href="#cb11-29" aria-hidden="true"></a>&lt;/main&gt;</span>
      <span id="cb11-30"><a href="#cb11-30" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/_footer.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span>
      <span id="cb11-31"><a href="#cb11-31" aria-hidden="true"></a><span class="bu">&lt;jsp:include</span><span class="ot"> page</span>=<span class="st">&quot;/WEB-INF/views/template/__tail.jsp&quot;</span><span class="bu">&gt;&lt;/jsp:include&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="sql">7.1.2.4. SQL<!-- OK --></h5>
      <p>Le <strong>langage de requête structurée</strong>, abrégé SQL de l’anglais Structured Query Language est un <strong>langage informatique normalisé</strong> servant à exploiter des <strong>bases de données relationnelles</strong>.</p>
      <p>Il permet de gérer les données d’une base de données en utilisant des commandes pour <strong>créer, lire, mettre à jour et supprimer des données</strong> (CRUD operations). Il permet également de <strong>gérer les relations</strong> entre les tables de la base de données et de faire des requêtes pour <strong>récupérer des données spécifiques</strong>.</p>
      <p>Le SQL est reconnu par la grande majorité des systèmes de gestion de bases de données relationnelles (abrégé SGBDR) du marché.</p>
      <p>Voici un extrait du fichier <code>_app.sql</code>, dont le code SQL est utilisé pour construire trois tables nécessaires à l’authentification de l’utilisateur dans la base de données de développement :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a></span>
      <span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a><span class="kw">SET</span> <span class="kw">time_zone</span> <span class="op">=</span> <span class="st">&#39;+00:00&#39;</span>;</span>
      <span id="cb12-3"><a href="#cb12-3" aria-hidden="true"></a></span>
      <span id="cb12-4"><a href="#cb12-4" aria-hidden="true"></a><span class="co">-- Use application database</span></span>
      <span id="cb12-5"><a href="#cb12-5" aria-hidden="true"></a><span class="kw">USE</span> app;</span>
      <span id="cb12-6"><a href="#cb12-6" aria-hidden="true"></a></span>
      <span id="cb12-7"><a href="#cb12-7" aria-hidden="true"></a><span class="co">-------------------------------------------------------------------------- USER</span></span>
      <span id="cb12-8"><a href="#cb12-8" aria-hidden="true"></a><span class="co">-- Create user table</span></span>
      <span id="cb12-9"><a href="#cb12-9" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> `user`(</span>
      <span id="cb12-10"><a href="#cb12-10" aria-hidden="true"></a>    `id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT,</span>
      <span id="cb12-11"><a href="#cb12-11" aria-hidden="true"></a>    `email` <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">UNIQUE</span>,</span>
      <span id="cb12-12"><a href="#cb12-12" aria-hidden="true"></a>    `password` <span class="dt">VARCHAR</span>(<span class="dv">255</span>) <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
      <span id="cb12-13"><a href="#cb12-13" aria-hidden="true"></a>    `title` <span class="dt">VARCHAR</span>(<span class="dv">10</span>),</span>
      <span id="cb12-14"><a href="#cb12-14" aria-hidden="true"></a>    `firstName` <span class="dt">VARCHAR</span>(<span class="dv">50</span>),</span>
      <span id="cb12-15"><a href="#cb12-15" aria-hidden="true"></a>    `lastName` <span class="dt">VARCHAR</span>(<span class="dv">50</span>),</span>
      <span id="cb12-16"><a href="#cb12-16" aria-hidden="true"></a>    `company` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb12-17"><a href="#cb12-17" aria-hidden="true"></a>    `address` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb12-18"><a href="#cb12-18" aria-hidden="true"></a>    `city` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb12-19"><a href="#cb12-19" aria-hidden="true"></a>    `postalCode` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb12-20"><a href="#cb12-20" aria-hidden="true"></a>    `country` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb12-21"><a href="#cb12-21" aria-hidden="true"></a>    `phone` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb12-22"><a href="#cb12-22" aria-hidden="true"></a>    `valid` BIT(<span class="dv">1</span>) <span class="kw">DEFAULT</span> <span class="dv">0</span>, <span class="co">-- TODO: assign instead of default.</span></span>
      <span id="cb12-23"><a href="#cb12-23" aria-hidden="true"></a>    `validationUid` <span class="dt">VARCHAR</span>(<span class="dv">255</span>),</span>
      <span id="cb12-24"><a href="#cb12-24" aria-hidden="true"></a>    `validationTimeout` DATETIME,</span>
      <span id="cb12-25"><a href="#cb12-25" aria-hidden="true"></a>    <span class="co">-- `validationTimeout` DATETIME NOT NULL DEFAULT NOW() + INTERVAL 1 HOUR,</span></span>
      <span id="cb12-26"><a href="#cb12-26" aria-hidden="true"></a>    `createTime` DATETIME <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">DEFAULT</span> NOW(),</span>
      <span id="cb12-27"><a href="#cb12-27" aria-hidden="true"></a>    `updateTime` DATETIME <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">DEFAULT</span> NOW(), <span class="co">-- TODO: assign instead of default.</span></span>
      <span id="cb12-28"><a href="#cb12-28" aria-hidden="true"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (`id`)</span>
      <span id="cb12-29"><a href="#cb12-29" aria-hidden="true"></a>);</span>
      <span id="cb12-30"><a href="#cb12-30" aria-hidden="true"></a></span>
      <span id="cb12-31"><a href="#cb12-31" aria-hidden="true"></a><span class="co">-- Insert data samples</span></span>
      <span id="cb12-32"><a href="#cb12-32" aria-hidden="true"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> `user`(`email`,`password`,`title`,`firstName`,`lastName`,`company`,`address`,`city`,`postalCode`,`country`,`phone`)</span>
      <span id="cb12-33"><a href="#cb12-33" aria-hidden="true"></a>  <span class="kw">VALUES</span></span>
      <span id="cb12-34"><a href="#cb12-34" aria-hidden="true"></a>    (<span class="ot">&quot;admin&quot;</span>,SHA2(<span class="ot">&quot;admin&quot;</span>,<span class="dv">512</span>),<span class="ot">&quot;Title&quot;</span>,<span class="ot">&quot;admin&quot;</span>,<span class="ot">&quot;Last name&quot;</span>,<span class="ot">&quot;Admin Company&quot;</span>,<span class="ot">&quot;Address&quot;</span>,<span class="ot">&quot;City&quot;</span>,<span class="ot">&quot;Postal code&quot;</span>,<span class="ot">&quot;Country&quot;</span>,<span class="ot">&quot;Phone&quot;</span>),</span>
      <span id="cb12-35"><a href="#cb12-35" aria-hidden="true"></a>    (<span class="ot">&quot;user&quot;</span>,SHA2(<span class="ot">&quot;user&quot;</span>,<span class="dv">512</span>),<span class="ot">&quot;Title&quot;</span>,<span class="ot">&quot;user&quot;</span>,<span class="ot">&quot;Last name&quot;</span>,<span class="ot">&quot;User Company&quot;</span>,<span class="ot">&quot;Address&quot;</span>,<span class="ot">&quot;City&quot;</span>,<span class="ot">&quot;Postal code&quot;</span>,<span class="ot">&quot;Country&quot;</span>,<span class="ot">&quot;Phone&quot;</span>),</span>
      <span id="cb12-36"><a href="#cb12-36" aria-hidden="true"></a>    (<span class="ot">&quot;donald.duck@mail.com&quot;</span>,SHA2(<span class="ot">&quot;donald&quot;</span>,<span class="dv">512</span>),<span class="ot">&quot;M.&quot;</span>,<span class="ot">&quot;Donald&quot;</span>,<span class="ot">&quot;Duck&quot;</span>,<span class="ot">&quot;Acme Company&quot;</span>,<span class="ot">&quot;66 Route 66&quot;</span>,<span class="ot">&quot;Dreamland&quot;</span>,<span class="ot">&quot;67000&quot;</span>,<span class="ot">&quot;France&quot;</span>,<span class="ot">&quot;0606060606&quot;</span>)</span>
      <span id="cb12-37"><a href="#cb12-37" aria-hidden="true"></a>  ;</span>
      <span id="cb12-38"><a href="#cb12-38" aria-hidden="true"></a></span>
      <span id="cb12-39"><a href="#cb12-39" aria-hidden="true"></a><span class="co">-------------------------------------------------------------------------- ROLE</span></span>
      <span id="cb12-40"><a href="#cb12-40" aria-hidden="true"></a><span class="co">-- Create role table</span></span>
      <span id="cb12-41"><a href="#cb12-41" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> `role`(</span>
      <span id="cb12-42"><a href="#cb12-42" aria-hidden="true"></a>    `id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
      <span id="cb12-43"><a href="#cb12-43" aria-hidden="true"></a>    `name` <span class="dt">VARCHAR</span>(<span class="dv">80</span>) <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">UNIQUE</span>,</span>
      <span id="cb12-44"><a href="#cb12-44" aria-hidden="true"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (`id`)</span>
      <span id="cb12-45"><a href="#cb12-45" aria-hidden="true"></a>);</span>
      <span id="cb12-46"><a href="#cb12-46" aria-hidden="true"></a></span>
      <span id="cb12-47"><a href="#cb12-47" aria-hidden="true"></a><span class="co">-- Insert data samples</span></span>
      <span id="cb12-48"><a href="#cb12-48" aria-hidden="true"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> `role`(`id`,`name`)</span>
      <span id="cb12-49"><a href="#cb12-49" aria-hidden="true"></a>  <span class="kw">VALUES</span></span>
      <span id="cb12-50"><a href="#cb12-50" aria-hidden="true"></a>    (<span class="ot">&quot;1&quot;</span>,<span class="ot">&quot;admin&quot;</span>),</span>
      <span id="cb12-51"><a href="#cb12-51" aria-hidden="true"></a>    (<span class="ot">&quot;2&quot;</span>,<span class="ot">&quot;user&quot;</span>)</span>
      <span id="cb12-52"><a href="#cb12-52" aria-hidden="true"></a>  ;</span>
      <span id="cb12-53"><a href="#cb12-53" aria-hidden="true"></a></span>
      <span id="cb12-54"><a href="#cb12-54" aria-hidden="true"></a><span class="co">--------------------------------------------------------------------- USER_ROLE</span></span>
      <span id="cb12-55"><a href="#cb12-55" aria-hidden="true"></a><span class="co">-- Create user_role table</span></span>
      <span id="cb12-56"><a href="#cb12-56" aria-hidden="true"></a><span class="kw">CREATE</span> <span class="kw">TABLE</span> `user_role`(</span>
      <span id="cb12-57"><a href="#cb12-57" aria-hidden="true"></a>    `id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> AUTO_INCREMENT,</span>
      <span id="cb12-58"><a href="#cb12-58" aria-hidden="true"></a>    `user_id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span>,</span>
      <span id="cb12-59"><a href="#cb12-59" aria-hidden="true"></a>    `role_id` <span class="dt">INT</span>(<span class="dv">10</span>) UNSIGNED <span class="kw">NOT</span> <span class="kw">NULL</span> <span class="kw">DEFAULT</span> <span class="dv">2</span>, <span class="co">-- default to user role</span></span>
      <span id="cb12-60"><a href="#cb12-60" aria-hidden="true"></a>    <span class="kw">PRIMARY</span> <span class="kw">KEY</span> (`id`),</span>
      <span id="cb12-61"><a href="#cb12-61" aria-hidden="true"></a>    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (`user_id`) <span class="kw">REFERENCES</span> `user`(`id`),</span>
      <span id="cb12-62"><a href="#cb12-62" aria-hidden="true"></a>    <span class="kw">FOREIGN</span> <span class="kw">KEY</span> (`role_id`) <span class="kw">REFERENCES</span> `role`(`id`)</span>
      <span id="cb12-63"><a href="#cb12-63" aria-hidden="true"></a>);</span>
      <span id="cb12-64"><a href="#cb12-64" aria-hidden="true"></a></span>
      <span id="cb12-65"><a href="#cb12-65" aria-hidden="true"></a><span class="co">-- Insert data samples</span></span>
      <span id="cb12-66"><a href="#cb12-66" aria-hidden="true"></a><span class="kw">INSERT</span> <span class="kw">INTO</span> `user_role`(`user_id`,`role_id`)</span>
      <span id="cb12-67"><a href="#cb12-67" aria-hidden="true"></a>  <span class="kw">VALUES</span></span>
      <span id="cb12-68"><a href="#cb12-68" aria-hidden="true"></a>    (<span class="dv">1</span>,<span class="dv">1</span>), <span class="co">-- admin(1):admin</span></span>
      <span id="cb12-69"><a href="#cb12-69" aria-hidden="true"></a>    (<span class="dv">1</span>,<span class="dv">2</span>), <span class="co">-- admin(1):user</span></span>
      <span id="cb12-70"><a href="#cb12-70" aria-hidden="true"></a>    (<span class="dv">2</span>,<span class="dv">2</span>) <span class="co">-- user(2):user</span></span>
      <span id="cb12-71"><a href="#cb12-71" aria-hidden="true"></a>  ;</span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="autres">7.1.3. Autres<!-- OK --></h4>
      <h5 id="dockerfile">7.1.3.1. Dockerfile<!-- OK --></h5>
      <p>Docker (Cf. <a href="#7621-docker">docker</a>) peut <strong>construire des images automatiquement</strong> grâce aux instructions présentes dans un Dockerfile. Un Dockerfile est un <strong>document texte contenant toutes les commandes</strong> qu’un utilisateur peut utiliser en ligne de commandes.</p>
      <p>Voici en exemple le fichier <code>Dockerfile</code> pour construire une image de conteneur Tomcat dans le cadre d’un environnement de développement :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb13"><pre class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a></span>
      <span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a><span class="kw">FROM</span> tomcat:9</span>
      <span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a><span class="kw">LABEL</span> maintainer=<span class="st">&quot;Thibault &lt;thibault.hulaux@gmail.com&gt;&quot;</span> \</span>
      <span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a>      description=<span class="st">&quot;tomcat&quot;</span></span>
      <span id="cb13-5"><a href="#cb13-5" aria-hidden="true"></a></span>
      <span id="cb13-6"><a href="#cb13-6" aria-hidden="true"></a><span class="co"># Update apt.</span></span>
      <span id="cb13-7"><a href="#cb13-7" aria-hidden="true"></a><span class="kw">RUN</span> apt -y update</span>
      <span id="cb13-8"><a href="#cb13-8" aria-hidden="true"></a></span>
      <span id="cb13-9"><a href="#cb13-9" aria-hidden="true"></a><span class="co"># Install extra packets for conveniency.</span></span>
      <span id="cb13-10"><a href="#cb13-10" aria-hidden="true"></a><span class="kw">RUN</span> apt -y install \</span>
      <span id="cb13-11"><a href="#cb13-11" aria-hidden="true"></a>    bash \</span>
      <span id="cb13-12"><a href="#cb13-12" aria-hidden="true"></a>    vim</span>
      <span id="cb13-13"><a href="#cb13-13" aria-hidden="true"></a></span>
      <span id="cb13-14"><a href="#cb13-14" aria-hidden="true"></a><span class="co"># Install openssh-server.</span></span>
      <span id="cb13-15"><a href="#cb13-15" aria-hidden="true"></a><span class="kw">RUN</span> apt -y install openssh-server &amp;&amp; \</span>
      <span id="cb13-16"><a href="#cb13-16" aria-hidden="true"></a>    mkdir -p /var/run/sshd &amp;&amp; \</span>
      <span id="cb13-17"><a href="#cb13-17" aria-hidden="true"></a>    sed -ri <span class="st">&#39;s/UsePAM yes/#UsePAM yes/g&#39;</span> /etc/ssh/sshd_config &amp;&amp; \</span>
      <span id="cb13-18"><a href="#cb13-18" aria-hidden="true"></a>    sed -ri <span class="st">&#39;s/#PasswordAuthentication yes/PasswordAuthentication yes/g&#39;</span> /etc/ssh/sshd_config &amp;&amp; \</span>
      <span id="cb13-19"><a href="#cb13-19" aria-hidden="true"></a>    sed -ri <span class="st">&#39;s/#PermitRootLogin\s+.*/PermitRootLogin yes/&#39;</span> /etc/ssh/sshd_config &amp;&amp; \</span>
      <span id="cb13-20"><a href="#cb13-20" aria-hidden="true"></a>    echo <span class="st">&quot;$0:$?: /etc/ssh/ssh_config edited.&quot;</span></span>
      <span id="cb13-21"><a href="#cb13-21" aria-hidden="true"></a></span>
      <span id="cb13-22"><a href="#cb13-22" aria-hidden="true"></a><span class="co"># Clean up.</span></span>
      <span id="cb13-23"><a href="#cb13-23" aria-hidden="true"></a><span class="kw">RUN</span> rm -rf /var/cache/apt/* &amp;&amp; \</span>
      <span id="cb13-24"><a href="#cb13-24" aria-hidden="true"></a>    rm -rf /var/lib/apt/lists/* &amp;&amp; \</span>
      <span id="cb13-25"><a href="#cb13-25" aria-hidden="true"></a>    apt clean</span>
      <span id="cb13-26"><a href="#cb13-26" aria-hidden="true"></a></span>
      <span id="cb13-27"><a href="#cb13-27" aria-hidden="true"></a><span class="co"># Set root password.</span></span>
      <span id="cb13-28"><a href="#cb13-28" aria-hidden="true"></a><span class="kw">RUN</span> echo <span class="st">&#39;root:root&#39;</span> | chpasswd</span>
      <span id="cb13-29"><a href="#cb13-29" aria-hidden="true"></a></span>
      <span id="cb13-30"><a href="#cb13-30" aria-hidden="true"></a><span class="co"># Copy default webapps (avoid in production)</span></span>
      <span id="cb13-31"><a href="#cb13-31" aria-hidden="true"></a><span class="co"># RUN cp -rv webapps.dist/* webapps/</span></span>
      <span id="cb13-32"><a href="#cb13-32" aria-hidden="true"></a></span>
      <span id="cb13-33"><a href="#cb13-33" aria-hidden="true"></a><span class="co"># Copying and running start script.</span></span>
      <span id="cb13-34"><a href="#cb13-34" aria-hidden="true"></a><span class="kw">COPY</span> /start.sh /start.sh</span>
      <span id="cb13-35"><a href="#cb13-35" aria-hidden="true"></a><span class="kw">CMD</span> [<span class="st">&quot;/bin/bash&quot;</span>, <span class="st">&quot;/start.sh&quot;</span>]</span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="python">7.1.3.2. Python<!-- OK --></h5>
      <p>Python est un <strong>langage de programmation interprété</strong>, multi paradigme et <strong>multi plateformes</strong>. Il favorise la programmation impérative structurée, fonctionnelle et <strong>orientée objet</strong>. Il est doté d’un typage dynamique fort, d’une gestion automatique de la mémoire par garbage collector et d’un système de gestion d’exceptions.</p>
      <p>C’est un langage qui peut s’utiliser dans de nombreux contextes et s’adapter à tout type d’utilisation grâce à des <strong>bibliothèques spécialisées</strong>. Il est cependant particulièrement <strong>utilisé comme langage de script</strong> pour automatiser des tâches simples mais fastidieuses.</p>
      <p>Dans le cadre de ce projet, un script en Python a été crée afin de <strong>piloter</strong> une installation locale de <strong>Oracle VM Virtualbox</strong>. Le script peut effectuer, au travers des commandes <code>swarm</code> et <code>stack</code>, les opérations suivantes :</p>
      <ul>
      <li>Provisionnement des machines virtuelles légères (avec un docker engine)</li>
      <li>Configuration de la couche réseau</li>
      <li>Création et configuration d’un docker swarm</li>
      <li>Déploiement de stack docker (build, registry, orchestration)</li>
      </ul>
      <p>Voici des extraits représentatifs du fichier <code>swarm.py</code>. Veuillez noter que le script est encore en développement (absence de DocStrings, manque de structures de contrôle…), mais qu’il gère le logging et l’interpretation de la ligne de commande :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb14"><pre class="sourceCode py"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a></span>
      <span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a><span class="co">#!/usr/bin/env python3</span></span>
      <span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a><span class="co">&quot;&quot;&quot;</span></span>
      <span id="cb14-4"><a href="#cb14-4" aria-hidden="true"></a><span class="co">Module Docstring</span></span>
      <span id="cb14-5"><a href="#cb14-5" aria-hidden="true"></a><span class="co">&quot;&quot;&quot;</span></span>
      <span id="cb14-6"><a href="#cb14-6" aria-hidden="true"></a></span>
      <span id="cb14-7"><a href="#cb14-7" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; IMPORTS --------------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-8"><a href="#cb14-8" aria-hidden="true"></a><span class="im">import</span> argparse</span>
      <span id="cb14-9"><a href="#cb14-9" aria-hidden="true"></a><span class="im">import</span> logging <span class="co"># see https://docs.python.org/3/library/logging.html</span></span>
      <span id="cb14-10"><a href="#cb14-10" aria-hidden="true"></a><span class="im">import</span> logging.config</span>
      <span id="cb14-11"><a href="#cb14-11" aria-hidden="true"></a><span class="im">import</span> os</span>
      <span id="cb14-12"><a href="#cb14-12" aria-hidden="true"></a><span class="im">import</span> platform</span>
      <span id="cb14-13"><a href="#cb14-13" aria-hidden="true"></a><span class="im">import</span> signal</span>
      <span id="cb14-14"><a href="#cb14-14" aria-hidden="true"></a><span class="im">import</span> subprocess</span>
      <span id="cb14-15"><a href="#cb14-15" aria-hidden="true"></a><span class="im">import</span> sys</span>
      <span id="cb14-16"><a href="#cb14-16" aria-hidden="true"></a><span class="im">import</span> time</span>
      <span id="cb14-17"><a href="#cb14-17" aria-hidden="true"></a><span class="co"># import docker</span></span>
      <span id="cb14-18"><a href="#cb14-18" aria-hidden="true"></a><span class="co"># import pprint # pretty print for dict()</span></span>
      <span id="cb14-19"><a href="#cb14-19" aria-hidden="true"></a></span>
      <span id="cb14-20"><a href="#cb14-20" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; GLOBAL VARIABLES ------------------------------------------------------ &quot;&quot;&quot;</span></span>
      <span id="cb14-21"><a href="#cb14-21" aria-hidden="true"></a><span class="co"># Default LOGLEVEL</span></span>
      <span id="cb14-22"><a href="#cb14-22" aria-hidden="true"></a>os.environ[<span class="st">&#39;LOGLEVEL&#39;</span>] <span class="op">=</span> <span class="st">&#39;DEBUG&#39;</span></span>
      <span id="cb14-23"><a href="#cb14-23" aria-hidden="true"></a></span>
      <span id="cb14-24"><a href="#cb14-24" aria-hidden="true"></a><span class="co"># System</span></span>
      <span id="cb14-25"><a href="#cb14-25" aria-hidden="true"></a>__env__ <span class="op">=</span> os.environ</span>
      <span id="cb14-26"><a href="#cb14-26" aria-hidden="true"></a>__start__ <span class="op">=</span> time.time()</span>
      <span id="cb14-27"><a href="#cb14-27" aria-hidden="true"></a>__platform__ <span class="op">=</span> platform.system()</span>
      <span id="cb14-28"><a href="#cb14-28" aria-hidden="true"></a></span>
      <span id="cb14-29"><a href="#cb14-29" aria-hidden="true"></a><span class="co"># Authoring</span></span>
      <span id="cb14-30"><a href="#cb14-30" aria-hidden="true"></a>__author_name__ <span class="op">=</span> <span class="st">&#39;Thibault HULAUX&#39;</span></span>
      <span id="cb14-31"><a href="#cb14-31" aria-hidden="true"></a>__author_mail__ <span class="op">=</span> <span class="st">&#39;thibault.hulaux@gmail.com&#39;</span></span>
      <span id="cb14-32"><a href="#cb14-32" aria-hidden="true"></a>__version__ <span class="op">=</span> <span class="st">&#39;0.1.0&#39;</span></span>
      <span id="cb14-33"><a href="#cb14-33" aria-hidden="true"></a>__license__ <span class="op">=</span> <span class="st">&#39;MIT&#39;</span></span>
      <span id="cb14-34"><a href="#cb14-34" aria-hidden="true"></a></span>
      <span id="cb14-35"><a href="#cb14-35" aria-hidden="true"></a><span class="co"># Magic file and folder paths</span></span>
      <span id="cb14-36"><a href="#cb14-36" aria-hidden="true"></a>__basename__ <span class="op">=</span> os.path.basename(<span class="va">__file__</span>)</span>
      <span id="cb14-37"><a href="#cb14-37" aria-hidden="true"></a>__basenamenoext__ <span class="op">=</span> __basename__.split(<span class="st">&quot;.&quot;</span>, <span class="dv">1</span>)[<span class="dv">0</span>]</span>
      <span id="cb14-38"><a href="#cb14-38" aria-hidden="true"></a>__dirname__ <span class="op">=</span> os.path.dirname(<span class="va">__file__</span>)</span>
      <span id="cb14-39"><a href="#cb14-39" aria-hidden="true"></a></span>
      <span id="cb14-40"><a href="#cb14-40" aria-hidden="true"></a><span class="co"># Help strings</span></span>
      <span id="cb14-41"><a href="#cb14-41" aria-hidden="true"></a>__description__ <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{</span>__basename__<span class="sc">}</span><span class="ss"> is a python helper script to administrate a docker swarm and docker services.&#39;</span></span>
      <span id="cb14-42"><a href="#cb14-42" aria-hidden="true"></a>__epilog__ <span class="op">=</span> <span class="ss">f&#39;Run </span><span class="sc">{</span>__basename__<span class="sc">}</span><span class="ss"> [command] --help for more information on a command.&#39;</span></span>
      <span id="cb14-43"><a href="#cb14-43" aria-hidden="true"></a></span>
      <span id="cb14-44"><a href="#cb14-44" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; INITIALIZE WORKING DIRECTORY ------------------------------------------ &quot;&quot;&quot;</span></span>
      <span id="cb14-45"><a href="#cb14-45" aria-hidden="true"></a><span class="co"># Change working directory to script location</span></span>
      <span id="cb14-46"><a href="#cb14-46" aria-hidden="true"></a>os.chdir(__dirname__)</span>
      <span id="cb14-47"><a href="#cb14-47" aria-hidden="true"></a></span>
      <span id="cb14-48"><a href="#cb14-48" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; INITIALIZE LOGGER ----------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-49"><a href="#cb14-49" aria-hidden="true"></a>log <span class="op">=</span> <span class="va">None</span></span>
      <span id="cb14-50"><a href="#cb14-50" aria-hidden="true"></a></span>
      <span id="cb14-51"><a href="#cb14-51" aria-hidden="true"></a><span class="co"># Add log filepath and filename to the logging namespace, so the config file</span></span>
      <span id="cb14-52"><a href="#cb14-52" aria-hidden="true"></a><span class="co"># can reference it.</span></span>
      <span id="cb14-53"><a href="#cb14-53" aria-hidden="true"></a>logging.filepath <span class="op">=</span> <span class="st">&#39;log&#39;</span></span>
      <span id="cb14-54"><a href="#cb14-54" aria-hidden="true"></a>logging.filename <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{</span>__basenamenoext__<span class="sc">}</span><span class="ss">.log&#39;</span></span>
      <span id="cb14-55"><a href="#cb14-55" aria-hidden="true"></a></span>
      <span id="cb14-56"><a href="#cb14-56" aria-hidden="true"></a><span class="co"># Load config file</span></span>
      <span id="cb14-57"><a href="#cb14-57" aria-hidden="true"></a>logging.config.fileConfig(</span>
      <span id="cb14-58"><a href="#cb14-58" aria-hidden="true"></a>  fname<span class="op">=</span><span class="st">&#39;conf/logging.conf&#39;</span>,</span>
      <span id="cb14-59"><a href="#cb14-59" aria-hidden="true"></a>  disable_existing_loggers<span class="op">=</span><span class="va">False</span></span>
      <span id="cb14-60"><a href="#cb14-60" aria-hidden="true"></a>  )</span>
      <span id="cb14-61"><a href="#cb14-61" aria-hidden="true"></a></span>
      <span id="cb14-62"><a href="#cb14-62" aria-hidden="true"></a><span class="co"># Create logger</span></span>
      <span id="cb14-63"><a href="#cb14-63" aria-hidden="true"></a>log <span class="op">=</span> logging.getLogger(__basename__)</span>
      <span id="cb14-64"><a href="#cb14-64" aria-hidden="true"></a></span>
      <span id="cb14-65"><a href="#cb14-65" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; INITIALIZE PARSER ----------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-66"><a href="#cb14-66" aria-hidden="true"></a>parser <span class="op">=</span> <span class="va">None</span></span>
      <span id="cb14-67"><a href="#cb14-67" aria-hidden="true"></a></span>
      <span id="cb14-68"><a href="#cb14-68" aria-hidden="true"></a><span class="co"># Create parser</span></span>
      <span id="cb14-69"><a href="#cb14-69" aria-hidden="true"></a>parser <span class="op">=</span> argparse.ArgumentParser(</span>
      <span id="cb14-70"><a href="#cb14-70" aria-hidden="true"></a>  add_help <span class="op">=</span> <span class="va">True</span>,</span>
      <span id="cb14-71"><a href="#cb14-71" aria-hidden="true"></a>  formatter_class <span class="op">=</span> argparse.RawDescriptionHelpFormatter,</span>
      <span id="cb14-72"><a href="#cb14-72" aria-hidden="true"></a>  description<span class="op">=</span>__description__,</span>
      <span id="cb14-73"><a href="#cb14-73" aria-hidden="true"></a>  epilog<span class="op">=</span>__epilog__</span>
      <span id="cb14-74"><a href="#cb14-74" aria-hidden="true"></a>)</span>
      <span id="cb14-75"><a href="#cb14-75" aria-hidden="true"></a></span>
      <span id="cb14-76"><a href="#cb14-76" aria-hidden="true"></a><span class="co"># Add parser arguments</span></span>
      <span id="cb14-77"><a href="#cb14-77" aria-hidden="true"></a>parser.add_argument(</span>
      <span id="cb14-78"><a href="#cb14-78" aria-hidden="true"></a>  <span class="st">&#39;-d&#39;</span>, <span class="st">&#39;--debug&#39;</span>,</span>
      <span id="cb14-79"><a href="#cb14-79" aria-hidden="true"></a>  action<span class="op">=</span><span class="st">&#39;store_true&#39;</span>,</span>
      <span id="cb14-80"><a href="#cb14-80" aria-hidden="true"></a>  default<span class="op">=</span><span class="va">False</span></span>
      <span id="cb14-81"><a href="#cb14-81" aria-hidden="true"></a>)</span>
      <span id="cb14-82"><a href="#cb14-82" aria-hidden="true"></a>parser.add_argument(</span>
      <span id="cb14-83"><a href="#cb14-83" aria-hidden="true"></a>  <span class="st">&#39;--version&#39;</span>,</span>
      <span id="cb14-84"><a href="#cb14-84" aria-hidden="true"></a>  action<span class="op">=</span><span class="st">&#39;version&#39;</span>,</span>
      <span id="cb14-85"><a href="#cb14-85" aria-hidden="true"></a>  version<span class="op">=</span><span class="ss">f&#39;</span><span class="sc">{</span>__basename__<span class="sc">}</span><span class="ss"> (version </span><span class="sc">{</span>__version__<span class="sc">}</span><span class="ss">) </span><span class="sc">{</span>__author_name__<span class="sc">}</span><span class="ss"> - </span><span class="sc">{</span>__author_mail__<span class="sc">}</span><span class="ss">&#39;</span></span>
      <span id="cb14-86"><a href="#cb14-86" aria-hidden="true"></a>)</span>
      <span id="cb14-87"><a href="#cb14-87" aria-hidden="true"></a></span>
      <span id="cb14-88"><a href="#cb14-88" aria-hidden="true"></a><span class="co"># Initialize subparsers</span></span>
      <span id="cb14-89"><a href="#cb14-89" aria-hidden="true"></a>subparsers <span class="op">=</span> parser.add_subparsers(dest<span class="op">=</span><span class="st">&#39;subcommand&#39;</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&#39;Commands&#39;</span>)</span>
      <span id="cb14-90"><a href="#cb14-90" aria-hidden="true"></a></span>
      <span id="cb14-91"><a href="#cb14-91" aria-hidden="true"></a><span class="kw">def</span> argument(<span class="op">*</span>name_or_flags, <span class="op">**</span>kwargs):</span>
      <span id="cb14-92"><a href="#cb14-92" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Helper function to satisfy argparse.ArgumentParser.add_argument()&#39;s</span></span>
      <span id="cb14-93"><a href="#cb14-93" aria-hidden="true"></a><span class="co">    input argument syntax.</span></span>
      <span id="cb14-94"><a href="#cb14-94" aria-hidden="true"></a></span>
      <span id="cb14-95"><a href="#cb14-95" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb14-96"><a href="#cb14-96" aria-hidden="true"></a>    <span class="cf">return</span> (<span class="bu">list</span>(name_or_flags), kwargs)</span>
      <span id="cb14-97"><a href="#cb14-97" aria-hidden="true"></a></span>
      <span id="cb14-98"><a href="#cb14-98" aria-hidden="true"></a><span class="kw">def</span> subcommand(args<span class="op">=</span>[], parent<span class="op">=</span>subparsers):</span>
      <span id="cb14-99"><a href="#cb14-99" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Decorator to define a new subcommand in a sanity-preserving way.</span></span>
      <span id="cb14-100"><a href="#cb14-100" aria-hidden="true"></a><span class="co">    See https://mike.depalatis.net/blog/simplifying-argparse.html</span></span>
      <span id="cb14-101"><a href="#cb14-101" aria-hidden="true"></a></span>
      <span id="cb14-102"><a href="#cb14-102" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb14-103"><a href="#cb14-103" aria-hidden="true"></a>    <span class="kw">def</span> decorator(func):</span>
      <span id="cb14-104"><a href="#cb14-104" aria-hidden="true"></a>        parser <span class="op">=</span> parent.add_parser(func.<span class="va">__name__</span>, description<span class="op">=</span>func.__doc__)</span>
      <span id="cb14-105"><a href="#cb14-105" aria-hidden="true"></a>        <span class="cf">for</span> arg <span class="kw">in</span> args:</span>
      <span id="cb14-106"><a href="#cb14-106" aria-hidden="true"></a>            parser.add_argument(<span class="op">*</span>arg[<span class="dv">0</span>], <span class="op">**</span>arg[<span class="dv">1</span>])</span>
      <span id="cb14-107"><a href="#cb14-107" aria-hidden="true"></a>        parser.set_defaults(func<span class="op">=</span>func)</span>
      <span id="cb14-108"><a href="#cb14-108" aria-hidden="true"></a>    <span class="cf">return</span> decorator</span>
      <span id="cb14-109"><a href="#cb14-109" aria-hidden="true"></a></span>
      <span id="cb14-110"><a href="#cb14-110" aria-hidden="true"></a><span class="co"># &#39;swarm&#39; subcommands definition</span></span>
      <span id="cb14-111"><a href="#cb14-111" aria-hidden="true"></a><span class="at">@subcommand</span>([</span>
      <span id="cb14-112"><a href="#cb14-112" aria-hidden="true"></a>  argument(<span class="st">&#39;command&#39;</span>, <span class="bu">help</span><span class="op">=</span><span class="st">&#39;Commands&#39;</span>, choices<span class="op">=</span>[</span>
      <span id="cb14-113"><a href="#cb14-113" aria-hidden="true"></a>    <span class="st">&#39;create&#39;</span>, <span class="st">&#39;remove&#39;</span>, <span class="st">&#39;start&#39;</span>, <span class="st">&#39;status&#39;</span>, <span class="st">&#39;stop&#39;</span>, <span class="st">&#39;update&#39;</span></span>
      <span id="cb14-114"><a href="#cb14-114" aria-hidden="true"></a>    ])</span>
      <span id="cb14-115"><a href="#cb14-115" aria-hidden="true"></a>  ])</span>
      <span id="cb14-116"><a href="#cb14-116" aria-hidden="true"></a><span class="kw">def</span> swarm(args):</span>
      <span id="cb14-117"><a href="#cb14-117" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39;swarm subcommand definition&#39;&#39;&#39;</span></span>
      <span id="cb14-118"><a href="#cb14-118" aria-hidden="true"></a>    cmd <span class="op">=</span> args.command</span>
      <span id="cb14-119"><a href="#cb14-119" aria-hidden="true"></a>    <span class="bu">list</span> <span class="op">=</span> get_listfromfile(<span class="st">&#39;conf/swarm.conf&#39;</span>)</span>
      <span id="cb14-120"><a href="#cb14-120" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;create&#39;</span>:</span>
      <span id="cb14-121"><a href="#cb14-121" aria-hidden="true"></a>        swarm_create(<span class="bu">list</span>)</span>
      <span id="cb14-122"><a href="#cb14-122" aria-hidden="true"></a>        swarm_config_network(<span class="bu">list</span>)</span>
      <span id="cb14-123"><a href="#cb14-123" aria-hidden="true"></a>        <span class="co"># swarm_config_nfs(list)</span></span>
      <span id="cb14-124"><a href="#cb14-124" aria-hidden="true"></a>        swarm_register(<span class="bu">list</span>)</span>
      <span id="cb14-125"><a href="#cb14-125" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;remove&#39;</span>:</span>
      <span id="cb14-126"><a href="#cb14-126" aria-hidden="true"></a>        <span class="co"># swarm_stop(list)</span></span>
      <span id="cb14-127"><a href="#cb14-127" aria-hidden="true"></a>        swarm_remove(<span class="bu">list</span>)</span>
      <span id="cb14-128"><a href="#cb14-128" aria-hidden="true"></a>        swarm_cleanup(<span class="bu">list</span>)</span>
      <span id="cb14-129"><a href="#cb14-129" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;start&#39;</span>:</span>
      <span id="cb14-130"><a href="#cb14-130" aria-hidden="true"></a>        swarm_start(<span class="bu">list</span>)</span>
      <span id="cb14-131"><a href="#cb14-131" aria-hidden="true"></a>        <span class="co"># swarm_config_network(list)</span></span>
      <span id="cb14-132"><a href="#cb14-132" aria-hidden="true"></a>        <span class="co"># swarm_register(list)</span></span>
      <span id="cb14-133"><a href="#cb14-133" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;status&#39;</span>:</span>
      <span id="cb14-134"><a href="#cb14-134" aria-hidden="true"></a>        swarm_status(<span class="bu">list</span>)</span>
      <span id="cb14-135"><a href="#cb14-135" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;stop&#39;</span>:</span>
      <span id="cb14-136"><a href="#cb14-136" aria-hidden="true"></a>        swarm_stop(<span class="bu">list</span>)</span>
      <span id="cb14-137"><a href="#cb14-137" aria-hidden="true"></a>    <span class="cf">if</span> cmd <span class="op">==</span> <span class="st">&#39;update&#39;</span>:</span>
      <span id="cb14-138"><a href="#cb14-138" aria-hidden="true"></a>        <span class="co"># swarm_config_network(list)</span></span>
      <span id="cb14-139"><a href="#cb14-139" aria-hidden="true"></a>        swarm_config_nfs(<span class="bu">list</span>)</span>
      <span id="cb14-140"><a href="#cb14-140" aria-hidden="true"></a>        <span class="co"># swarm_config_extras(list)</span></span>
      <span id="cb14-141"><a href="#cb14-141" aria-hidden="true"></a>        <span class="co"># swarm_register(list)</span></span>
      <span id="cb14-142"><a href="#cb14-142" aria-hidden="true"></a></span>
      <span id="cb14-143"><a href="#cb14-143" aria-hidden="true"></a>...</span>
      <span id="cb14-144"><a href="#cb14-144" aria-hidden="true"></a></span>
      <span id="cb14-145"><a href="#cb14-145" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; SUBPROCESS FUNCTIONS --------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-146"><a href="#cb14-146" aria-hidden="true"></a><span class="kw">def</span> subprocess_run(cmd, timeout_s<span class="op">=</span><span class="dv">180</span>, <span class="bu">input</span><span class="op">=</span><span class="va">None</span>):</span>
      <span id="cb14-147"><a href="#cb14-147" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;_summary_</span></span>
      <span id="cb14-148"><a href="#cb14-148" aria-hidden="true"></a></span>
      <span id="cb14-149"><a href="#cb14-149" aria-hidden="true"></a><span class="co">    Args:</span></span>
      <span id="cb14-150"><a href="#cb14-150" aria-hidden="true"></a><span class="co">        cmd (_type_): _description_</span></span>
      <span id="cb14-151"><a href="#cb14-151" aria-hidden="true"></a><span class="co">        timeout_s (int, optional): _description_. Defaults to 180.</span></span>
      <span id="cb14-152"><a href="#cb14-152" aria-hidden="true"></a><span class="co">        input (_type_, optional): _description_. Defaults to None.</span></span>
      <span id="cb14-153"><a href="#cb14-153" aria-hidden="true"></a></span>
      <span id="cb14-154"><a href="#cb14-154" aria-hidden="true"></a><span class="co">    Returns:</span></span>
      <span id="cb14-155"><a href="#cb14-155" aria-hidden="true"></a><span class="co">        _type_: _description_</span></span>
      <span id="cb14-156"><a href="#cb14-156" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb14-157"><a href="#cb14-157" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;subprocess_run(cmd=</span><span class="sc">{</span>cmd<span class="sc">}</span><span class="ss">, timeout_s=</span><span class="sc">{</span>timeout_s<span class="sc">}</span><span class="ss">, input=</span><span class="sc">{</span><span class="bu">input</span><span class="sc">}</span><span class="ss">)&#39;</span>)</span>
      <span id="cb14-158"><a href="#cb14-158" aria-hidden="true"></a>    <span class="cf">try</span>:</span>
      <span id="cb14-159"><a href="#cb14-159" aria-hidden="true"></a>        <span class="co"># proc = subprocess.run(cmd, input=input, timeout=timeout_s, capture_output=True, text=True, shell=True)</span></span>
      <span id="cb14-160"><a href="#cb14-160" aria-hidden="true"></a>        proc <span class="op">=</span> subprocess.run(cmd, <span class="bu">input</span><span class="op">=</span><span class="bu">input</span>, timeout<span class="op">=</span>timeout_s, capture_output<span class="op">=</span><span class="va">True</span>, text<span class="op">=</span><span class="va">True</span>)</span>
      <span id="cb14-161"><a href="#cb14-161" aria-hidden="true"></a>    <span class="cf">except</span> subprocess.TimeoutExpired:</span>
      <span id="cb14-162"><a href="#cb14-162" aria-hidden="true"></a>        log.error(<span class="ss">f&#39;timeout for cmd=</span><span class="sc">{</span>cmd<span class="sc">}</span><span class="ss"> (</span><span class="sc">{</span>timeout_s<span class="sc">}</span><span class="ss">s) expired.&#39;</span>)</span>
      <span id="cb14-163"><a href="#cb14-163" aria-hidden="true"></a>        sys.exit(<span class="dv">1</span>)</span>
      <span id="cb14-164"><a href="#cb14-164" aria-hidden="true"></a>    stdout <span class="op">=</span> []</span>
      <span id="cb14-165"><a href="#cb14-165" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> proc.stdout.splitlines():</span>
      <span id="cb14-166"><a href="#cb14-166" aria-hidden="true"></a>        stdout.append(line)</span>
      <span id="cb14-167"><a href="#cb14-167" aria-hidden="true"></a>    stderr <span class="op">=</span> []</span>
      <span id="cb14-168"><a href="#cb14-168" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> proc.stderr.splitlines():</span>
      <span id="cb14-169"><a href="#cb14-169" aria-hidden="true"></a>        stderr.append(line)</span>
      <span id="cb14-170"><a href="#cb14-170" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;stdout=</span><span class="sc">{</span>stdout<span class="sc">}</span><span class="ss">, stderr=</span><span class="sc">{</span>stderr<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-171"><a href="#cb14-171" aria-hidden="true"></a>    <span class="cf">return</span> proc</span>
      <span id="cb14-172"><a href="#cb14-172" aria-hidden="true"></a></span>
      <span id="cb14-173"><a href="#cb14-173" aria-hidden="true"></a>...</span>
      <span id="cb14-174"><a href="#cb14-174" aria-hidden="true"></a></span>
      <span id="cb14-175"><a href="#cb14-175" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; MACHINE FUNCTIONS ----------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-176"><a href="#cb14-176" aria-hidden="true"></a><span class="kw">def</span> machine_env(hostname: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">list</span>:</span>
      <span id="cb14-177"><a href="#cb14-177" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Get docker environment from machine hostname.</span></span>
      <span id="cb14-178"><a href="#cb14-178" aria-hidden="true"></a></span>
      <span id="cb14-179"><a href="#cb14-179" aria-hidden="true"></a><span class="co">    Args:</span></span>
      <span id="cb14-180"><a href="#cb14-180" aria-hidden="true"></a><span class="co">        hostname (str): machine hostname</span></span>
      <span id="cb14-181"><a href="#cb14-181" aria-hidden="true"></a></span>
      <span id="cb14-182"><a href="#cb14-182" aria-hidden="true"></a><span class="co">    Returns:</span></span>
      <span id="cb14-183"><a href="#cb14-183" aria-hidden="true"></a><span class="co">        list: docker environment as ([key, value])</span></span>
      <span id="cb14-184"><a href="#cb14-184" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb14-185"><a href="#cb14-185" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;</span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">: getting machine environment&#39;</span>)</span>
      <span id="cb14-186"><a href="#cb14-186" aria-hidden="true"></a>    cmd <span class="op">=</span> [get_exec(<span class="st">&#39;machine&#39;</span>), <span class="st">&#39;env&#39;</span>, hostname]</span>
      <span id="cb14-187"><a href="#cb14-187" aria-hidden="true"></a>    proc <span class="op">=</span> subprocess_run(cmd)</span>
      <span id="cb14-188"><a href="#cb14-188" aria-hidden="true"></a>    env <span class="op">=</span> []</span>
      <span id="cb14-189"><a href="#cb14-189" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> proc.stdout.splitlines():</span>
      <span id="cb14-190"><a href="#cb14-190" aria-hidden="true"></a>        <span class="cf">if</span> line.startswith(<span class="st">&#39;REM&#39;</span>) <span class="kw">or</span> line.startswith(<span class="st">&#39;#&#39;</span>): <span class="cf">continue</span></span>
      <span id="cb14-191"><a href="#cb14-191" aria-hidden="true"></a>        line <span class="op">=</span> line.replace(<span class="st">&#39;$Env:&#39;</span>, <span class="st">&#39;&#39;</span>).replace(<span class="st">&#39;SET &#39;</span>, <span class="st">&#39;&#39;</span>)</span>
      <span id="cb14-192"><a href="#cb14-192" aria-hidden="true"></a>        key <span class="op">=</span> line.split(<span class="st">&#39;=&#39;</span>, <span class="dv">1</span>)[<span class="dv">0</span>].strip()</span>
      <span id="cb14-193"><a href="#cb14-193" aria-hidden="true"></a>        value <span class="op">=</span> line.split(<span class="st">&#39;=&#39;</span>, <span class="dv">1</span>)[<span class="dv">1</span>].strip()</span>
      <span id="cb14-194"><a href="#cb14-194" aria-hidden="true"></a>        env.append([key, value])</span>
      <span id="cb14-195"><a href="#cb14-195" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;hostname=</span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">, env=</span><span class="sc">{</span>env<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-196"><a href="#cb14-196" aria-hidden="true"></a>    <span class="cf">return</span> env</span>
      <span id="cb14-197"><a href="#cb14-197" aria-hidden="true"></a></span>
      <span id="cb14-198"><a href="#cb14-198" aria-hidden="true"></a><span class="kw">def</span> machine_activate(hostname: <span class="bu">str</span>):</span>
      <span id="cb14-199"><a href="#cb14-199" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;Set docker environment from machine hostname.</span></span>
      <span id="cb14-200"><a href="#cb14-200" aria-hidden="true"></a></span>
      <span id="cb14-201"><a href="#cb14-201" aria-hidden="true"></a><span class="co">    Args:</span></span>
      <span id="cb14-202"><a href="#cb14-202" aria-hidden="true"></a><span class="co">        hostname (str): machine</span></span>
      <span id="cb14-203"><a href="#cb14-203" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb14-204"><a href="#cb14-204" aria-hidden="true"></a>    env <span class="op">=</span> machine_env(hostname)</span>
      <span id="cb14-205"><a href="#cb14-205" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;</span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">: Setting machine environment&#39;</span>)</span>
      <span id="cb14-206"><a href="#cb14-206" aria-hidden="true"></a>    os.environ <span class="op">=</span> __env__</span>
      <span id="cb14-207"><a href="#cb14-207" aria-hidden="true"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> env:</span>
      <span id="cb14-208"><a href="#cb14-208" aria-hidden="true"></a>        os.environ[key] <span class="op">=</span> value</span>
      <span id="cb14-209"><a href="#cb14-209" aria-hidden="true"></a></span>
      <span id="cb14-210"><a href="#cb14-210" aria-hidden="true"></a>...</span>
      <span id="cb14-211"><a href="#cb14-211" aria-hidden="true"></a></span>
      <span id="cb14-212"><a href="#cb14-212" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; SWARM FUNCTIONS ------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-213"><a href="#cb14-213" aria-hidden="true"></a></span>
      <span id="cb14-214"><a href="#cb14-214" aria-hidden="true"></a>...</span>
      <span id="cb14-215"><a href="#cb14-215" aria-hidden="true"></a></span>
      <span id="cb14-216"><a href="#cb14-216" aria-hidden="true"></a><span class="kw">def</span> swarm_create(<span class="bu">list</span>):</span>
      <span id="cb14-217"><a href="#cb14-217" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;&#39;swarm_create(list)&#39; documentation.</span></span>
      <span id="cb14-218"><a href="#cb14-218" aria-hidden="true"></a><span class="co">    </span></span>
      <span id="cb14-219"><a href="#cb14-219" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb14-220"><a href="#cb14-220" aria-hidden="true"></a>    log.info(<span class="st">&#39;&gt; Creating swarm... (This may take several minutes)&#39;</span>)</span>
      <span id="cb14-221"><a href="#cb14-221" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;list=</span><span class="sc">{</span><span class="bu">list</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-222"><a href="#cb14-222" aria-hidden="true"></a>    <span class="cf">if</span> __platform__ <span class="op">==</span> <span class="st">&#39;Windows&#39;</span>:</span>
      <span id="cb14-223"><a href="#cb14-223" aria-hidden="true"></a>        options <span class="op">=</span> get_listfromfile(<span class="st">&#39;conf/driver-windows-virtualbox.conf&#39;</span>)</span>
      <span id="cb14-224"><a href="#cb14-224" aria-hidden="true"></a>    cmd <span class="op">=</span> [get_exec(<span class="st">&#39;machine&#39;</span>)] <span class="op">+</span> [<span class="st">&#39;create&#39;</span>] <span class="op">+</span> options</span>
      <span id="cb14-225"><a href="#cb14-225" aria-hidden="true"></a>    processes <span class="op">=</span> subprocess_prun(cmd, <span class="bu">list</span>, <span class="dv">120</span>)</span>
      <span id="cb14-226"><a href="#cb14-226" aria-hidden="true"></a>    log.info(<span class="ss">f&#39;&gt; </span><span class="sc">{</span><span class="bu">len</span>(<span class="bu">list</span>)<span class="sc">}</span><span class="ss"> machines created.&#39;</span>)</span>
      <span id="cb14-227"><a href="#cb14-227" aria-hidden="true"></a></span>
      <span id="cb14-228"><a href="#cb14-228" aria-hidden="true"></a><span class="kw">def</span> swarm_register(<span class="bu">list</span>):</span>
      <span id="cb14-229"><a href="#cb14-229" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;&#39;swarm_register(list)&#39; documentation.</span></span>
      <span id="cb14-230"><a href="#cb14-230" aria-hidden="true"></a><span class="co">    </span></span>
      <span id="cb14-231"><a href="#cb14-231" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb14-232"><a href="#cb14-232" aria-hidden="true"></a>    log.info(<span class="st">&#39;&gt; Registering swarm...&#39;</span>)</span>
      <span id="cb14-233"><a href="#cb14-233" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;list=</span><span class="sc">{</span><span class="bu">list</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-234"><a href="#cb14-234" aria-hidden="true"></a>    manager <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
      <span id="cb14-235"><a href="#cb14-235" aria-hidden="true"></a>    port <span class="op">=</span> <span class="st">&#39;2377&#39;</span></span>
      <span id="cb14-236"><a href="#cb14-236" aria-hidden="true"></a>    token <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
      <span id="cb14-237"><a href="#cb14-237" aria-hidden="true"></a>    <span class="cf">for</span> hostname <span class="kw">in</span> <span class="bu">list</span>:</span>
      <span id="cb14-238"><a href="#cb14-238" aria-hidden="true"></a>        machine_activate(hostname)</span>
      <span id="cb14-239"><a href="#cb14-239" aria-hidden="true"></a>        machine_swarm_leave(hostname)</span>
      <span id="cb14-240"><a href="#cb14-240" aria-hidden="true"></a>        <span class="cf">if</span> <span class="st">&#39;manager&#39;</span> <span class="kw">in</span> hostname:</span>
      <span id="cb14-241"><a href="#cb14-241" aria-hidden="true"></a>            ip <span class="op">=</span> machine_ip(hostname)</span>
      <span id="cb14-242"><a href="#cb14-242" aria-hidden="true"></a>            manager <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{ip}</span><span class="ss">:</span><span class="sc">{</span>port<span class="sc">}</span><span class="ss">&#39;</span></span>
      <span id="cb14-243"><a href="#cb14-243" aria-hidden="true"></a>            log.debug(<span class="ss">f&#39;manager=</span><span class="sc">{</span>manager<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-244"><a href="#cb14-244" aria-hidden="true"></a>            token <span class="op">=</span> machine_swarm_init(hostname, ip)</span>
      <span id="cb14-245"><a href="#cb14-245" aria-hidden="true"></a>        <span class="cf">else</span>:</span>
      <span id="cb14-246"><a href="#cb14-246" aria-hidden="true"></a>            machine_swarm_join(hostname, token, manager)</span>
      <span id="cb14-247"><a href="#cb14-247" aria-hidden="true"></a>    log.info(<span class="ss">f&#39;&gt; </span><span class="sc">{</span><span class="bu">len</span>(<span class="bu">list</span>)<span class="sc">}</span><span class="ss"> nodes registered.&#39;</span>)</span>
      <span id="cb14-248"><a href="#cb14-248" aria-hidden="true"></a></span>
      <span id="cb14-249"><a href="#cb14-249" aria-hidden="true"></a>...</span>
      <span id="cb14-250"><a href="#cb14-250" aria-hidden="true"></a></span>
      <span id="cb14-251"><a href="#cb14-251" aria-hidden="true"></a><span class="kw">def</span> swarm_config_network(<span class="bu">list</span>):</span>
      <span id="cb14-252"><a href="#cb14-252" aria-hidden="true"></a>    <span class="co">&quot;&quot;&quot;&#39;swarm_setup(list)&#39; documentation.</span></span>
      <span id="cb14-253"><a href="#cb14-253" aria-hidden="true"></a><span class="co">    </span></span>
      <span id="cb14-254"><a href="#cb14-254" aria-hidden="true"></a><span class="co">    &quot;&quot;&quot;</span></span>
      <span id="cb14-255"><a href="#cb14-255" aria-hidden="true"></a>    log.info(<span class="st">&#39;&gt; Setting up network...&#39;</span>)</span>
      <span id="cb14-256"><a href="#cb14-256" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;list=</span><span class="sc">{</span><span class="bu">list</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-257"><a href="#cb14-257" aria-hidden="true"></a>    <span class="co"># Create temporary hosts file</span></span>
      <span id="cb14-258"><a href="#cb14-258" aria-hidden="true"></a>    local_path <span class="op">=</span> <span class="st">&#39;tmp/hosts&#39;</span></span>
      <span id="cb14-259"><a href="#cb14-259" aria-hidden="true"></a>    <span class="bu">file</span> <span class="op">=</span> <span class="bu">open</span>(local_path, <span class="st">&#39;w&#39;</span>)</span>
      <span id="cb14-260"><a href="#cb14-260" aria-hidden="true"></a>    <span class="bu">file</span>.write(<span class="st">&#39;# /etc/hosts</span><span class="ch">\n</span><span class="st">&#39;</span>)</span>
      <span id="cb14-261"><a href="#cb14-261" aria-hidden="true"></a>    <span class="cf">for</span> hostname <span class="kw">in</span> <span class="bu">list</span>:</span>
      <span id="cb14-262"><a href="#cb14-262" aria-hidden="true"></a>        ip <span class="op">=</span> machine_ip(hostname)</span>
      <span id="cb14-263"><a href="#cb14-263" aria-hidden="true"></a>        line <span class="op">=</span> <span class="ss">f&#39;</span><span class="sc">{ip}</span><span class="ss"> </span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">&#39;</span></span>
      <span id="cb14-264"><a href="#cb14-264" aria-hidden="true"></a>        log.debug(<span class="ss">f&#39;Adding line=</span><span class="sc">{</span>line<span class="sc">}</span><span class="ss"> to </span><span class="sc">{</span>local_path<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-265"><a href="#cb14-265" aria-hidden="true"></a>        <span class="bu">file</span>.write(<span class="ss">f&#39;</span><span class="sc">{</span>line<span class="sc">}</span><span class="ch">\n</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-266"><a href="#cb14-266" aria-hidden="true"></a>    <span class="bu">file</span>.close()</span>
      <span id="cb14-267"><a href="#cb14-267" aria-hidden="true"></a>    <span class="co"># Write to each host</span></span>
      <span id="cb14-268"><a href="#cb14-268" aria-hidden="true"></a>    tag <span class="op">=</span> <span class="ss">f&#39;# Added by </span><span class="sc">{</span>__basename__<span class="sc">}</span><span class="ss">:swarm_config_network()&#39;</span></span>
      <span id="cb14-269"><a href="#cb14-269" aria-hidden="true"></a>    remote_path <span class="op">=</span> <span class="st">&#39;/etc/hosts&#39;</span></span>
      <span id="cb14-270"><a href="#cb14-270" aria-hidden="true"></a>    <span class="cf">for</span> hostname <span class="kw">in</span> <span class="bu">list</span>:</span>
      <span id="cb14-271"><a href="#cb14-271" aria-hidden="true"></a>        log.info(<span class="ss">f&#39;</span><span class="sc">{</span>hostname<span class="sc">}</span><span class="ss">: Edit </span><span class="sc">{</span>remote_path<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-272"><a href="#cb14-272" aria-hidden="true"></a>        <span class="co"># Remove previous appends depending on tag</span></span>
      <span id="cb14-273"><a href="#cb14-273" aria-hidden="true"></a>        cmd <span class="op">=</span> <span class="st">&#39;&#39;</span></span>
      <span id="cb14-274"><a href="#cb14-274" aria-hidden="true"></a>        cmd <span class="op">+=</span> <span class="st">&#39;i=1; while read line; do &#39;</span></span>
      <span id="cb14-275"><a href="#cb14-275" aria-hidden="true"></a>        cmd <span class="op">+=</span> <span class="st">&#39;if [ &quot;$line&quot; == &quot;&#39;</span><span class="op">+</span> tag <span class="op">+</span><span class="st">&#39;&quot; ]; then break; fi; i=$((i+1)); &#39;</span></span>
      <span id="cb14-276"><a href="#cb14-276" aria-hidden="true"></a>        cmd <span class="op">+=</span> <span class="st">&#39;done &lt; /etc/hosts; &#39;</span></span>
      <span id="cb14-277"><a href="#cb14-277" aria-hidden="true"></a>        cmd <span class="op">+=</span> <span class="st">&#39;head -n $((i-1)) /etc/hosts | sudo tee /etc/hosts&#39;</span></span>
      <span id="cb14-278"><a href="#cb14-278" aria-hidden="true"></a>        proc <span class="op">=</span> machine_ssh(hostname, cmd)</span>
      <span id="cb14-279"><a href="#cb14-279" aria-hidden="true"></a>        <span class="co"># Append host definitions</span></span>
      <span id="cb14-280"><a href="#cb14-280" aria-hidden="true"></a>        cmd <span class="op">=</span> <span class="st">&#39;{ echo &quot;&#39;</span> <span class="op">+</span> tag <span class="op">+</span> <span class="st">&#39;&quot;; &#39;</span></span>
      <span id="cb14-281"><a href="#cb14-281" aria-hidden="true"></a>        <span class="cf">for</span> line <span class="kw">in</span> get_listfromfile(local_path):</span>
      <span id="cb14-282"><a href="#cb14-282" aria-hidden="true"></a>            <span class="cf">if</span> line.endswith(hostname): <span class="cf">continue</span></span>
      <span id="cb14-283"><a href="#cb14-283" aria-hidden="true"></a>            cmd <span class="op">=</span> cmd <span class="op">+</span> <span class="st">&#39;echo &quot;&#39;</span> <span class="op">+</span> line <span class="op">+</span> <span class="st">&#39;&quot;; &#39;</span></span>
      <span id="cb14-284"><a href="#cb14-284" aria-hidden="true"></a>        cmd <span class="op">=</span> cmd <span class="op">+</span> <span class="st">&#39;} | sudo tee -a /etc/hosts&#39;</span></span>
      <span id="cb14-285"><a href="#cb14-285" aria-hidden="true"></a>        proc <span class="op">=</span> machine_ssh(hostname, cmd)</span>
      <span id="cb14-286"><a href="#cb14-286" aria-hidden="true"></a>    log.info(<span class="st">&#39;&gt; Network setup complete.&#39;</span>)</span>
      <span id="cb14-287"><a href="#cb14-287" aria-hidden="true"></a></span>
      <span id="cb14-288"><a href="#cb14-288" aria-hidden="true"></a>...</span>
      <span id="cb14-289"><a href="#cb14-289" aria-hidden="true"></a></span>
      <span id="cb14-290"><a href="#cb14-290" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; STACK FUNCTIONS ------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-291"><a href="#cb14-291" aria-hidden="true"></a><span class="kw">def</span> compose_convert():</span>
      <span id="cb14-292"><a href="#cb14-292" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39;&#39;&#39;&#39;</span></span>
      <span id="cb14-293"><a href="#cb14-293" aria-hidden="true"></a>    version <span class="op">=</span> <span class="st">&#39;3.6&#39;</span></span>
      <span id="cb14-294"><a href="#cb14-294" aria-hidden="true"></a></span>
      <span id="cb14-295"><a href="#cb14-295" aria-hidden="true"></a>    cmd <span class="op">=</span> [get_exec(<span class="st">&#39;docker&#39;</span>), <span class="st">&#39;compose&#39;</span>, <span class="st">&#39;convert&#39;</span>]</span>
      <span id="cb14-296"><a href="#cb14-296" aria-hidden="true"></a>    proc <span class="op">=</span> subprocess_run(cmd)</span>
      <span id="cb14-297"><a href="#cb14-297" aria-hidden="true"></a></span>
      <span id="cb14-298"><a href="#cb14-298" aria-hidden="true"></a>    <span class="co"># &#39;docker compose convert&#39; needs serious fixing...</span></span>
      <span id="cb14-299"><a href="#cb14-299" aria-hidden="true"></a>    <span class="co"># 1. add mandatory compose version.</span></span>
      <span id="cb14-300"><a href="#cb14-300" aria-hidden="true"></a>    compose <span class="op">=</span> <span class="ss">f&quot;version: &#39;</span><span class="sc">{</span>version<span class="sc">}</span><span class="ss">&#39;</span><span class="ch">\n</span><span class="ss">&quot;</span></span>
      <span id="cb14-301"><a href="#cb14-301" aria-hidden="true"></a>    <span class="cf">for</span> line <span class="kw">in</span> proc.stdout.splitlines():</span>
      <span id="cb14-302"><a href="#cb14-302" aria-hidden="true"></a>        <span class="co"># 2. remove conflicting name entry.</span></span>
      <span id="cb14-303"><a href="#cb14-303" aria-hidden="true"></a>        <span class="cf">if</span> line.startswith(<span class="st">&#39;name&#39;</span>) : <span class="cf">continue</span></span>
      <span id="cb14-304"><a href="#cb14-304" aria-hidden="true"></a>        <span class="co"># 3. remove &#39;&quot;&#39; to define integers.</span></span>
      <span id="cb14-305"><a href="#cb14-305" aria-hidden="true"></a>        <span class="cf">if</span> <span class="st">&#39;published&#39;</span> <span class="kw">in</span> line : line <span class="op">=</span> line.replace(<span class="st">&#39;&quot;&#39;</span>, <span class="st">&#39;&#39;</span>)</span>
      <span id="cb14-306"><a href="#cb14-306" aria-hidden="true"></a>        compose <span class="op">=</span> compose <span class="op">+</span> <span class="ss">f&#39;</span><span class="sc">{</span>line<span class="sc">}</span><span class="ch">\n</span><span class="ss">&#39;</span></span>
      <span id="cb14-307"><a href="#cb14-307" aria-hidden="true"></a></span>
      <span id="cb14-308"><a href="#cb14-308" aria-hidden="true"></a>    <span class="cf">return</span> compose</span>
      <span id="cb14-309"><a href="#cb14-309" aria-hidden="true"></a></span>
      <span id="cb14-310"><a href="#cb14-310" aria-hidden="true"></a>...</span>
      <span id="cb14-311"><a href="#cb14-311" aria-hidden="true"></a></span>
      <span id="cb14-312"><a href="#cb14-312" aria-hidden="true"></a><span class="kw">def</span> stack_deploy(stack, manager):</span>
      <span id="cb14-313"><a href="#cb14-313" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39;Deploy a single docker stack on swarm manager.&#39;&#39;&#39;</span></span>
      <span id="cb14-314"><a href="#cb14-314" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;stack=</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">, manager=</span><span class="sc">{</span>manager<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-315"><a href="#cb14-315" aria-hidden="true"></a>    log.info(<span class="ss">f&#39;</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">: Deploying stack.&#39;</span>)</span>
      <span id="cb14-316"><a href="#cb14-316" aria-hidden="true"></a></span>
      <span id="cb14-317"><a href="#cb14-317" aria-hidden="true"></a>    <span class="co"># Setup working directory and environment</span></span>
      <span id="cb14-318"><a href="#cb14-318" aria-hidden="true"></a>    os.chdir(<span class="ss">f&#39;</span><span class="sc">{</span>__dirname__<span class="sc">}</span><span class="ss">/stacks/</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-319"><a href="#cb14-319" aria-hidden="true"></a>    machine_activate(manager)</span>
      <span id="cb14-320"><a href="#cb14-320" aria-hidden="true"></a></span>
      <span id="cb14-321"><a href="#cb14-321" aria-hidden="true"></a>    <span class="co"># Add environment variables</span></span>
      <span id="cb14-322"><a href="#cb14-322" aria-hidden="true"></a>    env <span class="op">=</span> [</span>
      <span id="cb14-323"><a href="#cb14-323" aria-hidden="true"></a>      (<span class="st">&#39;STACK&#39;</span>, stack),</span>
      <span id="cb14-324"><a href="#cb14-324" aria-hidden="true"></a>      (<span class="st">&#39;MANAGER&#39;</span>, manager)</span>
      <span id="cb14-325"><a href="#cb14-325" aria-hidden="true"></a>    ]</span>
      <span id="cb14-326"><a href="#cb14-326" aria-hidden="true"></a>    <span class="cf">for</span> key, value <span class="kw">in</span> env:</span>
      <span id="cb14-327"><a href="#cb14-327" aria-hidden="true"></a>        os.environ[key] <span class="op">=</span> value</span>
      <span id="cb14-328"><a href="#cb14-328" aria-hidden="true"></a></span>
      <span id="cb14-329"><a href="#cb14-329" aria-hidden="true"></a>    <span class="co"># If stack contains builds</span></span>
      <span id="cb14-330"><a href="#cb14-330" aria-hidden="true"></a>    <span class="cf">if</span> os.path.isdir(<span class="st">&#39;builds&#39;</span>):</span>
      <span id="cb14-331"><a href="#cb14-331" aria-hidden="true"></a>        <span class="cf">for</span> build <span class="kw">in</span> os.listdir(<span class="st">&#39;builds&#39;</span>):</span>
      <span id="cb14-332"><a href="#cb14-332" aria-hidden="true"></a>            log.debug(<span class="ss">f&#39;build=</span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-333"><a href="#cb14-333" aria-hidden="true"></a>            <span class="co"># Build image</span></span>
      <span id="cb14-334"><a href="#cb14-334" aria-hidden="true"></a>            log.info(<span class="ss">f&#39;</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">: Building </span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">.&#39;</span>)</span>
      <span id="cb14-335"><a href="#cb14-335" aria-hidden="true"></a>            cmd <span class="op">=</span> [get_exec(<span class="st">&#39;docker&#39;</span>), <span class="st">&#39;build&#39;</span>, <span class="st">&#39;-t&#39;</span>, <span class="ss">f&#39;127.0.0.1:5000/</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">&#39;</span>, <span class="ss">f&#39;builds/</span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">/.&#39;</span>]</span>
      <span id="cb14-336"><a href="#cb14-336" aria-hidden="true"></a>            proc <span class="op">=</span> subprocess_run(cmd, timeout_s<span class="op">=</span><span class="dv">240</span>)</span>
      <span id="cb14-337"><a href="#cb14-337" aria-hidden="true"></a>            <span class="co"># Push image to registry</span></span>
      <span id="cb14-338"><a href="#cb14-338" aria-hidden="true"></a>            log.info(<span class="ss">f&#39;</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">: Pushing </span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">.&#39;</span>)</span>
      <span id="cb14-339"><a href="#cb14-339" aria-hidden="true"></a>            cmd <span class="op">=</span> [get_exec(<span class="st">&#39;docker&#39;</span>), <span class="st">&#39;push&#39;</span>, <span class="ss">f&#39;127.0.0.1:5000/</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">-</span><span class="sc">{</span>build<span class="sc">}</span><span class="ss">:latest&#39;</span>]</span>
      <span id="cb14-340"><a href="#cb14-340" aria-hidden="true"></a>            proc <span class="op">=</span> subprocess_run(cmd, timeout_s<span class="op">=</span><span class="dv">240</span>)</span>
      <span id="cb14-341"><a href="#cb14-341" aria-hidden="true"></a></span>
      <span id="cb14-342"><a href="#cb14-342" aria-hidden="true"></a>    <span class="co"># Deploy stack</span></span>
      <span id="cb14-343"><a href="#cb14-343" aria-hidden="true"></a>    compose <span class="op">=</span> compose_convert()</span>
      <span id="cb14-344"><a href="#cb14-344" aria-hidden="true"></a>    cmd <span class="op">=</span> [get_exec(<span class="st">&#39;docker&#39;</span>), <span class="st">&#39;stack&#39;</span>, <span class="st">&#39;deploy&#39;</span>, <span class="st">&#39;--compose-file&#39;</span>, <span class="st">&#39;-&#39;</span>, stack]</span>
      <span id="cb14-345"><a href="#cb14-345" aria-hidden="true"></a>    proc <span class="op">=</span> subprocess_run(cmd, <span class="bu">input</span><span class="op">=</span>compose)</span>
      <span id="cb14-346"><a href="#cb14-346" aria-hidden="true"></a></span>
      <span id="cb14-347"><a href="#cb14-347" aria-hidden="true"></a>    <span class="co"># Revert working directory and environment</span></span>
      <span id="cb14-348"><a href="#cb14-348" aria-hidden="true"></a>    os.chdir(__dirname__)</span>
      <span id="cb14-349"><a href="#cb14-349" aria-hidden="true"></a>    os.environ <span class="op">=</span> __env__</span>
      <span id="cb14-350"><a href="#cb14-350" aria-hidden="true"></a>    log.info(<span class="ss">f&#39;</span><span class="sc">{</span>stack<span class="sc">}</span><span class="ss">: Stack deployed.&#39;</span>)</span>
      <span id="cb14-351"><a href="#cb14-351" aria-hidden="true"></a></span>
      <span id="cb14-352"><a href="#cb14-352" aria-hidden="true"></a>...</span>
      <span id="cb14-353"><a href="#cb14-353" aria-hidden="true"></a></span>
      <span id="cb14-354"><a href="#cb14-354" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; MAIN FUNCTION --------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-355"><a href="#cb14-355" aria-hidden="true"></a><span class="kw">def</span> main():</span>
      <span id="cb14-356"><a href="#cb14-356" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39; Main entry point&#39;&#39;&#39;</span></span>
      <span id="cb14-357"><a href="#cb14-357" aria-hidden="true"></a>    <span class="co"># Parse args</span></span>
      <span id="cb14-358"><a href="#cb14-358" aria-hidden="true"></a>    args <span class="op">=</span> parser.parse_args()</span>
      <span id="cb14-359"><a href="#cb14-359" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;args=</span><span class="sc">{</span>args<span class="sc">}</span><span class="ss">, args.subcommand=</span><span class="sc">{</span>args<span class="sc">.</span>subcommand<span class="sc">}</span><span class="ss">&#39;</span>)</span>
      <span id="cb14-360"><a href="#cb14-360" aria-hidden="true"></a>    <span class="cf">if</span> args.subcommand <span class="kw">is</span> <span class="va">None</span>:</span>
      <span id="cb14-361"><a href="#cb14-361" aria-hidden="true"></a>        parser.print_help()</span>
      <span id="cb14-362"><a href="#cb14-362" aria-hidden="true"></a>    <span class="cf">else</span>:</span>
      <span id="cb14-363"><a href="#cb14-363" aria-hidden="true"></a>        args.func(args)</span>
      <span id="cb14-364"><a href="#cb14-364" aria-hidden="true"></a></span>
      <span id="cb14-365"><a href="#cb14-365" aria-hidden="true"></a>    <span class="co"># Debug:</span></span>
      <span id="cb14-366"><a href="#cb14-366" aria-hidden="true"></a>    <span class="co"># print(&quot;User&#39;s Environment variable:&quot;)</span></span>
      <span id="cb14-367"><a href="#cb14-367" aria-hidden="true"></a>    <span class="co"># pprint.pprint(dict(__env__), width = 1)</span></span>
      <span id="cb14-368"><a href="#cb14-368" aria-hidden="true"></a></span>
      <span id="cb14-369"><a href="#cb14-369" aria-hidden="true"></a>    <span class="co"># Execution time</span></span>
      <span id="cb14-370"><a href="#cb14-370" aria-hidden="true"></a>    log.debug(<span class="ss">f&#39;Execution time: </span><span class="sc">{</span>(time.time()<span class="op">-</span>__start__)<span class="op">*</span><span class="dv">10</span><span class="op">**</span><span class="dv">3</span><span class="sc">:.03f}</span><span class="ss"> ms&#39;</span>)</span>
      <span id="cb14-371"><a href="#cb14-371" aria-hidden="true"></a></span>
      <span id="cb14-372"><a href="#cb14-372" aria-hidden="true"></a><span class="co">&quot;&quot;&quot; RUNTIME --------------------------------------------------------------- &quot;&quot;&quot;</span></span>
      <span id="cb14-373"><a href="#cb14-373" aria-hidden="true"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&#39;__main__&#39;</span>:</span>
      <span id="cb14-374"><a href="#cb14-374" aria-hidden="true"></a>    <span class="co">&#39;&#39;&#39; This is executed when run from the command line &#39;&#39;&#39;</span></span>
      <span id="cb14-375"><a href="#cb14-375" aria-hidden="true"></a>    main()</span>
      <span id="cb14-376"><a href="#cb14-376" aria-hidden="true"></a>sys.exit(<span class="dv">0</span>)</span>
      <span id="cb14-377"><a href="#cb14-377" aria-hidden="true"></a></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="shell">7.1.3.3. Shell<!-- OK --></h5>
      <p>Un <strong>shell Unix</strong> est un <strong>interpréteur de commandes</strong> destiné aux systèmes d’exploitation Unix et de type Unix qui permet d’accéder aux fonctionnalités internes du système d’exploitation.</p>
      <p>Un <strong>script shell</strong> est une <strong>liste de commandes</strong> dans un programme qui est <strong>exécute par le shell Unix</strong>. Un script shell comprends des commandes et des commentaires décrivant les opérations effectuées. Ce sont généralement des exécutions de programmes, de la manipulation de fichiers et de l’affichage de texte.</p>
      <p>Voici <code>start.sh</code>, un exemple de script shell (utilisé par le Dockerfile précédent comme script de démarrage du conteneur) démarrant successivement un serveur ssh et l’applicatif de Tomcat :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb15"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a></span>
      <span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a><span class="co">#!/usr/bin/env sh</span></span>
      <span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a></span>
      <span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${HOSTNAME}</span><span class="st">:</span><span class="va">$0</span><span class="st">: &gt;&gt; Begin.&quot;</span></span>
      <span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a></span>
      <span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a><span class="kw">set</span> <span class="ex">-e</span></span>
      <span id="cb15-7"><a href="#cb15-7" aria-hidden="true"></a></span>
      <span id="cb15-8"><a href="#cb15-8" aria-hidden="true"></a><span class="bu">[</span> <span class="st">&quot;</span><span class="va">$DEBUG</span><span class="st">&quot;</span> <span class="ot">==</span> <span class="st">&#39;true&#39;</span><span class="bu"> ]</span> <span class="kw">&amp;&amp;</span> <span class="kw">set</span> <span class="ex">-x</span></span>
      <span id="cb15-9"><a href="#cb15-9" aria-hidden="true"></a></span>
      <span id="cb15-10"><a href="#cb15-10" aria-hidden="true"></a><span class="co"># Base image Ubuntu 22.04 uses sysvinit init system</span></span>
      <span id="cb15-11"><a href="#cb15-11" aria-hidden="true"></a><span class="co"># Use following instead of `systemctl enable --now ssh` to start ssh server</span></span>
      <span id="cb15-12"><a href="#cb15-12" aria-hidden="true"></a><span class="ex">service</span> ssh start</span>
      <span id="cb15-13"><a href="#cb15-13" aria-hidden="true"></a></span>
      <span id="cb15-14"><a href="#cb15-14" aria-hidden="true"></a><span class="co"># Start tomcat service</span></span>
      <span id="cb15-15"><a href="#cb15-15" aria-hidden="true"></a><span class="ex">catalina.sh</span> run</span>
      <span id="cb15-16"><a href="#cb15-16" aria-hidden="true"></a></span>
      <span id="cb15-17"><a href="#cb15-17" aria-hidden="true"></a><span class="bu">echo</span> <span class="st">&quot;</span><span class="va">${HOSTNAME}</span><span class="st">:</span><span class="va">$0</span><span class="st">: &gt;&gt; Terminate.&quot;</span></span>
      <span id="cb15-18"><a href="#cb15-18" aria-hidden="true"></a></span>
      <span id="cb15-19"><a href="#cb15-19" aria-hidden="true"></a><span class="bu">exec</span> <span class="st">&quot;</span><span class="va">$@</span><span class="st">&quot;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="xml">7.1.3.4. XML<!-- OK --></h5>
      <p>Le <strong>langage de balisage extensible</strong>, abrégé XML de l’anglais Extensible Markup Language est un <strong>métalangage de balisage générique</strong>, pour stocker, transmettre et reconstruire des données arbitraires. Il définit un jeux de règles pour construire des documents dans un format lisible facilement par l’homme ou la machine.</p>
      <p>L’objectif initial du XML est de <strong>faciliter l’échange automatisé</strong> de contenus complexes (arbres, texte enrichi, etc.) entre systèmes d’informations hétérogènes (interopérabilité).</p>
      <p>Voici des extraits de <code>web.xml</code>, fichier XML utilisé par le serveur Tomcat pour configurer l’application, dans lequel on peut voir des éléments sur l’authentification et la sécurité, ou la configuration des servlets :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb16"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a></span>
      <span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a><span class="kw">&lt;?xml</span> version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;<span class="kw">?&gt;</span></span>
      <span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a></span>
      <span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a><span class="kw">&lt;web-app</span> </span>
      <span id="cb16-5"><a href="#cb16-5" aria-hidden="true"></a><span class="ot">    xmlns=</span><span class="st">&quot;http://java.sun.com/xml/ns/javaee&quot;</span></span>
      <span id="cb16-6"><a href="#cb16-6" aria-hidden="true"></a><span class="ot">    xmlns:xsi=</span><span class="st">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
      <span id="cb16-7"><a href="#cb16-7" aria-hidden="true"></a><span class="ot">    xsi:schemaLocation=</span><span class="st">&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;</span></span>
      <span id="cb16-8"><a href="#cb16-8" aria-hidden="true"></a><span class="ot">    metadata-complete=</span><span class="st">&quot;false&quot;</span></span>
      <span id="cb16-9"><a href="#cb16-9" aria-hidden="true"></a><span class="ot">    version=</span><span class="st">&quot;3.0&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb16-10"><a href="#cb16-10" aria-hidden="true"></a></span>
      <span id="cb16-11"><a href="#cb16-11" aria-hidden="true"></a>  <span class="kw">&lt;display-name&gt;</span>Storage Manager<span class="kw">&lt;/display-name&gt;</span></span>
      <span id="cb16-12"><a href="#cb16-12" aria-hidden="true"></a></span>
      <span id="cb16-13"><a href="#cb16-13" aria-hidden="true"></a><span class="co">&lt;!-- ======================================================== Welcome files --&gt;</span></span>
      <span id="cb16-14"><a href="#cb16-14" aria-hidden="true"></a>  <span class="kw">&lt;welcome-file-list&gt;</span></span>
      <span id="cb16-15"><a href="#cb16-15" aria-hidden="true"></a>    <span class="kw">&lt;welcome-file&gt;</span>Welcome<span class="kw">&lt;/welcome-file&gt;</span></span>
      <span id="cb16-16"><a href="#cb16-16" aria-hidden="true"></a>  <span class="kw">&lt;/welcome-file-list&gt;</span></span>
      <span id="cb16-17"><a href="#cb16-17" aria-hidden="true"></a></span>
      <span id="cb16-18"><a href="#cb16-18" aria-hidden="true"></a><span class="co">&lt;!-- ================================================== Security constraint --&gt;</span></span>
      <span id="cb16-19"><a href="#cb16-19" aria-hidden="true"></a><span class="co">&lt;!-- ............................................................... PUBLIC --&gt;</span></span>
      <span id="cb16-20"><a href="#cb16-20" aria-hidden="true"></a>  <span class="kw">&lt;security-constraint&gt;</span></span>
      <span id="cb16-21"><a href="#cb16-21" aria-hidden="true"></a>    <span class="kw">&lt;web-resource-collection&gt;</span></span>
      <span id="cb16-22"><a href="#cb16-22" aria-hidden="true"></a>      <span class="kw">&lt;web-resource-name&gt;</span>All Access - Welcome page<span class="kw">&lt;/web-resource-name&gt;</span></span>
      <span id="cb16-23"><a href="#cb16-23" aria-hidden="true"></a>      <span class="kw">&lt;url-pattern&gt;</span>/Welcome<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb16-24"><a href="#cb16-24" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>GET<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb16-25"><a href="#cb16-25" aria-hidden="true"></a>    <span class="kw">&lt;/web-resource-collection&gt;</span></span>
      <span id="cb16-26"><a href="#cb16-26" aria-hidden="true"></a>    <span class="co">&lt;!-- Omitting &lt;auth-constraint&gt; to get public access --&gt;</span></span>
      <span id="cb16-27"><a href="#cb16-27" aria-hidden="true"></a>    <span class="kw">&lt;user-data-constraint&gt;</span></span>
      <span id="cb16-28"><a href="#cb16-28" aria-hidden="true"></a>      <span class="kw">&lt;transport-guarantee&gt;</span>NONE<span class="kw">&lt;/transport-guarantee&gt;</span></span>
      <span id="cb16-29"><a href="#cb16-29" aria-hidden="true"></a>    <span class="kw">&lt;/user-data-constraint&gt;</span></span>
      <span id="cb16-30"><a href="#cb16-30" aria-hidden="true"></a>  <span class="kw">&lt;/security-constraint&gt;</span></span>
      <span id="cb16-31"><a href="#cb16-31" aria-hidden="true"></a></span>
      <span id="cb16-32"><a href="#cb16-32" aria-hidden="true"></a>...</span>
      <span id="cb16-33"><a href="#cb16-33" aria-hidden="true"></a></span>
      <span id="cb16-34"><a href="#cb16-34" aria-hidden="true"></a><span class="co">&lt;!-- ........................................................... RESTRICTED --&gt;</span></span>
      <span id="cb16-35"><a href="#cb16-35" aria-hidden="true"></a>  <span class="kw">&lt;security-constraint&gt;</span></span>
      <span id="cb16-36"><a href="#cb16-36" aria-hidden="true"></a>    <span class="kw">&lt;web-resource-collection&gt;</span></span>
      <span id="cb16-37"><a href="#cb16-37" aria-hidden="true"></a>      <span class="kw">&lt;web-resource-name&gt;</span>Restricted Access - admin,user<span class="kw">&lt;/web-resource-name&gt;</span></span>
      <span id="cb16-38"><a href="#cb16-38" aria-hidden="true"></a>      <span class="kw">&lt;url-pattern&gt;</span>/*<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb16-39"><a href="#cb16-39" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>GET<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb16-40"><a href="#cb16-40" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>POST<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb16-41"><a href="#cb16-41" aria-hidden="true"></a>    <span class="kw">&lt;/web-resource-collection&gt;</span></span>
      <span id="cb16-42"><a href="#cb16-42" aria-hidden="true"></a>    <span class="kw">&lt;auth-constraint&gt;</span></span>
      <span id="cb16-43"><a href="#cb16-43" aria-hidden="true"></a>      <span class="kw">&lt;role-name&gt;</span>admin<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb16-44"><a href="#cb16-44" aria-hidden="true"></a>      <span class="kw">&lt;role-name&gt;</span>user<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb16-45"><a href="#cb16-45" aria-hidden="true"></a>    <span class="kw">&lt;/auth-constraint&gt;</span></span>
      <span id="cb16-46"><a href="#cb16-46" aria-hidden="true"></a>    <span class="kw">&lt;user-data-constraint&gt;</span></span>
      <span id="cb16-47"><a href="#cb16-47" aria-hidden="true"></a>      <span class="kw">&lt;transport-guarantee&gt;</span>NONE<span class="kw">&lt;/transport-guarantee&gt;</span></span>
      <span id="cb16-48"><a href="#cb16-48" aria-hidden="true"></a>    <span class="kw">&lt;/user-data-constraint&gt;</span></span>
      <span id="cb16-49"><a href="#cb16-49" aria-hidden="true"></a>  <span class="kw">&lt;/security-constraint&gt;</span></span>
      <span id="cb16-50"><a href="#cb16-50" aria-hidden="true"></a></span>
      <span id="cb16-51"><a href="#cb16-51" aria-hidden="true"></a>...</span>
      <span id="cb16-52"><a href="#cb16-52" aria-hidden="true"></a></span>
      <span id="cb16-53"><a href="#cb16-53" aria-hidden="true"></a><span class="co">&lt;!-- ................................................................ ROLES --&gt;</span></span>
      <span id="cb16-54"><a href="#cb16-54" aria-hidden="true"></a>  <span class="kw">&lt;security-role&gt;</span></span>
      <span id="cb16-55"><a href="#cb16-55" aria-hidden="true"></a>    <span class="kw">&lt;role-name&gt;</span>admin<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb16-56"><a href="#cb16-56" aria-hidden="true"></a>    <span class="kw">&lt;role-name&gt;</span>user<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb16-57"><a href="#cb16-57" aria-hidden="true"></a>  <span class="kw">&lt;/security-role&gt;</span></span>
      <span id="cb16-58"><a href="#cb16-58" aria-hidden="true"></a><span class="co">&lt;!-- ................................................................ LOGIN --&gt;</span></span>
      <span id="cb16-59"><a href="#cb16-59" aria-hidden="true"></a>  <span class="kw">&lt;login-config&gt;</span></span>
      <span id="cb16-60"><a href="#cb16-60" aria-hidden="true"></a>    <span class="kw">&lt;auth-method&gt;</span>FORM<span class="kw">&lt;/auth-method&gt;</span></span>
      <span id="cb16-61"><a href="#cb16-61" aria-hidden="true"></a>    <span class="kw">&lt;realm-name&gt;</span>default<span class="kw">&lt;/realm-name&gt;</span></span>
      <span id="cb16-62"><a href="#cb16-62" aria-hidden="true"></a>    <span class="kw">&lt;form-login-config&gt;</span></span>
      <span id="cb16-63"><a href="#cb16-63" aria-hidden="true"></a>      <span class="kw">&lt;form-login-page&gt;</span>/Login<span class="kw">&lt;/form-login-page&gt;</span></span>
      <span id="cb16-64"><a href="#cb16-64" aria-hidden="true"></a>      <span class="kw">&lt;form-login-error&gt;</span>/Error<span class="kw">&lt;/form-login-error&gt;</span></span>
      <span id="cb16-65"><a href="#cb16-65" aria-hidden="true"></a>    <span class="kw">&lt;/form-login-config&gt;</span></span>
      <span id="cb16-66"><a href="#cb16-66" aria-hidden="true"></a>  <span class="kw">&lt;/login-config&gt;</span></span>
      <span id="cb16-67"><a href="#cb16-67" aria-hidden="true"></a><span class="co">&lt;!-- ============================================================== Session --&gt;</span></span>
      <span id="cb16-68"><a href="#cb16-68" aria-hidden="true"></a>  <span class="kw">&lt;session-config&gt;</span></span>
      <span id="cb16-69"><a href="#cb16-69" aria-hidden="true"></a>    <span class="kw">&lt;session-timeout&gt;</span>30<span class="kw">&lt;/session-timeout&gt;</span></span>
      <span id="cb16-70"><a href="#cb16-70" aria-hidden="true"></a>  <span class="kw">&lt;/session-config&gt;</span></span>
      <span id="cb16-71"><a href="#cb16-71" aria-hidden="true"></a><span class="co">&lt;!-- ============================================================ Listeners --&gt;</span></span>
      <span id="cb16-72"><a href="#cb16-72" aria-hidden="true"></a><span class="kw">&lt;listener&gt;</span></span>
      <span id="cb16-73"><a href="#cb16-73" aria-hidden="true"></a>    <span class="kw">&lt;listener-class&gt;</span>listener.Initializer<span class="kw">&lt;/listener-class&gt;</span></span>
      <span id="cb16-74"><a href="#cb16-74" aria-hidden="true"></a><span class="kw">&lt;/listener&gt;</span></span>
      <span id="cb16-75"><a href="#cb16-75" aria-hidden="true"></a><span class="co">&lt;!-- ============================================================== Filters --&gt;</span></span>
      <span id="cb16-76"><a href="#cb16-76" aria-hidden="true"></a>  <span class="kw">&lt;filter&gt;</span> <span class="co">&lt;!--                    SetSessionAttributes: read property file --&gt;</span></span>
      <span id="cb16-77"><a href="#cb16-77" aria-hidden="true"></a>    <span class="kw">&lt;filter-name&gt;</span>SetSessionAttributes<span class="kw">&lt;/filter-name&gt;</span></span>
      <span id="cb16-78"><a href="#cb16-78" aria-hidden="true"></a>    <span class="kw">&lt;filter-class&gt;</span>filter.SetSessionAttributes<span class="kw">&lt;/filter-class&gt;</span></span>
      <span id="cb16-79"><a href="#cb16-79" aria-hidden="true"></a>  <span class="kw">&lt;/filter&gt;</span></span>
      <span id="cb16-80"><a href="#cb16-80" aria-hidden="true"></a>  <span class="kw">&lt;filter-mapping&gt;</span></span>
      <span id="cb16-81"><a href="#cb16-81" aria-hidden="true"></a>    <span class="kw">&lt;filter-name&gt;</span>SetSessionAttributes<span class="kw">&lt;/filter-name&gt;</span></span>
      <span id="cb16-82"><a href="#cb16-82" aria-hidden="true"></a>    <span class="kw">&lt;url-pattern&gt;</span>/*<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb16-83"><a href="#cb16-83" aria-hidden="true"></a>  <span class="kw">&lt;/filter-mapping&gt;</span></span>
      <span id="cb16-84"><a href="#cb16-84" aria-hidden="true"></a></span>
      <span id="cb16-85"><a href="#cb16-85" aria-hidden="true"></a>...</span>
      <span id="cb16-86"><a href="#cb16-86" aria-hidden="true"></a></span>
      <span id="cb16-87"><a href="#cb16-87" aria-hidden="true"></a><span class="co">&lt;!-- ============================================================= Servlets --&gt;</span></span>
      <span id="cb16-88"><a href="#cb16-88" aria-hidden="true"></a></span>
      <span id="cb16-89"><a href="#cb16-89" aria-hidden="true"></a>...</span>
      <span id="cb16-90"><a href="#cb16-90" aria-hidden="true"></a></span>
      <span id="cb16-91"><a href="#cb16-91" aria-hidden="true"></a><span class="co">&lt;!-- ............................................................. CATEGORY --&gt;</span></span>
      <span id="cb16-92"><a href="#cb16-92" aria-hidden="true"></a>  <span class="kw">&lt;servlet&gt;</span> <span class="co">&lt;!--                                              /CategoryInfo --&gt;</span></span>
      <span id="cb16-93"><a href="#cb16-93" aria-hidden="true"></a>    <span class="kw">&lt;servlet-name&gt;</span>CategoryInfo<span class="kw">&lt;/servlet-name&gt;</span></span>
      <span id="cb16-94"><a href="#cb16-94" aria-hidden="true"></a>    <span class="kw">&lt;servlet-class&gt;</span>servlet.category.CategoryInfo<span class="kw">&lt;/servlet-class&gt;</span></span>
      <span id="cb16-95"><a href="#cb16-95" aria-hidden="true"></a>    <span class="co">&lt;!-- &lt;load-on-startup&gt;0&lt;/load-on-startup&gt; --&gt;</span></span>
      <span id="cb16-96"><a href="#cb16-96" aria-hidden="true"></a>  <span class="kw">&lt;/servlet&gt;</span></span>
      <span id="cb16-97"><a href="#cb16-97" aria-hidden="true"></a>  <span class="kw">&lt;servlet-mapping&gt;</span></span>
      <span id="cb16-98"><a href="#cb16-98" aria-hidden="true"></a>    <span class="kw">&lt;servlet-name&gt;</span>CategoryInfo<span class="kw">&lt;/servlet-name&gt;</span></span>
      <span id="cb16-99"><a href="#cb16-99" aria-hidden="true"></a>    <span class="kw">&lt;url-pattern&gt;</span>/CategoryInfo<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb16-100"><a href="#cb16-100" aria-hidden="true"></a>  <span class="kw">&lt;/servlet-mapping&gt;</span></span>
      <span id="cb16-101"><a href="#cb16-101" aria-hidden="true"></a></span>
      <span id="cb16-102"><a href="#cb16-102" aria-hidden="true"></a>...</span>
      <span id="cb16-103"><a href="#cb16-103" aria-hidden="true"></a></span>
      <span id="cb16-104"><a href="#cb16-104" aria-hidden="true"></a><span class="kw">&lt;/web-app&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="yaml">7.1.3.5. YAML<!-- OK --></h5>
      <p>YAML, acronyme de Yet Another Markup Language, un <strong>format de représentation de données</strong> par sérialisation Unicode, lisible facilement par l’homme.</p>
      <p>L’idée de YAML est que presque toute donnée peut être représentée par combinaison de listes, tableaux associatifs et données scalaires. Ce langage est couramment utilisé pour des <strong>fichiers de configuration</strong>, et dans les applications ou les données sont stockées ou transmises.</p>
      <p>Pour un exemple de fichier YAML, merci de vous référer à <a href="#7622-docker-compose">Docker Compose</a> ou <a href="#7623-docker-swarm">Docker Swarm</a>.</p>
      <h3 id="frameworks">7.2. Frameworks<!-- OK --></h3>
      <p>Dans la mesure ou ce <strong>projet est réalisé dans le cadre d’une formation</strong>, le but étant d’acquérir de solides bases sur les différents composants, il semblait naturel d’<strong>écarter la grande majorité des frameworks de développement</strong>.</p>
      <p>En effet, les diverses couches d’abstractions, bien que simplifiant grandement le développement d’une application, peuvent ici être contre-productifs :</p>
      <ul>
      <li>ils <strong>masquent les détails de la conception et de la mise en œuvre</strong>, ce qui rend plus difficile de comprendre comment les choses fonctionnent réellement.</li>
      <li>ils rendent plus difficile l’apprentissage des concepts de base de la programmation, car ils <strong>fournissent des solutions toutes faites</strong>, plutôt que de permettre aux développeurs de les <strong>résoudre les problemes par eux-mêmes</strong>.</li>
      <li>ils rendent les <strong>applications plus lourdes et plus difficiles à déboguer</strong>, car ils ajoutent une couche supplémentaire d’abstraction.</li>
      <li>les différentes <strong>options existantes pour résoudre un problème donné sont limités</strong> aux solutions proposées par le framework.</li>
      </ul>
      <p>Il est cependant important de noter que <strong>lorsque l’on maîtrise les concepts de base</strong> et que l’on a une bonne compréhension de la façon dont les frameworks fonctionnent, ils peuvent être très <strong>utiles pour accélérer le développement</strong> et améliorer la qualité du code.</p>
      <p>Dans le cadre de ce projet, un des choix de framework aurait été Java <a href="https://spring.io/projects/spring-framework">Spring</a>.</p>
      <p>Nous avons cependant retenu <strong>deux frameworks pour ce projet</strong> :</p>
      <ul>
      <li>Java Authentication And Authorization Service</li>
      <li>reveal.js</li>
      </ul>
      <h4 id="jaas">7.2.1. JAAS<!-- OK --></h4>
      <p><strong>Java Authentication And Authorization Service</strong> (JAAS) est un <strong>framework de sécurité de bas niveau</strong> de la plateforme Java SE. En améliorant l’architecture de la sécurité de Java, ce framework ajoute la capacité de forcer un contrôle d’accès sur l’utilisateur qui exécute le code.</p>
      <p>Il est utilisé pour deux raisons:</p>
      <ul>
      <li><strong>Authentification</strong>: identification fiable et sécurisé de l’entité qui exécute actuellement le code, quelque soit son contexte d’exécution (application, applet, bean, servlet)</li>
      <li><strong>Autorisation</strong>: vérification des droits de contrôle d’accès ou des autorisations requises pour exécuter du code sensible</li>
      </ul>
      <p>L’intégration du JAAS à l’application a été réalisé de la manière suivante :</p>
      <ul>
      <li><strong>Création de deux classes</strong> java <code>UserPrincipal.java</code> et <code>RolePrincipal.java</code>, définissant les principaux :</li>
      </ul>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb17"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a></span>
      <span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a><span class="kw">package</span><span class="im"> app.auth;</span></span>
      <span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.security.Principal;</span></span>
      <span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a></span>
      <span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a><span class="kw">public</span> <span class="kw">class</span> UserPrincipal <span class="kw">implements</span> <span class="bu">Principal</span> {</span>
      <span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a></span>
      <span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a>  <span class="kw">private</span> <span class="bu">String</span> name;</span>
      <span id="cb17-8"><a href="#cb17-8" aria-hidden="true"></a></span>
      <span id="cb17-9"><a href="#cb17-9" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb17-10"><a href="#cb17-10" aria-hidden="true"></a>   <span class="co">* </span><span class="an">@param name</span></span>
      <span id="cb17-11"><a href="#cb17-11" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb17-12"><a href="#cb17-12" aria-hidden="true"></a>  <span class="kw">public</span> <span class="fu">UserPrincipal</span>(<span class="bu">String</span> name) {</span>
      <span id="cb17-13"><a href="#cb17-13" aria-hidden="true"></a>    <span class="kw">super</span>();</span>
      <span id="cb17-14"><a href="#cb17-14" aria-hidden="true"></a>    <span class="kw">this</span>.<span class="fu">name</span> = name;</span>
      <span id="cb17-15"><a href="#cb17-15" aria-hidden="true"></a>  }</span>
      <span id="cb17-16"><a href="#cb17-16" aria-hidden="true"></a></span>
      <span id="cb17-17"><a href="#cb17-17" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb17-18"><a href="#cb17-18" aria-hidden="true"></a>   <span class="co">* </span><span class="an">@param name</span></span>
      <span id="cb17-19"><a href="#cb17-19" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb17-20"><a href="#cb17-20" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">void</span> <span class="fu">setName</span>(<span class="bu">String</span> name) {</span>
      <span id="cb17-21"><a href="#cb17-21" aria-hidden="true"></a>    <span class="kw">this</span>.<span class="fu">name</span> = name;</span>
      <span id="cb17-22"><a href="#cb17-22" aria-hidden="true"></a>  }</span>
      <span id="cb17-23"><a href="#cb17-23" aria-hidden="true"></a></span>
      <span id="cb17-24"><a href="#cb17-24" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb17-25"><a href="#cb17-25" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb17-26"><a href="#cb17-26" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb17-27"><a href="#cb17-27" aria-hidden="true"></a><span class="co">   * @see java.security.Principal#getName()</span></span>
      <span id="cb17-28"><a href="#cb17-28" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb17-29"><a href="#cb17-29" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb17-30"><a href="#cb17-30" aria-hidden="true"></a>  <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getName</span>() {</span>
      <span id="cb17-31"><a href="#cb17-31" aria-hidden="true"></a>    <span class="kw">return</span> name;</span>
      <span id="cb17-32"><a href="#cb17-32" aria-hidden="true"></a>  }</span>
      <span id="cb17-33"><a href="#cb17-33" aria-hidden="true"></a>}</span>
      <span id="cb17-34"><a href="#cb17-34" aria-hidden="true"></a></span></code></pre></div>
      <!-- cSpell:enable -->
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb18"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a></span>
      <span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a><span class="kw">package</span><span class="im"> app.auth;</span></span>
      <span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a><span class="kw">import</span><span class="im"> java.security.Principal;</span></span>
      <span id="cb18-4"><a href="#cb18-4" aria-hidden="true"></a></span>
      <span id="cb18-5"><a href="#cb18-5" aria-hidden="true"></a><span class="kw">public</span> <span class="kw">class</span> RolePrincipal <span class="kw">implements</span> <span class="bu">Principal</span> {</span>
      <span id="cb18-6"><a href="#cb18-6" aria-hidden="true"></a>  <span class="kw">private</span> <span class="bu">String</span> name;</span>
      <span id="cb18-7"><a href="#cb18-7" aria-hidden="true"></a></span>
      <span id="cb18-8"><a href="#cb18-8" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb18-9"><a href="#cb18-9" aria-hidden="true"></a>   <span class="co">* </span><span class="an">@param name</span></span>
      <span id="cb18-10"><a href="#cb18-10" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb18-11"><a href="#cb18-11" aria-hidden="true"></a>  <span class="kw">public</span> <span class="fu">RolePrincipal</span>(<span class="bu">String</span> name) {</span>
      <span id="cb18-12"><a href="#cb18-12" aria-hidden="true"></a>    <span class="kw">super</span>();</span>
      <span id="cb18-13"><a href="#cb18-13" aria-hidden="true"></a>    <span class="kw">this</span>.<span class="fu">name</span> = name;</span>
      <span id="cb18-14"><a href="#cb18-14" aria-hidden="true"></a>  }</span>
      <span id="cb18-15"><a href="#cb18-15" aria-hidden="true"></a></span>
      <span id="cb18-16"><a href="#cb18-16" aria-hidden="true"></a>  <span class="co">/**</span></span>
      <span id="cb18-17"><a href="#cb18-17" aria-hidden="true"></a>   <span class="co">* </span><span class="an">@param name</span></span>
      <span id="cb18-18"><a href="#cb18-18" aria-hidden="true"></a>   <span class="co">*/</span></span>
      <span id="cb18-19"><a href="#cb18-19" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">void</span> <span class="fu">setName</span>(<span class="bu">String</span> name) {</span>
      <span id="cb18-20"><a href="#cb18-20" aria-hidden="true"></a>    <span class="kw">this</span>.<span class="fu">name</span> = name;</span>
      <span id="cb18-21"><a href="#cb18-21" aria-hidden="true"></a>  }</span>
      <span id="cb18-22"><a href="#cb18-22" aria-hidden="true"></a></span>
      <span id="cb18-23"><a href="#cb18-23" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb18-24"><a href="#cb18-24" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb18-25"><a href="#cb18-25" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb18-26"><a href="#cb18-26" aria-hidden="true"></a><span class="co">   * @see java.security.Principal#getName()</span></span>
      <span id="cb18-27"><a href="#cb18-27" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb18-28"><a href="#cb18-28" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb18-29"><a href="#cb18-29" aria-hidden="true"></a>  <span class="kw">public</span> <span class="bu">String</span> <span class="fu">getName</span>() {</span>
      <span id="cb18-30"><a href="#cb18-30" aria-hidden="true"></a>    <span class="kw">return</span> name;</span>
      <span id="cb18-31"><a href="#cb18-31" aria-hidden="true"></a>  }</span>
      <span id="cb18-32"><a href="#cb18-32" aria-hidden="true"></a>}</span></code></pre></div>
      <!-- cSpell:enable -->
      <ul>
      <li><strong>Implémentation</strong> de la méthode <code>login()</code> de la classe <code>JAASLoginModule.java</code> :</li>
      </ul>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb19"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a></span>
      <span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a>  <span class="co">/*</span></span>
      <span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a><span class="co">   * (non-Javadoc)</span></span>
      <span id="cb19-4"><a href="#cb19-4" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb19-5"><a href="#cb19-5" aria-hidden="true"></a><span class="co">   * In the login() method, we invoke the CallbackHandler.handle() method with a</span></span>
      <span id="cb19-6"><a href="#cb19-6" aria-hidden="true"></a><span class="co">   * NameCallback and a PasswordCallback to prompt and get the username and</span></span>
      <span id="cb19-7"><a href="#cb19-7" aria-hidden="true"></a><span class="co">   * password. Then, we compare these provided credentials with the hardcoded</span></span>
      <span id="cb19-8"><a href="#cb19-8" aria-hidden="true"></a><span class="co">   * ones.</span></span>
      <span id="cb19-9"><a href="#cb19-9" aria-hidden="true"></a><span class="co">   * </span></span>
      <span id="cb19-10"><a href="#cb19-10" aria-hidden="true"></a><span class="co">   * @see javax.security.auth.spi.LoginModule#login()</span></span>
      <span id="cb19-11"><a href="#cb19-11" aria-hidden="true"></a><span class="co">   */</span></span>
      <span id="cb19-12"><a href="#cb19-12" aria-hidden="true"></a>  <span class="at">@Override</span></span>
      <span id="cb19-13"><a href="#cb19-13" aria-hidden="true"></a>  <span class="kw">public</span> <span class="dt">boolean</span> <span class="fu">login</span>() <span class="kw">throws</span> <span class="bu">LoginException</span> {</span>
      <span id="cb19-14"><a href="#cb19-14" aria-hidden="true"></a>    <span class="bu">NameCallback</span> nameCallback = <span class="kw">new</span> <span class="bu">NameCallback</span>(<span class="st">&quot;username: &quot;</span>);</span>
      <span id="cb19-15"><a href="#cb19-15" aria-hidden="true"></a>    <span class="bu">PasswordCallback</span> passwordCallback = <span class="kw">new</span> <span class="bu">PasswordCallback</span>(<span class="st">&quot;password: &quot;</span>, <span class="kw">false</span>);</span>
      <span id="cb19-16"><a href="#cb19-16" aria-hidden="true"></a>    <span class="kw">try</span> {</span>
      <span id="cb19-17"><a href="#cb19-17" aria-hidden="true"></a>      callbackHandler.<span class="fu">handle</span>(<span class="kw">new</span> <span class="bu">Callback</span>[] { nameCallback, passwordCallback });</span>
      <span id="cb19-18"><a href="#cb19-18" aria-hidden="true"></a>      <span class="bu">String</span> login = nameCallback.<span class="fu">getName</span>();</span>
      <span id="cb19-19"><a href="#cb19-19" aria-hidden="true"></a>      <span class="bu">String</span> password = <span class="kw">new</span> <span class="bu">String</span>(passwordCallback.<span class="fu">getPassword</span>());</span>
      <span id="cb19-20"><a href="#cb19-20" aria-hidden="true"></a>      <span class="co">// WARN: secrets in logfiles</span></span>
      <span id="cb19-21"><a href="#cb19-21" aria-hidden="true"></a>      log.<span class="fu">info</span>(<span class="st">&quot;#### Authenticating with: &quot;</span> + login + <span class="st">&quot; : &quot;</span> + password);</span>
      <span id="cb19-22"><a href="#cb19-22" aria-hidden="true"></a></span>
      <span id="cb19-23"><a href="#cb19-23" aria-hidden="true"></a>      UserDAO userDAO = <span class="kw">new</span> <span class="fu">UserDAO</span>();</span>
      <span id="cb19-24"><a href="#cb19-24" aria-hidden="true"></a>      User user = <span class="kw">new</span> <span class="fu">User</span>();</span>
      <span id="cb19-25"><a href="#cb19-25" aria-hidden="true"></a></span>
      <span id="cb19-26"><a href="#cb19-26" aria-hidden="true"></a>      <span class="kw">try</span> {</span>
      <span id="cb19-27"><a href="#cb19-27" aria-hidden="true"></a>        <span class="co">// User retrieval</span></span>
      <span id="cb19-28"><a href="#cb19-28" aria-hidden="true"></a>        user = userDAO.<span class="fu">getUserByCredentials</span>(login, password);</span>
      <span id="cb19-29"><a href="#cb19-29" aria-hidden="true"></a>        log.<span class="fu">info</span>(<span class="st">&quot;#### Retrieved user: &quot;</span> + user.<span class="fu">getId</span>() + <span class="st">&quot; : &quot;</span> + user.<span class="fu">getEmail</span>() + <span class="st">&quot; : &quot;</span> + user.<span class="fu">getPassword</span>());</span>
      <span id="cb19-30"><a href="#cb19-30" aria-hidden="true"></a>      } <span class="kw">catch</span> (<span class="bu">SQLException</span> e) {</span>
      <span id="cb19-31"><a href="#cb19-31" aria-hidden="true"></a>        <span class="co">// </span><span class="al">TODO</span><span class="co">: Auto-generated catch block</span></span>
      <span id="cb19-32"><a href="#cb19-32" aria-hidden="true"></a>        e.<span class="fu">printStackTrace</span>();</span>
      <span id="cb19-33"><a href="#cb19-33" aria-hidden="true"></a>      }</span>
      <span id="cb19-34"><a href="#cb19-34" aria-hidden="true"></a></span>
      <span id="cb19-35"><a href="#cb19-35" aria-hidden="true"></a>      <span class="kw">if</span> (user != <span class="kw">null</span>) {</span>
      <span id="cb19-36"><a href="#cb19-36" aria-hidden="true"></a>        userGroups = <span class="kw">new</span> <span class="bu">ArrayList</span>&lt;<span class="bu">String</span>&gt;();</span>
      <span id="cb19-37"><a href="#cb19-37" aria-hidden="true"></a>        <span class="kw">for</span> (<span class="bu">String</span> role : user.<span class="fu">getRoleList</span>()) {</span>
      <span id="cb19-38"><a href="#cb19-38" aria-hidden="true"></a>          userGroups.<span class="fu">add</span>(role);</span>
      <span id="cb19-39"><a href="#cb19-39" aria-hidden="true"></a>        }</span>
      <span id="cb19-40"><a href="#cb19-40" aria-hidden="true"></a>        loginSucceeded = <span class="kw">true</span>;</span>
      <span id="cb19-41"><a href="#cb19-41" aria-hidden="true"></a>      }</span>
      <span id="cb19-42"><a href="#cb19-42" aria-hidden="true"></a></span>
      <span id="cb19-43"><a href="#cb19-43" aria-hidden="true"></a>    } <span class="kw">catch</span> (<span class="bu">IOException</span> | <span class="bu">UnsupportedCallbackException</span> e) {</span>
      <span id="cb19-44"><a href="#cb19-44" aria-hidden="true"></a>      <span class="kw">throw</span> <span class="kw">new</span> <span class="bu">LoginException</span>(e.<span class="fu">getMessage</span>());</span>
      <span id="cb19-45"><a href="#cb19-45" aria-hidden="true"></a>    }</span>
      <span id="cb19-46"><a href="#cb19-46" aria-hidden="true"></a>    <span class="co">// The login() method should return true for a successful operation and false</span></span>
      <span id="cb19-47"><a href="#cb19-47" aria-hidden="true"></a>    <span class="co">// for a failed login.</span></span>
      <span id="cb19-48"><a href="#cb19-48" aria-hidden="true"></a>    log.<span class="fu">info</span>(<span class="st">&quot;Done&quot;</span>);</span>
      <span id="cb19-49"><a href="#cb19-49" aria-hidden="true"></a>    <span class="kw">return</span> loginSucceeded;</span>
      <span id="cb19-50"><a href="#cb19-50" aria-hidden="true"></a>  }</span></code></pre></div>
      <!-- cSpell:enable -->
      <ul>
      <li><strong>Configurer le contexte</strong> de la couche JAAS avec le fichier <code>context.xml</code> :</li>
      </ul>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb20"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a></span>
      <span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a><span class="kw">&lt;?xml</span> version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;<span class="kw">?&gt;</span></span>
      <span id="cb20-3"><a href="#cb20-3" aria-hidden="true"></a><span class="kw">&lt;Context&gt;</span></span>
      <span id="cb20-4"><a href="#cb20-4" aria-hidden="true"></a>  <span class="kw">&lt;Realm</span><span class="ot"> className=</span><span class="st">&quot;org.apache.catalina.realm.JAASRealm&quot;</span> </span>
      <span id="cb20-5"><a href="#cb20-5" aria-hidden="true"></a><span class="ot">    appName=</span><span class="st">&quot;webapp&quot;</span></span>
      <span id="cb20-6"><a href="#cb20-6" aria-hidden="true"></a><span class="ot">    userClassNames=</span><span class="st">&quot;app.auth.UserPrincipal&quot;</span></span>
      <span id="cb20-7"><a href="#cb20-7" aria-hidden="true"></a><span class="ot">    roleClassNames=</span><span class="st">&quot;app.auth.RolePrincipal&quot;</span> <span class="kw">/&gt;</span></span>
      <span id="cb20-8"><a href="#cb20-8" aria-hidden="true"></a><span class="kw">&lt;/Context&gt;</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <ul>
      <li>Ajout du fichier <code>jaas.config</code> sur le serveur Tomcat :</li>
      </ul>
      <!-- cSpell:disable -->
      <pre class="config"><code>
      webapp { // appName is defined in webapp/META-INF/context.xml
        app.auth.JAASLoginModule required debug=true;
      };
      </code></pre>
      <!-- cSpell:enable -->
      <ul>
      <li>Ajout des paramètres supplémentaires au fichier <code>web.xml</code> pour <strong>configurer la sécurité et les autorisations dans l’application</strong> (extraits) :</li>
      </ul>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb22"><pre class="sourceCode xml"><code class="sourceCode xml"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a></span>
      <span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a>...</span>
      <span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a><span class="co">&lt;!-- ............................................................... PUBLIC --&gt;</span></span>
      <span id="cb22-4"><a href="#cb22-4" aria-hidden="true"></a>  <span class="kw">&lt;security-constraint&gt;</span></span>
      <span id="cb22-5"><a href="#cb22-5" aria-hidden="true"></a>    <span class="kw">&lt;web-resource-collection&gt;</span></span>
      <span id="cb22-6"><a href="#cb22-6" aria-hidden="true"></a>      <span class="kw">&lt;web-resource-name&gt;</span>All Access - Web public content<span class="kw">&lt;/web-resource-name&gt;</span></span>
      <span id="cb22-7"><a href="#cb22-7" aria-hidden="true"></a>      <span class="kw">&lt;url-pattern&gt;</span>/www/*<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb22-8"><a href="#cb22-8" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>GET<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb22-9"><a href="#cb22-9" aria-hidden="true"></a>      <span class="co">&lt;!-- &lt;http-method&gt;POST&lt;/http-method&gt; --&gt;</span></span>
      <span id="cb22-10"><a href="#cb22-10" aria-hidden="true"></a>    <span class="kw">&lt;/web-resource-collection&gt;</span></span>
      <span id="cb22-11"><a href="#cb22-11" aria-hidden="true"></a>    <span class="co">&lt;!-- Omitting &lt;auth-constraint&gt; to get public access --&gt;</span></span>
      <span id="cb22-12"><a href="#cb22-12" aria-hidden="true"></a>    <span class="kw">&lt;user-data-constraint&gt;</span></span>
      <span id="cb22-13"><a href="#cb22-13" aria-hidden="true"></a>      <span class="kw">&lt;transport-guarantee&gt;</span>NONE<span class="kw">&lt;/transport-guarantee&gt;</span></span>
      <span id="cb22-14"><a href="#cb22-14" aria-hidden="true"></a>    <span class="kw">&lt;/user-data-constraint&gt;</span></span>
      <span id="cb22-15"><a href="#cb22-15" aria-hidden="true"></a>  <span class="kw">&lt;/security-constraint&gt;</span></span>
      <span id="cb22-16"><a href="#cb22-16" aria-hidden="true"></a><span class="co">&lt;!-- ........................................................... RESTRICTED --&gt;</span></span>
      <span id="cb22-17"><a href="#cb22-17" aria-hidden="true"></a> <span class="kw">&lt;security-constraint&gt;</span></span>
      <span id="cb22-18"><a href="#cb22-18" aria-hidden="true"></a>    <span class="kw">&lt;web-resource-collection&gt;</span></span>
      <span id="cb22-19"><a href="#cb22-19" aria-hidden="true"></a>      <span class="kw">&lt;web-resource-name&gt;</span>Restricted Access - admin only<span class="kw">&lt;/web-resource-name&gt;</span></span>
      <span id="cb22-20"><a href="#cb22-20" aria-hidden="true"></a>      <span class="kw">&lt;url-pattern&gt;</span>/admin/*<span class="kw">&lt;/url-pattern&gt;</span></span>
      <span id="cb22-21"><a href="#cb22-21" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>GET<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb22-22"><a href="#cb22-22" aria-hidden="true"></a>      <span class="kw">&lt;http-method&gt;</span>POST<span class="kw">&lt;/http-method&gt;</span></span>
      <span id="cb22-23"><a href="#cb22-23" aria-hidden="true"></a>    <span class="kw">&lt;/web-resource-collection&gt;</span></span>
      <span id="cb22-24"><a href="#cb22-24" aria-hidden="true"></a>    <span class="kw">&lt;auth-constraint&gt;</span></span>
      <span id="cb22-25"><a href="#cb22-25" aria-hidden="true"></a>      <span class="kw">&lt;role-name&gt;</span>admin<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb22-26"><a href="#cb22-26" aria-hidden="true"></a>    <span class="kw">&lt;/auth-constraint&gt;</span></span>
      <span id="cb22-27"><a href="#cb22-27" aria-hidden="true"></a>    <span class="kw">&lt;user-data-constraint&gt;</span></span>
      <span id="cb22-28"><a href="#cb22-28" aria-hidden="true"></a>      <span class="kw">&lt;transport-guarantee&gt;</span>NONE<span class="kw">&lt;/transport-guarantee&gt;</span></span>
      <span id="cb22-29"><a href="#cb22-29" aria-hidden="true"></a>    <span class="kw">&lt;/user-data-constraint&gt;</span></span>
      <span id="cb22-30"><a href="#cb22-30" aria-hidden="true"></a>  <span class="kw">&lt;/security-constraint&gt;</span></span>
      <span id="cb22-31"><a href="#cb22-31" aria-hidden="true"></a><span class="co">&lt;!-- ................................................................ ROLES --&gt;</span></span>
      <span id="cb22-32"><a href="#cb22-32" aria-hidden="true"></a>  <span class="kw">&lt;security-role&gt;</span></span>
      <span id="cb22-33"><a href="#cb22-33" aria-hidden="true"></a>    <span class="kw">&lt;role-name&gt;</span>admin<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb22-34"><a href="#cb22-34" aria-hidden="true"></a>    <span class="kw">&lt;role-name&gt;</span>user<span class="kw">&lt;/role-name&gt;</span></span>
      <span id="cb22-35"><a href="#cb22-35" aria-hidden="true"></a>  <span class="kw">&lt;/security-role&gt;</span></span>
      <span id="cb22-36"><a href="#cb22-36" aria-hidden="true"></a><span class="co">&lt;!-- ................................................................ LOGIN --&gt;</span></span>
      <span id="cb22-37"><a href="#cb22-37" aria-hidden="true"></a>  <span class="kw">&lt;login-config&gt;</span></span>
      <span id="cb22-38"><a href="#cb22-38" aria-hidden="true"></a>    <span class="kw">&lt;auth-method&gt;</span>FORM<span class="kw">&lt;/auth-method&gt;</span></span>
      <span id="cb22-39"><a href="#cb22-39" aria-hidden="true"></a>    <span class="kw">&lt;realm-name&gt;</span>default<span class="kw">&lt;/realm-name&gt;</span></span>
      <span id="cb22-40"><a href="#cb22-40" aria-hidden="true"></a>    <span class="kw">&lt;form-login-config&gt;</span></span>
      <span id="cb22-41"><a href="#cb22-41" aria-hidden="true"></a>      <span class="kw">&lt;form-login-page&gt;</span>/Login<span class="kw">&lt;/form-login-page&gt;</span></span>
      <span id="cb22-42"><a href="#cb22-42" aria-hidden="true"></a>      <span class="kw">&lt;form-login-error&gt;</span>/Error<span class="kw">&lt;/form-login-error&gt;</span></span>
      <span id="cb22-43"><a href="#cb22-43" aria-hidden="true"></a>    <span class="kw">&lt;/form-login-config&gt;</span></span>
      <span id="cb22-44"><a href="#cb22-44" aria-hidden="true"></a>  <span class="kw">&lt;/login-config&gt;</span></span>
      <span id="cb22-45"><a href="#cb22-45" aria-hidden="true"></a>...</span></code></pre></div>
      <!-- cSpell:enable -->
      <ul>
      <li><strong>Configurer le serveur</strong> pour démarrer en intégrant le JAAS. Ici on ajoute l’option en passant une variable d’environnement au Tomcat :</li>
      </ul>
      <!-- cSpell:disable -->
      <pre class="shell"><code>
      $JAVA_OPTS &quot;-Djava.security.auth.login.config=$CATALINA_HOME/conf/jaas.config&quot;
      </code></pre>
      <!-- cSpell:enable -->
      <h4 id="reveal.js">7.2.2. reveal.js<!-- OK --></h4>
      <p>reveal.js est un <strong>framework de présentation HTML</strong> opensource. Il permet de réaliser facilement, à l’aide de n’importe quel navigateur web, des présentations de qualité.</p>
      <p>Le framework dispose de nombreuses fonctions dont les vues verticales, le support du Markdown, l’animation automatique, l’export en PDF, les notes de présentation. Il dispose aussi d’une API étendue.</p>
      <p>Dans le cadre de ce projet, les éléments de présentations utilisent le framework reveal.js.</p>
      <p>Dans l’exemple suivant on utilise un fichier <code>README.md</code> en <strong>Markdown</strong> pour créer la <strong>présentation</strong>. Les attributs de la section permettent de détecter les enchaînements de ligne vide comme délimiteur de diapositives :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb24"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a></span>
      <span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a><span class="dt">&lt;!doctype </span>html<span class="dt">&gt;</span></span>
      <span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-4"><a href="#cb24-4" aria-hidden="true"></a>  <span class="kw">&lt;head&gt;</span></span>
      <span id="cb24-5"><a href="#cb24-5" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;utf-8&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-6"><a href="#cb24-6" aria-hidden="true"></a>    <span class="kw">&lt;title&gt;</span>reveal.js - The HTML Presentation Framework<span class="kw">&lt;/title&gt;</span></span>
      <span id="cb24-7"><a href="#cb24-7" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;description&quot;</span><span class="ot"> content=</span><span class="st">&quot;short description&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-8"><a href="#cb24-8" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;author&quot;</span><span class="ot"> content=</span><span class="st">&quot;Thibault HULAUX&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-9"><a href="#cb24-9" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;apple-mobile-web-app-capable&quot;</span><span class="ot"> content=</span><span class="st">&quot;yes&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-10"><a href="#cb24-10" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;apple-mobile-web-app-status-bar-style&quot;</span><span class="ot"> content=</span><span class="st">&quot;black-translucent&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-11"><a href="#cb24-11" aria-hidden="true"></a>    <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content=</span><span class="st">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-12"><a href="#cb24-12" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;dist/reset.css&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-13"><a href="#cb24-13" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;dist/reveal.css&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-14"><a href="#cb24-14" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;dist/theme/black.css&quot;</span><span class="ot"> id=</span><span class="st">&quot;theme&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-15"><a href="#cb24-15" aria-hidden="true"></a>    <span class="co">&lt;!-- Theme used for syntax highlighting of code --&gt;</span></span>
      <span id="cb24-16"><a href="#cb24-16" aria-hidden="true"></a>    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> href=</span><span class="st">&quot;plugin/highlight/monokai.css&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-17"><a href="#cb24-17" aria-hidden="true"></a>  <span class="kw">&lt;/head&gt;</span></span>
      <span id="cb24-18"><a href="#cb24-18" aria-hidden="true"></a>  <span class="kw">&lt;body&gt;</span></span>
      <span id="cb24-19"><a href="#cb24-19" aria-hidden="true"></a>    <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;reveal&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-20"><a href="#cb24-20" aria-hidden="true"></a>      <span class="co">&lt;!-- Any section element inside of this container is displayed as a slide --&gt;</span></span>
      <span id="cb24-21"><a href="#cb24-21" aria-hidden="true"></a>      <span class="kw">&lt;div</span><span class="ot"> class=</span><span class="st">&quot;slides&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-22"><a href="#cb24-22" aria-hidden="true"></a>        <span class="kw">&lt;section</span><span class="ot"> data-markdown=</span><span class="st">&quot;README.md&quot;</span></span>
      <span id="cb24-23"><a href="#cb24-23" aria-hidden="true"></a><span class="ot">          data-separator=</span><span class="st">&quot;^\n\n\n&quot;</span></span>
      <span id="cb24-24"><a href="#cb24-24" aria-hidden="true"></a><span class="ot">          data-separator-vertical=</span><span class="st">&quot;^\n\n&quot;</span></span>
      <span id="cb24-25"><a href="#cb24-25" aria-hidden="true"></a><span class="ot">          data-separator-notes=</span><span class="st">&quot;^Note:&quot;</span><span class="kw">&gt;</span></span>
      <span id="cb24-26"><a href="#cb24-26" aria-hidden="true"></a>        <span class="kw">&lt;/section&gt;</span></span>
      <span id="cb24-27"><a href="#cb24-27" aria-hidden="true"></a>      <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb24-28"><a href="#cb24-28" aria-hidden="true"></a>    <span class="kw">&lt;/div&gt;</span></span>
      <span id="cb24-29"><a href="#cb24-29" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;dist/reveal.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb24-30"><a href="#cb24-30" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/zoom/zoom.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb24-31"><a href="#cb24-31" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/notes/notes.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb24-32"><a href="#cb24-32" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/search/search.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb24-33"><a href="#cb24-33" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/markdown/markdown.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb24-34"><a href="#cb24-34" aria-hidden="true"></a>    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;plugin/highlight/highlight.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></span>
      <span id="cb24-35"><a href="#cb24-35" aria-hidden="true"></a>    <span class="kw">&lt;script&gt;</span></span>
      <span id="cb24-36"><a href="#cb24-36" aria-hidden="true"></a>      <span class="co">// Also available as an ES module, see:</span></span>
      <span id="cb24-37"><a href="#cb24-37" aria-hidden="true"></a>      <span class="co">// https://revealjs.com/initialization/</span></span>
      <span id="cb24-38"><a href="#cb24-38" aria-hidden="true"></a>      Reveal<span class="op">.</span><span class="fu">initialize</span>({</span>
      <span id="cb24-39"><a href="#cb24-39" aria-hidden="true"></a>        <span class="dt">controls</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
      <span id="cb24-40"><a href="#cb24-40" aria-hidden="true"></a>        <span class="dt">progress</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
      <span id="cb24-41"><a href="#cb24-41" aria-hidden="true"></a>        <span class="dt">center</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
      <span id="cb24-42"><a href="#cb24-42" aria-hidden="true"></a>        <span class="dt">hash</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
      <span id="cb24-43"><a href="#cb24-43" aria-hidden="true"></a>        <span class="co">// Learn about plugins: https://revealjs.com/plugins/</span></span>
      <span id="cb24-44"><a href="#cb24-44" aria-hidden="true"></a>        <span class="dt">plugins</span><span class="op">:</span> [ RevealZoom<span class="op">,</span> RevealNotes<span class="op">,</span> RevealSearch<span class="op">,</span> RevealMarkdown<span class="op">,</span> RevealHighlight ]</span>
      <span id="cb24-45"><a href="#cb24-45" aria-hidden="true"></a>        })<span class="op">;</span></span>
      <span id="cb24-46"><a href="#cb24-46" aria-hidden="true"></a>    <span class="kw">&lt;/script&gt;</span></span>
      <span id="cb24-47"><a href="#cb24-47" aria-hidden="true"></a>  <span class="kw">&lt;/body&gt;</span></span>
      <span id="cb24-48"><a href="#cb24-48" aria-hidden="true"></a><span class="kw">&lt;/html&gt;</span></span>
      <span id="cb24-49"><a href="#cb24-49" aria-hidden="true"></a></span></code></pre></div>
      <!-- cSpell:enable -->
      <h3 id="versioning-gitlabgithub">7.3. Versioning (gitlab/github)<!-- OK --></h3>
      <h4 id="gitlab">7.3.1. GitLab<!-- OK --></h4>
      <p>GitLab est un <strong>logiciel libre de forge</strong> (système de gestion et de maintenance collaborative) basé sur git, proposant les fonctionnalités de wiki, un système de suivi des bugs, l’intégration continue et la livraison continue. Ses fonctionnalités étendues en font bien plus qu’un simple un outil de contrôle de version.</p>
      <p>Il est par exemple possible d’y attacher un <strong>helpdesk</strong>, lié au système de <strong>suivi de bugs</strong>, afin de <strong>planifier et allouer des taches</strong> aux différents intervenants du projet.</p>
      <p>GitLab permet aussi, au travers de sa <strong>gestion du pipeline et des runners</strong>, de tester et de construire la couche applicative, de produire la documentation, d’automatiser le provisionnement des serveurs nécessaires et d’y déployer l’application finalisée.</p>
      <p>L’ensemble du <strong>projet est versionné sur GitLab</strong>. Le projet <strong>exploite Gitlab CI/CD</strong>, nous permettant d’automatiser le pipeline Devops pour la compilation, les tests et le déploiement.</p>
      <p>Vous trouverez ci-après un extrait du fichier <code>.gitlab-ci.yml</code>, construit lui aussi sur le principe du template, utilisé pour la configuration de pipeline. Il reprend les tâches configurées dans Gradle (Cf. <a href="#761-automatisation-de-build">Gradle</a>) :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb25"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a></span>
      <span id="cb25-2"><a href="#cb25-2" aria-hidden="true"></a>...</span>
      <span id="cb25-3"><a href="#cb25-3" aria-hidden="true"></a></span>
      <span id="cb25-4"><a href="#cb25-4" aria-hidden="true"></a><span class="fu"># Include templates</span></span>
      <span id="cb25-5"><a href="#cb25-5" aria-hidden="true"></a>include:</span>
      <span id="cb25-6"><a href="#cb25-6" aria-hidden="true"></a><span class="ss">  - </span>project: &#39;thx-lpg/thx-lpg-java-storagemanagement&#39;</span>
      <span id="cb25-7"><a href="#cb25-7" aria-hidden="true"></a>    # ref: 0.5.0 #Project <span class="in">`thx-lpg/thx-lpg-java-storagemanagement`</span> reference <span class="in">`0.5.0`</span> does not exist!</span>
      <span id="cb25-8"><a href="#cb25-8" aria-hidden="true"></a>    # ref: main</span>
      <span id="cb25-9"><a href="#cb25-9" aria-hidden="true"></a>    file:</span>
      <span id="cb25-10"><a href="#cb25-10" aria-hidden="true"></a><span class="ss">    - </span>&#39;ci/java/debug.yml&#39;</span>
      <span id="cb25-11"><a href="#cb25-11" aria-hidden="true"></a><span class="ss">    - </span>&#39;ci/java/build.yml&#39;</span>
      <span id="cb25-12"><a href="#cb25-12" aria-hidden="true"></a><span class="ss">    - </span>&#39;ci/java/test.yml&#39;</span>
      <span id="cb25-13"><a href="#cb25-13" aria-hidden="true"></a>    # - &#39;ci/java/terraform_dev.yml&#39;</span>
      <span id="cb25-14"><a href="#cb25-14" aria-hidden="true"></a>    # - &#39;ci/java/deploy_dev.yml&#39;</span>
      <span id="cb25-15"><a href="#cb25-15" aria-hidden="true"></a></span>
      <span id="cb25-16"><a href="#cb25-16" aria-hidden="true"></a><span class="fu"># Workflow</span></span>
      <span id="cb25-17"><a href="#cb25-17" aria-hidden="true"></a>workflow:</span>
      <span id="cb25-18"><a href="#cb25-18" aria-hidden="true"></a>  rules:</span>
      <span id="cb25-19"><a href="#cb25-19" aria-hidden="true"></a><span class="ss">    - </span>if: &#39;$CI_PIPELINE_SOURCE == &quot;merge_request_event&quot;&#39;</span>
      <span id="cb25-20"><a href="#cb25-20" aria-hidden="true"></a><span class="ss">    - </span>if: &#39;$CI_COMMIT_BRANCH == $CI_DEFAULT_BRANCH&#39;</span>
      <span id="cb25-21"><a href="#cb25-21" aria-hidden="true"></a></span>
      <span id="cb25-22"><a href="#cb25-22" aria-hidden="true"></a><span class="fu"># Default docker image</span></span>
      <span id="cb25-23"><a href="#cb25-23" aria-hidden="true"></a>image: alpine</span>
      <span id="cb25-24"><a href="#cb25-24" aria-hidden="true"></a></span>
      <span id="cb25-25"><a href="#cb25-25" aria-hidden="true"></a><span class="fu"># Default variables</span></span>
      <span id="cb25-26"><a href="#cb25-26" aria-hidden="true"></a>variables:</span>
      <span id="cb25-27"><a href="#cb25-27" aria-hidden="true"></a>  CI_DEBUG_TRACE: &quot;false&quot; # Debug</span>
      <span id="cb25-28"><a href="#cb25-28" aria-hidden="true"></a>  BUILD_PATH: &quot;app/build&quot;</span>
      <span id="cb25-29"><a href="#cb25-29" aria-hidden="true"></a>  GRADLE_PATH: &quot;.gradle&quot;</span>
      <span id="cb25-30"><a href="#cb25-30" aria-hidden="true"></a>  GRADLE_OPTS: &quot;-Dorg.gradle.daemon=false&quot;</span>
      <span id="cb25-31"><a href="#cb25-31" aria-hidden="true"></a></span>
      <span id="cb25-32"><a href="#cb25-32" aria-hidden="true"></a><span class="fu"># Pipeline stages</span></span>
      <span id="cb25-33"><a href="#cb25-33" aria-hidden="true"></a>stages:</span>
      <span id="cb25-34"><a href="#cb25-34" aria-hidden="true"></a><span class="ss">  - </span>debug</span>
      <span id="cb25-35"><a href="#cb25-35" aria-hidden="true"></a><span class="ss">  - </span>build</span>
      <span id="cb25-36"><a href="#cb25-36" aria-hidden="true"></a><span class="ss">  - </span>test</span>
      <span id="cb25-37"><a href="#cb25-37" aria-hidden="true"></a><span class="ss">  - </span>docker</span>
      <span id="cb25-38"><a href="#cb25-38" aria-hidden="true"></a><span class="ss">  - </span>deploy</span>
      <span id="cb25-39"><a href="#cb25-39" aria-hidden="true"></a><span class="ss">  - </span>clean</span>
      <span id="cb25-40"><a href="#cb25-40" aria-hidden="true"></a></span>
      <span id="cb25-41"><a href="#cb25-41" aria-hidden="true"></a><span class="fu"># Execute before each job</span></span>
      <span id="cb25-42"><a href="#cb25-42" aria-hidden="true"></a>before_script:</span>
      <span id="cb25-43"><a href="#cb25-43" aria-hidden="true"></a><span class="ss">  - </span>echo &quot;Start ${CI_JOB_NAME} - stage:${CI_JOB_STAGE}&quot;</span>
      <span id="cb25-44"><a href="#cb25-44" aria-hidden="true"></a><span class="ss">  - </span>export GRADLE_USER_HOME=<span class="in">`pwd`</span>/${GRADLE_PATH}</span>
      <span id="cb25-45"><a href="#cb25-45" aria-hidden="true"></a></span>
      <span id="cb25-46"><a href="#cb25-46" aria-hidden="true"></a><span class="fu"># Execute after each job</span></span>
      <span id="cb25-47"><a href="#cb25-47" aria-hidden="true"></a>after_script:</span>
      <span id="cb25-48"><a href="#cb25-48" aria-hidden="true"></a><span class="ss">  - </span>echo &quot;End ${CI_JOB_NAME} - stage:${CI_JOB_STAGE}&quot;</span>
      <span id="cb25-49"><a href="#cb25-49" aria-hidden="true"></a></span>
      <span id="cb25-50"><a href="#cb25-50" aria-hidden="true"></a><span class="fu"># Debug</span></span>
      <span id="cb25-51"><a href="#cb25-51" aria-hidden="true"></a>job:debug:</span>
      <span id="cb25-52"><a href="#cb25-52" aria-hidden="true"></a>  tags:</span>
      <span id="cb25-53"><a href="#cb25-53" aria-hidden="true"></a><span class="ss">  - </span>thx</span>
      <span id="cb25-54"><a href="#cb25-54" aria-hidden="true"></a>  stage: debug</span>
      <span id="cb25-55"><a href="#cb25-55" aria-hidden="true"></a>  extends: .template:ci:java:debug</span>
      <span id="cb25-56"><a href="#cb25-56" aria-hidden="true"></a></span>
      <span id="cb25-57"><a href="#cb25-57" aria-hidden="true"></a><span class="fu"># Build</span></span>
      <span id="cb25-58"><a href="#cb25-58" aria-hidden="true"></a>job:build:</span>
      <span id="cb25-59"><a href="#cb25-59" aria-hidden="true"></a>  tags:</span>
      <span id="cb25-60"><a href="#cb25-60" aria-hidden="true"></a><span class="ss">  - </span>thx</span>
      <span id="cb25-61"><a href="#cb25-61" aria-hidden="true"></a>  stage: build</span>
      <span id="cb25-62"><a href="#cb25-62" aria-hidden="true"></a>  extends: .template:ci:java:build</span>
      <span id="cb25-63"><a href="#cb25-63" aria-hidden="true"></a></span>
      <span id="cb25-64"><a href="#cb25-64" aria-hidden="true"></a><span class="fu"># Test</span></span>
      <span id="cb25-65"><a href="#cb25-65" aria-hidden="true"></a>job:test:</span>
      <span id="cb25-66"><a href="#cb25-66" aria-hidden="true"></a>  tags:</span>
      <span id="cb25-67"><a href="#cb25-67" aria-hidden="true"></a><span class="ss">  - </span>thx</span>
      <span id="cb25-68"><a href="#cb25-68" aria-hidden="true"></a>  stage: test</span>
      <span id="cb25-69"><a href="#cb25-69" aria-hidden="true"></a>  extends: .template:ci:java:test</span>
      <span id="cb25-70"><a href="#cb25-70" aria-hidden="true"></a></span>
      <span id="cb25-71"><a href="#cb25-71" aria-hidden="true"></a>...</span></code></pre></div>
      <!-- cSpell:enable -->
      <h3 id="sgbd-utilisé-mysqlpostgresql">7.4. SGBD utilisé (MYSQL/PostgreSQL)<!-- OK --></h3>
      <p>Le choix du Système de Gestion de Base de Données s’est appuyé sur les elements suivants :</p>
      <ul>
      <li><strong>MySQL</strong>
      <ul>
      <li>populaire et communauté active</li>
      <li>performant pour les applications web à haute charge</li>
      <li>multi-plateforme</li>
      <li>manque de fonctionnalités avancées</li>
      <li>pas de support natif pour les types de données non numériques</li>
      </ul></li>
      <li><strong>PostgreSQL</strong>
      <ul>
      <li>fonctionnalités avancées (transactions de niveau de série, réplication de plusieurs maîtres)</li>
      <li>support natif pour les types de données non numériques</li>
      <li>adapté pour les calculs d’agrégation et les opérations de géométrie</li>
      <li>moins populaire et communauté moins active</li>
      <li>peut être moins performant dans certaines situations</li>
      </ul></li>
      </ul>
      <p>Nous avons fait le choix de retenir MariaDB.</p>
      <h4 id="mariadb">7.4.1. MariaDB<!-- OK --></h4>
      <p>MariaDB est un <strong>système de gestion de base de données relationnelles</strong> édité sous licence GPL. Il s’agit d’une <strong>branche communautaire</strong> de MySQL. L’objectif est de maintenir une haute <strong>compatibilité avec MySQL</strong>, une parité des librairies et une correspondance parfaite avec l’API ainsi que les commandes MySQL. Ceci permettant, dans la plupart des cas de fonctionner en remplacement direct de MySQL.</p>
      <h3 id="outils-de-maquettage">7.5. Outils de maquettage</h3>
      <h4 id="figma">7.5.1. Figma<!-- CHECK  --></h4>
      <p>Figma est une <strong>application web collaborative d’édition de graphiques vectoriels et de prototypage</strong>. Il est principalement basé sur le web, avec des fonctionnalités hors ligne supplémentaires activées par des applications de bureau.</p>
      <p>L’ensemble des fonctionnalités de Figma est <strong>axé sur l’utilisation</strong>, dans la conception, <strong>de l’interface utilisateur et de l’expérience utilisateur</strong>, en mettant l’accent sur la collaboration en temps réel.</p>
      <div class="sourceCode" id="cb26"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a><span class="ss">- </span>contexte</span></code></pre></div>
      <h4 id="plantuml">7.5.2. PlantUML<!-- CHECK --></h4>
      <p>PlantUML est un <strong>outil libre</strong> permettant de <strong>créer des diagrammes UML a partir de fichiers texte</strong>. En dehors des UML classiques, PlantUML supporte de nombreux autres formats (Archimate, Block diagram, BPMN, C4, Computer network diagram, ERD, Gantt chart, Mind map, and WBD), ainsi que la visualisation des fichier JSON et YAML.</p>
      <p>La création et l’édition d’UML simples permet de représenter et de concevoir la structure ou les fonctionnalités recherches d’un logiciel (Activité, Acteurs, Processus, Schéma de base de données, Composants logiciels), et fait partie intégrante du prototypage.</p>
      <div class="sourceCode" id="cb27"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a><span class="ss">- </span>contexte</span></code></pre></div>
      <h3 id="plateforme-de-développement">7.6. Plateforme de développement</h3>
      <h4 id="automatisation-de-build">7.6.1. Automatisation de build<!-- OK --></h4>
      <p>Le choix du moteur de production s’est appuyé sur les elements suivants :</p>
      <ul>
      <li><strong>Gradle</strong>
      <ul>
      <li>hautement configurable</li>
      <li>performant et efficient (2 fois plus que Maven)</li>
      <li>flexible (système de plugins)</li>
      <li>requiert une expertise technique</li>
      <li>documentation incomplete</li>
      </ul></li>
      <li><strong>Maven</strong>
      <ul>
      <li>procédure simple et organisée</li>
      <li>télécharge automatiquement les Jar et dépendances</li>
      <li>requiert une installation locale</li>
      <li>lent</li>
      </ul></li>
      </ul>
      <p>Après une série de tests, notre choix s’est oriente vers Gradle.</p>
      <p><strong>Gradle</strong> est un <strong>moteur de production</strong> fonctionnant sur la plateforme Java. Il permet de construire des projets en Java, Scala, Groovy voire C++. Il allie l’utilisation de conventions à la manière de Maven (convention plutôt que configuration) avec la flexibilité de Ant pour décrire les tâches de construction.</p>
      <p>Gradle permet d’écrire des tâches dans un fichier de construction en utilisant le langage Groovy, qui permettent d’exécuter des activités d’<strong>ingénierie logicielle</strong> (compilation, assemblage, test unitaires, qualité du code, déploiement…)</p>
      <p><strong>Notes :</strong> Les taches construites pour gradle sont également appelées lors des différentes phases du pipeline DevOps.</p>
      <p>Voici des extraits du fichier <code>build.gradle</code> utilisé dans le cadre de notre projet :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb28"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a></span>
      <span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a>...</span>
      <span id="cb28-3"><a href="#cb28-3" aria-hidden="true"></a></span>
      <span id="cb28-4"><a href="#cb28-4" aria-hidden="true"></a><span class="co">// -------------------------------------------------------------------- Plugins</span></span>
      <span id="cb28-5"><a href="#cb28-5" aria-hidden="true"></a>plugins {</span>
      <span id="cb28-6"><a href="#cb28-6" aria-hidden="true"></a>  <span class="co">// Apply the application plugin to add support for building a CLI application in Java.</span></span>
      <span id="cb28-7"><a href="#cb28-7" aria-hidden="true"></a>  <span class="co">// [https://docs.gradle.org/current/userguide/java_plugin.html]</span></span>
      <span id="cb28-8"><a href="#cb28-8" aria-hidden="true"></a>  id &#39;java&#39;</span>
      <span id="cb28-9"><a href="#cb28-9" aria-hidden="true"></a></span>
      <span id="cb28-10"><a href="#cb28-10" aria-hidden="true"></a>  <span class="co">// Apply the JVM Test Suite plugin (applied automatically by the java plugin)</span></span>
      <span id="cb28-11"><a href="#cb28-11" aria-hidden="true"></a>  <span class="co">// [https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html]</span></span>
      <span id="cb28-12"><a href="#cb28-12" aria-hidden="true"></a>  id &#39;jvm-test-suite&#39;</span>
      <span id="cb28-13"><a href="#cb28-13" aria-hidden="true"></a></span>
      <span id="cb28-14"><a href="#cb28-14" aria-hidden="true"></a>  <span class="co">// Apply the war plugin</span></span>
      <span id="cb28-15"><a href="#cb28-15" aria-hidden="true"></a>  <span class="co">// [https://docs.gradle.org/current/userguide/war_plugin.html]</span></span>
      <span id="cb28-16"><a href="#cb28-16" aria-hidden="true"></a>  id &#39;war&#39;</span>
      <span id="cb28-17"><a href="#cb28-17" aria-hidden="true"></a></span>
      <span id="cb28-18"><a href="#cb28-18" aria-hidden="true"></a>  <span class="co">// Apply the ssh plugin</span></span>
      <span id="cb28-19"><a href="#cb28-19" aria-hidden="true"></a>  <span class="co">// [https://gradle-ssh-plugin.github.io/docs/]</span></span>
      <span id="cb28-20"><a href="#cb28-20" aria-hidden="true"></a>  id &#39;org.hidetake.ssh&#39; version &#39;<span class="dv">2</span>.<span class="dv">10</span><span class="fl">.1</span>&#39;</span>
      <span id="cb28-21"><a href="#cb28-21" aria-hidden="true"></a></span>
      <span id="cb28-22"><a href="#cb28-22" aria-hidden="true"></a>  <span class="co">// Apply the SpotBugs plugin (Static Application Security Testing)</span></span>
      <span id="cb28-23"><a href="#cb28-23" aria-hidden="true"></a>  <span class="co">// [https://github.com/spotbugs/spotbugs-gradle-plugin]</span></span>
      <span id="cb28-24"><a href="#cb28-24" aria-hidden="true"></a>  <span class="co">// [https://spotbugs.readthedocs.io/en/latest/]</span></span>
      <span id="cb28-25"><a href="#cb28-25" aria-hidden="true"></a>  id <span class="st">&quot;com.github.spotbugs&quot;</span> version <span class="st">&quot;5.0.9&quot;</span></span>
      <span id="cb28-26"><a href="#cb28-26" aria-hidden="true"></a>}</span>
      <span id="cb28-27"><a href="#cb28-27" aria-hidden="true"></a></span>
      <span id="cb28-28"><a href="#cb28-28" aria-hidden="true"></a>...</span>
      <span id="cb28-29"><a href="#cb28-29" aria-hidden="true"></a></span>
      <span id="cb28-30"><a href="#cb28-30" aria-hidden="true"></a><span class="co">// --------------------------------------------------------------- Repositories</span></span>
      <span id="cb28-31"><a href="#cb28-31" aria-hidden="true"></a>repositories {</span>
      <span id="cb28-32"><a href="#cb28-32" aria-hidden="true"></a>  <span class="co">// Order here is important. Repositories are queried sequentially.</span></span>
      <span id="cb28-33"><a href="#cb28-33" aria-hidden="true"></a>  mavenLocal() <span class="co">// Local repository</span></span>
      <span id="cb28-34"><a href="#cb28-34" aria-hidden="true"></a>  mavenCentral() <span class="co">// Central repository</span></span>
      <span id="cb28-35"><a href="#cb28-35" aria-hidden="true"></a>  maven {</span>
      <span id="cb28-36"><a href="#cb28-36" aria-hidden="true"></a>      url = uri(&#39;https:<span class="co">//repo.maven.apache.org/maven2/&#39;)</span></span>
      <span id="cb28-37"><a href="#cb28-37" aria-hidden="true"></a>  }</span>
      <span id="cb28-38"><a href="#cb28-38" aria-hidden="true"></a>}</span>
      <span id="cb28-39"><a href="#cb28-39" aria-hidden="true"></a></span>
      <span id="cb28-40"><a href="#cb28-40" aria-hidden="true"></a><span class="co">// --------------------------------------------------------------- Dependencies</span></span>
      <span id="cb28-41"><a href="#cb28-41" aria-hidden="true"></a><span class="co">// [https://docs.gradle.org/current/userguide/core_dependency_management.html]</span></span>
      <span id="cb28-42"><a href="#cb28-42" aria-hidden="true"></a><span class="co">// implementation = compileClasspath + runtimeClasspath (integrated in war)</span></span>
      <span id="cb28-43"><a href="#cb28-43" aria-hidden="true"></a><span class="co">// providedCompile = compileClasspath (not integrated in war)</span></span>
      <span id="cb28-44"><a href="#cb28-44" aria-hidden="true"></a>dependencies {</span>
      <span id="cb28-45"><a href="#cb28-45" aria-hidden="true"></a>    <span class="co">// Use JUnit Jupiter for unit testing</span></span>
      <span id="cb28-46"><a href="#cb28-46" aria-hidden="true"></a>    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:<span class="dv">5</span>.<span class="dv">9</span><span class="fl">.0</span>&#39; <span class="co">// API</span></span>
      <span id="cb28-47"><a href="#cb28-47" aria-hidden="true"></a>    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:<span class="dv">5</span>.<span class="dv">9</span><span class="fl">.0</span>&#39; <span class="co">// Runtime</span></span>
      <span id="cb28-48"><a href="#cb28-48" aria-hidden="true"></a></span>
      <span id="cb28-49"><a href="#cb28-49" aria-hidden="true"></a>    <span class="co">// Use Mockito for unit testing [https://site.mockito.org/]</span></span>
      <span id="cb28-50"><a href="#cb28-50" aria-hidden="true"></a>    testImplementation <span class="st">&quot;org.mockito:mockito-core:3.+&quot;</span></span>
      <span id="cb28-51"><a href="#cb28-51" aria-hidden="true"></a></span>
      <span id="cb28-52"><a href="#cb28-52" aria-hidden="true"></a>    <span class="co">// Use JUnit Jupiter for integration testing</span></span>
      <span id="cb28-53"><a href="#cb28-53" aria-hidden="true"></a>    itestImplementation &#39;org.junit.jupiter:junit-jupiter-api:<span class="dv">5</span>.<span class="dv">9</span><span class="fl">.0</span>&#39; <span class="co">// API</span></span>
      <span id="cb28-54"><a href="#cb28-54" aria-hidden="true"></a>    itestRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:<span class="dv">5</span>.<span class="dv">9</span><span class="fl">.0</span>&#39; <span class="co">// Runtime</span></span>
      <span id="cb28-55"><a href="#cb28-55" aria-hidden="true"></a></span>
      <span id="cb28-56"><a href="#cb28-56" aria-hidden="true"></a>    implementation &#39;javax.servlet:jstl:<span class="dv">1</span><span class="fl">.2</span>&#39; <span class="co">// JSTL</span></span>
      <span id="cb28-57"><a href="#cb28-57" aria-hidden="true"></a>    implementation &#39;mysql:mysql-connector-java:<span class="dv">8</span>.<span class="dv">0</span><span class="fl">.29</span>&#39; <span class="co">// MySQL</span></span>
      <span id="cb28-58"><a href="#cb28-58" aria-hidden="true"></a>    implementation &#39;commons-codec:commons-codec:<span class="dv">1</span><span class="fl">.15</span>&#39; <span class="co">// DigestUtils.sha512Hex</span></span>
      <span id="cb28-59"><a href="#cb28-59" aria-hidden="true"></a>    providedCompile &#39;javax.servlet:javax.servlet-api:<span class="dv">4</span>.<span class="dv">0</span><span class="fl">.1</span>&#39; <span class="co">// Servlet</span></span>
      <span id="cb28-60"><a href="#cb28-60" aria-hidden="true"></a></span>
      <span id="cb28-61"><a href="#cb28-61" aria-hidden="true"></a>...</span>
      <span id="cb28-62"><a href="#cb28-62" aria-hidden="true"></a></span>
      <span id="cb28-63"><a href="#cb28-63" aria-hidden="true"></a>    <span class="co">// https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api</span></span>
      <span id="cb28-64"><a href="#cb28-64" aria-hidden="true"></a>    implementation &#39;javax.xml.bind:jaxb-api:<span class="dv">2</span>.<span class="dv">3</span><span class="fl">.1</span>&#39; <span class="co">// JAXB (xml&lt;&gt;java)</span></span>
      <span id="cb28-65"><a href="#cb28-65" aria-hidden="true"></a>}</span>
      <span id="cb28-66"><a href="#cb28-66" aria-hidden="true"></a></span>
      <span id="cb28-67"><a href="#cb28-67" aria-hidden="true"></a>...</span>
      <span id="cb28-68"><a href="#cb28-68" aria-hidden="true"></a></span>
      <span id="cb28-69"><a href="#cb28-69" aria-hidden="true"></a><span class="co">// ------------------------------------------------------------------------ ssh</span></span>
      <span id="cb28-70"><a href="#cb28-70" aria-hidden="true"></a>ssh.settings {</span>
      <span id="cb28-71"><a href="#cb28-71" aria-hidden="true"></a>  dryRun = project.hasProperty(&#39;dryRun&#39;)</span>
      <span id="cb28-72"><a href="#cb28-72" aria-hidden="true"></a>  timeoutSec = <span class="dv">600</span></span>
      <span id="cb28-73"><a href="#cb28-73" aria-hidden="true"></a>}</span>
      <span id="cb28-74"><a href="#cb28-74" aria-hidden="true"></a></span>
      <span id="cb28-75"><a href="#cb28-75" aria-hidden="true"></a>remotes {</span>
      <span id="cb28-76"><a href="#cb28-76" aria-hidden="true"></a>  app {</span>
      <span id="cb28-77"><a href="#cb28-77" aria-hidden="true"></a>    role &#39;tomcat&#39;</span>
      <span id="cb28-78"><a href="#cb28-78" aria-hidden="true"></a>    host = &#39;localhost&#39;</span>
      <span id="cb28-79"><a href="#cb28-79" aria-hidden="true"></a>    port = <span class="dv">2222</span></span>
      <span id="cb28-80"><a href="#cb28-80" aria-hidden="true"></a>    user = &#39;root&#39;</span>
      <span id="cb28-81"><a href="#cb28-81" aria-hidden="true"></a>    password = &#39;root&#39;</span>
      <span id="cb28-82"><a href="#cb28-82" aria-hidden="true"></a>    knownHosts = allowAnyHosts <span class="co">// Bypass ~/.ssh/known_hosts</span></span>
      <span id="cb28-83"><a href="#cb28-83" aria-hidden="true"></a>    <span class="co">// identity = file(&#39;id_rsa&#39;)</span></span>
      <span id="cb28-84"><a href="#cb28-84" aria-hidden="true"></a>  }</span>
      <span id="cb28-85"><a href="#cb28-85" aria-hidden="true"></a>}</span>
      <span id="cb28-86"><a href="#cb28-86" aria-hidden="true"></a></span>
      <span id="cb28-87"><a href="#cb28-87" aria-hidden="true"></a>...</span>
      <span id="cb28-88"><a href="#cb28-88" aria-hidden="true"></a></span>
      <span id="cb28-89"><a href="#cb28-89" aria-hidden="true"></a>task deploy(dependsOn: war) {</span>
      <span id="cb28-90"><a href="#cb28-90" aria-hidden="true"></a>  description = <span class="st">&quot;Deploy on dev server&quot;</span></span>
      <span id="cb28-91"><a href="#cb28-91" aria-hidden="true"></a>  doLast {</span>
      <span id="cb28-92"><a href="#cb28-92" aria-hidden="true"></a>    def webapps = &#39;/usr/local/tomcat/webapps&#39;</span>
      <span id="cb28-93"><a href="#cb28-93" aria-hidden="true"></a>    def app = &#39;ROOT.war&#39;</span>
      <span id="cb28-94"><a href="#cb28-94" aria-hidden="true"></a>    ssh.run {</span>
      <span id="cb28-95"><a href="#cb28-95" aria-hidden="true"></a>      session(remotes.app) {</span>
      <span id="cb28-96"><a href="#cb28-96" aria-hidden="true"></a>        <span class="bu">println</span> <span class="st">&quot;- Uploading new war&quot;</span></span>
      <span id="cb28-97"><a href="#cb28-97" aria-hidden="true"></a>        put from: war.archivePath.absolutePath, into: <span class="st">&quot;${webapps}/${app}.new&quot;</span></span>
      <span id="cb28-98"><a href="#cb28-98" aria-hidden="true"></a></span>
      <span id="cb28-99"><a href="#cb28-99" aria-hidden="true"></a>        <span class="bu">println</span> <span class="st">&quot;- Removing old war&quot;</span></span>
      <span id="cb28-100"><a href="#cb28-100" aria-hidden="true"></a>        execute <span class="st">&quot;rm ${webapps}/${app}&quot;</span>, ignoreError: <span class="ot">true</span></span>
      <span id="cb28-101"><a href="#cb28-101" aria-hidden="true"></a></span>
      <span id="cb28-102"><a href="#cb28-102" aria-hidden="true"></a>        <span class="bu">println</span> <span class="st">&quot;- Renaming new war&quot;</span></span>
      <span id="cb28-103"><a href="#cb28-103" aria-hidden="true"></a>        execute <span class="st">&quot;mv ${webapps}/${app}.new ${webapps}/${app}&quot;</span></span>
      <span id="cb28-104"><a href="#cb28-104" aria-hidden="true"></a></span>
      <span id="cb28-105"><a href="#cb28-105" aria-hidden="true"></a>        <span class="bu">println</span> <span class="st">&quot;${webapps}/${app} deployed&quot;</span></span>
      <span id="cb28-106"><a href="#cb28-106" aria-hidden="true"></a>      }</span>
      <span id="cb28-107"><a href="#cb28-107" aria-hidden="true"></a>    }</span>
      <span id="cb28-108"><a href="#cb28-108" aria-hidden="true"></a>  }</span>
      <span id="cb28-109"><a href="#cb28-109" aria-hidden="true"></a>}</span>
      <span id="cb28-110"><a href="#cb28-110" aria-hidden="true"></a></span>
      <span id="cb28-111"><a href="#cb28-111" aria-hidden="true"></a>...</span>
      <span id="cb28-112"><a href="#cb28-112" aria-hidden="true"></a></span>
      <span id="cb28-113"><a href="#cb28-113" aria-hidden="true"></a><span class="co">// ----------------------------------------------------------------------- SAST</span></span>
      <span id="cb28-114"><a href="#cb28-114" aria-hidden="true"></a>spotbugs {</span>
      <span id="cb28-115"><a href="#cb28-115" aria-hidden="true"></a>  effort = &#39;max&#39;</span>
      <span id="cb28-116"><a href="#cb28-116" aria-hidden="true"></a>  ignoreFailures = <span class="ot">true</span></span>
      <span id="cb28-117"><a href="#cb28-117" aria-hidden="true"></a>  <span class="co">// reportLevel = &#39;high&#39;</span></span>
      <span id="cb28-118"><a href="#cb28-118" aria-hidden="true"></a>  reportLevel = &#39;<span class="kw">default</span>&#39;</span>
      <span id="cb28-119"><a href="#cb28-119" aria-hidden="true"></a>  showProgress = <span class="ot">true</span></span>
      <span id="cb28-120"><a href="#cb28-120" aria-hidden="true"></a>  showStackTraces = <span class="ot">true</span></span>
      <span id="cb28-121"><a href="#cb28-121" aria-hidden="true"></a>  maxHeapSize = &#39;1g&#39;</span>
      <span id="cb28-122"><a href="#cb28-122" aria-hidden="true"></a>  reportsDir = file(<span class="st">&quot;$buildDir/reports/spotbugs&quot;</span>)</span>
      <span id="cb28-123"><a href="#cb28-123" aria-hidden="true"></a>}</span>
      <span id="cb28-124"><a href="#cb28-124" aria-hidden="true"></a></span>
      <span id="cb28-125"><a href="#cb28-125" aria-hidden="true"></a>spotbugsMain {</span>
      <span id="cb28-126"><a href="#cb28-126" aria-hidden="true"></a>  reports {</span>
      <span id="cb28-127"><a href="#cb28-127" aria-hidden="true"></a>    xml.enabled = <span class="ot">true</span></span>
      <span id="cb28-128"><a href="#cb28-128" aria-hidden="true"></a>    html.enabled = <span class="ot">true</span></span>
      <span id="cb28-129"><a href="#cb28-129" aria-hidden="true"></a>  }</span>
      <span id="cb28-130"><a href="#cb28-130" aria-hidden="true"></a>}</span>
      <span id="cb28-131"><a href="#cb28-131" aria-hidden="true"></a></span>
      <span id="cb28-132"><a href="#cb28-132" aria-hidden="true"></a>spotbugsTest {</span>
      <span id="cb28-133"><a href="#cb28-133" aria-hidden="true"></a>  reports {</span>
      <span id="cb28-134"><a href="#cb28-134" aria-hidden="true"></a>    xml.enabled = <span class="ot">true</span></span>
      <span id="cb28-135"><a href="#cb28-135" aria-hidden="true"></a>    html.enabled = <span class="ot">true</span></span>
      <span id="cb28-136"><a href="#cb28-136" aria-hidden="true"></a>  }</span>
      <span id="cb28-137"><a href="#cb28-137" aria-hidden="true"></a>}</span>
      <span id="cb28-138"><a href="#cb28-138" aria-hidden="true"></a></span>
      <span id="cb28-139"><a href="#cb28-139" aria-hidden="true"></a>spotbugsItest {</span>
      <span id="cb28-140"><a href="#cb28-140" aria-hidden="true"></a>  reports {</span>
      <span id="cb28-141"><a href="#cb28-141" aria-hidden="true"></a>    xml.enabled = <span class="ot">true</span></span>
      <span id="cb28-142"><a href="#cb28-142" aria-hidden="true"></a>    html.enabled = <span class="ot">true</span></span>
      <span id="cb28-143"><a href="#cb28-143" aria-hidden="true"></a>  }</span>
      <span id="cb28-144"><a href="#cb28-144" aria-hidden="true"></a>}</span>
      <span id="cb28-145"><a href="#cb28-145" aria-hidden="true"></a></span>
      <span id="cb28-146"><a href="#cb28-146" aria-hidden="true"></a><span class="co">// --------------------------------------------------------------- Unit testing</span></span>
      <span id="cb28-147"><a href="#cb28-147" aria-hidden="true"></a>tasks.named(&#39;test&#39;) {</span>
      <span id="cb28-148"><a href="#cb28-148" aria-hidden="true"></a>  description = <span class="st">&quot;Run unit test suite&quot;</span></span>
      <span id="cb28-149"><a href="#cb28-149" aria-hidden="true"></a>  group = <span class="st">&quot;verification&quot;</span></span>
      <span id="cb28-150"><a href="#cb28-150" aria-hidden="true"></a>  testClassesDirs = sourceSets.test.output.classesDirs</span>
      <span id="cb28-151"><a href="#cb28-151" aria-hidden="true"></a>  classpath = sourceSets.test.runtimeClasspath</span>
      <span id="cb28-152"><a href="#cb28-152" aria-hidden="true"></a>  <span class="co">// Use JUnit Platform for unit tests.</span></span>
      <span id="cb28-153"><a href="#cb28-153" aria-hidden="true"></a>  useJUnitPlatform()</span>
      <span id="cb28-154"><a href="#cb28-154" aria-hidden="true"></a>}</span>
      <span id="cb28-155"><a href="#cb28-155" aria-hidden="true"></a></span>
      <span id="cb28-156"><a href="#cb28-156" aria-hidden="true"></a><span class="co">// -------------------------------------------------------- Integration testing</span></span>
      <span id="cb28-157"><a href="#cb28-157" aria-hidden="true"></a>task itest(<span class="kw">type</span>: Test) {</span>
      <span id="cb28-158"><a href="#cb28-158" aria-hidden="true"></a>  description = <span class="st">&quot;Run integration test suite&quot;</span></span>
      <span id="cb28-159"><a href="#cb28-159" aria-hidden="true"></a>  group = <span class="st">&quot;verification&quot;</span></span>
      <span id="cb28-160"><a href="#cb28-160" aria-hidden="true"></a>  testClassesDirs = sourceSets.itest.output.classesDirs</span>
      <span id="cb28-161"><a href="#cb28-161" aria-hidden="true"></a>  classpath = sourceSets.itest.runtimeClasspath</span>
      <span id="cb28-162"><a href="#cb28-162" aria-hidden="true"></a>}</span>
      <span id="cb28-163"><a href="#cb28-163" aria-hidden="true"></a></span>
      <span id="cb28-164"><a href="#cb28-164" aria-hidden="true"></a>...</span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="containérisation-et-services">7.6.2. Containérisation et services</h4>
      <p>Docker est un outil qui permet de gérer les conteneurs logiciels.</p>
      <p>Containériser une application facilite <strong>l’isolation des différentes parties</strong>, <strong>la portabilité</strong> entre différents environnements, <strong>l’optimisation des ressources</strong>, <strong>l’automatisation du déploiement</strong> et le partage des images de conteneurs.</p>
      <p>Docker est populaire pour la création, le déploiement et la gestion des conteneurs dans les applications modernes containérisées.</p>
      <h5 id="docker">7.6.2.1. Docker<!-- DONE --></h5>
      <p><strong>Docker</strong> permet la mise en œuvre de <strong>conteneurs</strong> s’exécutant en isolation, via une API de haut-niveau.</p>
      <p>Utiliser Docker pour créer et gérer des conteneurs peut simplifier la mise en œuvre de <strong>systèmes distribués</strong> en permettant à de multiples applications, tâches de fond et autres processus de s’exécuter de façon autonome sur une seule machine physique.</p>
      <p>Voici un exemple de commande qui peut être utilisée pour transformer un fichier Markdown <code>entree.md</code> en fichier HTML au moyen de l’applicatif Pandoc, mais en utilisant l’image Docker <code>pandoc/core</code> (disponible sur <a href="https://hub.docker.com/">Docker Hub</a> :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb29"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a></span>
      <span id="cb29-2"><a href="#cb29-2" aria-hidden="true"></a><span class="ex">docker</span> run --rm -v <span class="va">$(</span><span class="bu">pwd</span><span class="va">)</span>:/data pandoc/core pandoc -s -o sortie.html entree.md</span></code></pre></div>
      <!-- cSpell:enable -->
      <p>Cette commande suppose que le fichier markdown se trouve dans le répertoire courant et créera un fichier HTML nommé <code>sortie.html</code> dans le même répertoire.</p>
      <h5 id="docker-compose">7.6.2.2. Docker Compose<!-- UML --></h5>
      <p>Docker Compose est une extension de docker permettant de définir et d’exécuter des applications à partir de <strong>multiples conteneurs</strong>. Il est basé sur un fichier YAML qui permet de <strong>définir les services et les paramètres de leurs créations</strong> et ainsi de les démarrer par une commande unique.</p>
      <figure>
      <img src="img/docker-compose-uml.png" alt="" /><figcaption>Docker Compose Diagram</figcaption>
      </figure>
      <p>Voici en exemple le fichier <code>docker-compose.yml</code> qui définit le démarrage d’une grappe de 3 services composant la plateforme de développement attachée au projet (les variables sont interprétées au travers d’un fichier d’environnement) :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb30"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a></span>
      <span id="cb30-2"><a href="#cb30-2" aria-hidden="true"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;3&quot;</span></span>
      <span id="cb30-3"><a href="#cb30-3" aria-hidden="true"></a><span class="fu">services</span><span class="kw">:</span></span>
      <span id="cb30-4"><a href="#cb30-4" aria-hidden="true"></a><span class="co"># ------------------------------------------------------------------------- web</span></span>
      <span id="cb30-5"><a href="#cb30-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">web</span><span class="kw">:</span><span class="co"> # NGINX</span></span>
      <span id="cb30-6"><a href="#cb30-6" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span></span>
      <span id="cb30-7"><a href="#cb30-7" aria-hidden="true"></a><span class="at">      </span><span class="fu">context</span><span class="kw">:</span><span class="at"> ${WEB_BUILD}</span></span>
      <span id="cb30-8"><a href="#cb30-8" aria-hidden="true"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> ${PROJECT}-${WEB}</span></span>
      <span id="cb30-9"><a href="#cb30-9" aria-hidden="true"></a><span class="at">    </span><span class="fu">restart</span><span class="kw">:</span><span class="at"> unless-stopped</span></span>
      <span id="cb30-10"><a href="#cb30-10" aria-hidden="true"></a><span class="at">    </span><span class="fu">depends_on</span><span class="kw">:</span></span>
      <span id="cb30-11"><a href="#cb30-11" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> app</span></span>
      <span id="cb30-12"><a href="#cb30-12" aria-hidden="true"></a><span class="at">    </span><span class="fu">links</span><span class="kw">:</span></span>
      <span id="cb30-13"><a href="#cb30-13" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> app</span></span>
      <span id="cb30-14"><a href="#cb30-14" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb30-15"><a href="#cb30-15" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_WEB_UNSECURE_PORT}:80</span></span>
      <span id="cb30-16"><a href="#cb30-16" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_WEB_SECURE_PORT}:443</span></span>
      <span id="cb30-17"><a href="#cb30-17" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
      <span id="cb30-18"><a href="#cb30-18" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${WEB_CONF}/nginx.conf:/etc/nginx/nginx.conf:ro</span><span class="co"> # Nginx conf (read-only)</span></span>
      <span id="cb30-19"><a href="#cb30-19" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${WEB_CONF}/conf.d:/etc/nginx/conf.d:ro</span><span class="co"> # Nginx conf subsets for proxypass (read-only)</span></span>
      <span id="cb30-20"><a href="#cb30-20" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${WEB_LOG}:/var/log/nginx</span><span class="co"> # Logs</span></span>
      <span id="cb30-21"><a href="#cb30-21" aria-hidden="true"></a><span class="co">      # - ${WEB_DATA}:/usr/share/nginx/html # Data</span></span>
      <span id="cb30-22"><a href="#cb30-22" aria-hidden="true"></a><span class="co"># ------------------------------------------------------------------------- app</span></span>
      <span id="cb30-23"><a href="#cb30-23" aria-hidden="true"></a><span class="at">  </span><span class="fu">app</span><span class="kw">:</span><span class="co"> # TOMCAT</span></span>
      <span id="cb30-24"><a href="#cb30-24" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span></span>
      <span id="cb30-25"><a href="#cb30-25" aria-hidden="true"></a><span class="at">      </span><span class="fu">context</span><span class="kw">:</span><span class="at"> ${APP_BUILD}</span></span>
      <span id="cb30-26"><a href="#cb30-26" aria-hidden="true"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> ${PROJECT}-${APP}</span></span>
      <span id="cb30-27"><a href="#cb30-27" aria-hidden="true"></a><span class="at">    </span><span class="fu">restart</span><span class="kw">:</span><span class="at"> unless-stopped</span></span>
      <span id="cb30-28"><a href="#cb30-28" aria-hidden="true"></a><span class="at">    </span><span class="fu">depends_on</span><span class="kw">:</span></span>
      <span id="cb30-29"><a href="#cb30-29" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> db</span></span>
      <span id="cb30-30"><a href="#cb30-30" aria-hidden="true"></a><span class="at">    </span><span class="fu">links</span><span class="kw">:</span></span>
      <span id="cb30-31"><a href="#cb30-31" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> db</span></span>
      <span id="cb30-32"><a href="#cb30-32" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb30-33"><a href="#cb30-33" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_APP_UNSECURE_PORT}:8080</span></span>
      <span id="cb30-34"><a href="#cb30-34" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_APP_SSH_PORT}:22</span></span>
      <span id="cb30-35"><a href="#cb30-35" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
      <span id="cb30-36"><a href="#cb30-36" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${APP_CONF}/jaas.config:${CATALINA_HOME}/conf/jaas.config:ro</span><span class="co"> # JAAS config file (read-only)</span></span>
      <span id="cb30-37"><a href="#cb30-37" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${APP_LOG}:${CATALINA_HOME}/logs</span><span class="co"> # Logs</span></span>
      <span id="cb30-38"><a href="#cb30-38" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${APP_DATA}:${CATALINA_HOME}/webapps</span><span class="co"> # Data</span></span>
      <span id="cb30-39"><a href="#cb30-39" aria-hidden="true"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
      <span id="cb30-40"><a href="#cb30-40" aria-hidden="true"></a><span class="co">      # Starts tomcat with jaas config file</span></span>
      <span id="cb30-41"><a href="#cb30-41" aria-hidden="true"></a><span class="at">      </span><span class="fu">JAVA_OPTS</span><span class="kw">:</span><span class="at"> $JAVA_OPTS &quot;-Djava.security.auth.login.config=$CATALINA_HOME/conf/jaas.config&quot;</span></span>
      <span id="cb30-42"><a href="#cb30-42" aria-hidden="true"></a><span class="co">      # Database</span></span>
      <span id="cb30-43"><a href="#cb30-43" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_DATABASE</span><span class="kw">:</span><span class="at"> ${MARIADB_DATABASE}</span></span>
      <span id="cb30-44"><a href="#cb30-44" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_USER</span><span class="kw">:</span><span class="at"> ${MARIADB_USER}</span></span>
      <span id="cb30-45"><a href="#cb30-45" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_PASSWORD</span><span class="kw">:</span><span class="at"> ${MARIADB_PASSWORD}</span></span>
      <span id="cb30-46"><a href="#cb30-46" aria-hidden="true"></a><span class="co"># -------------------------------------------------------------------------- db</span></span>
      <span id="cb30-47"><a href="#cb30-47" aria-hidden="true"></a><span class="at">  </span><span class="fu">db</span><span class="kw">:</span><span class="co"> # MARIADB</span></span>
      <span id="cb30-48"><a href="#cb30-48" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span></span>
      <span id="cb30-49"><a href="#cb30-49" aria-hidden="true"></a><span class="at">      </span><span class="fu">context</span><span class="kw">:</span><span class="at"> ${DB_BUILD}</span></span>
      <span id="cb30-50"><a href="#cb30-50" aria-hidden="true"></a><span class="at">    </span><span class="fu">container_name</span><span class="kw">:</span><span class="at"> ${PROJECT}-${DB}</span></span>
      <span id="cb30-51"><a href="#cb30-51" aria-hidden="true"></a><span class="at">    </span><span class="fu">restart</span><span class="kw">:</span><span class="at"> unless-stopped</span></span>
      <span id="cb30-52"><a href="#cb30-52" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb30-53"><a href="#cb30-53" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${HOST_IP}:${HOST_DB_PORT}:3306</span></span>
      <span id="cb30-54"><a href="#cb30-54" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span><span class="at"> </span></span>
      <span id="cb30-55"><a href="#cb30-55" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${DB_CONF}/initdb:/docker-entrypoint-initdb.d:ro</span><span class="co"> # SQL initdb</span></span>
      <span id="cb30-56"><a href="#cb30-56" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${DB_LOG}:/var/log/mariadb</span><span class="co"> # Logs</span></span>
      <span id="cb30-57"><a href="#cb30-57" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> ${DB_DATA}:/var/lib/mysql</span><span class="co"> # Data</span></span>
      <span id="cb30-58"><a href="#cb30-58" aria-hidden="true"></a><span class="at">    </span><span class="fu">environment</span><span class="kw">:</span></span>
      <span id="cb30-59"><a href="#cb30-59" aria-hidden="true"></a><span class="co">      # Database</span></span>
      <span id="cb30-60"><a href="#cb30-60" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_ROOT_PASSWORD</span><span class="kw">:</span><span class="at"> ${MARIADB_ROOT_PASSWORD}</span></span>
      <span id="cb30-61"><a href="#cb30-61" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_DATABASE</span><span class="kw">:</span><span class="at"> ${MARIADB_DATABASE}</span></span>
      <span id="cb30-62"><a href="#cb30-62" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_USER</span><span class="kw">:</span><span class="at"> ${MARIADB_USER}</span></span>
      <span id="cb30-63"><a href="#cb30-63" aria-hidden="true"></a><span class="at">      </span><span class="fu">MARIADB_PASSWORD</span><span class="kw">:</span><span class="at"> ${MARIADB_PASSWORD}</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h5 id="docker-swarm">7.6.2.3. Docker Swarm<!-- UML --></h5>
      <p>Docker swarm mode, inclus dans les versions actuelles de Docker, permet de <strong>gérer un cluster de moteur Docker</strong>, appelé swarm. En utilisant la ligne de commande docker, il est possible de créer un swarm, d’y déployer des services applicatifs, et de gérer le comportement du swarm. Docker swarm est <strong>l’orchestrateur natif de docker</strong> (équivalent Kubernetes).</p>
      <p>Les fonctions les plus représentatives sont les suivantes :</p>
      <ul>
      <li><strong>Gestion</strong> du cluster <strong>intégrée avec le moteur Docker</strong></li>
      <li><strong>Modèle déclaratif</strong> (desired state)</li>
      <li>Surveillance du <strong>status et réconciliation</strong> (Desired state reconciliation)</li>
      <li><em>Dimensionnement</em> (replica scaling)</li>
      <li><strong>Répartition de charge</strong> (Load balancing)</li>
      <li><strong>Réseau</strong> multi-host (overlays)</li>
      <li><strong>Sécurisé</strong> par défaut (TLS authentification et encryption)</li>
      </ul>
      <figure>
      <img src="img/docker-swarm-uml.png" alt="" /><figcaption>Docker Swarm Diagram</figcaption>
      </figure>
      <p>Voici en exemple un autre fichier <code>docker-compose.yml</code>, cette fois-ci utilise par un script python d’intégration chargé de déployer des stacks de services sur un swarm (Les parties commentées correspondent à la configuration nécessaire pour la persistance des données grâce à un partage nfs) :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb31"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a></span>
      <span id="cb31-2"><a href="#cb31-2" aria-hidden="true"></a><span class="fu">version</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;3.6&#39;</span></span>
      <span id="cb31-3"><a href="#cb31-3" aria-hidden="true"></a><span class="co"># -------------------------------------------------------------------- networks</span></span>
      <span id="cb31-4"><a href="#cb31-4" aria-hidden="true"></a><span class="fu">networks</span><span class="kw">:</span></span>
      <span id="cb31-5"><a href="#cb31-5" aria-hidden="true"></a><span class="at">  </span><span class="fu">swarm</span><span class="kw">:</span></span>
      <span id="cb31-6"><a href="#cb31-6" aria-hidden="true"></a><span class="at">    </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;swarm&#39;</span></span>
      <span id="cb31-7"><a href="#cb31-7" aria-hidden="true"></a><span class="at">    </span><span class="fu">external</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
      <span id="cb31-8"><a href="#cb31-8" aria-hidden="true"></a><span class="co"># --------------------------------------------------------------------- volumes</span></span>
      <span id="cb31-9"><a href="#cb31-9" aria-hidden="true"></a><span class="co"># volumes:</span></span>
      <span id="cb31-10"><a href="#cb31-10" aria-hidden="true"></a><span class="co">#   prometheus:</span></span>
      <span id="cb31-11"><a href="#cb31-11" aria-hidden="true"></a><span class="co">#     driver: local</span></span>
      <span id="cb31-12"><a href="#cb31-12" aria-hidden="true"></a><span class="co">#     driver_opts:</span></span>
      <span id="cb31-13"><a href="#cb31-13" aria-hidden="true"></a><span class="co">#       type: &quot;nfs&quot;</span></span>
      <span id="cb31-14"><a href="#cb31-14" aria-hidden="true"></a><span class="co">#       o: &quot;addr=${MANAGER},nolock,soft,rw&quot; # nolock and soft ensure docker doesn&#39;t freeze if the nfs connection is lost.</span></span>
      <span id="cb31-15"><a href="#cb31-15" aria-hidden="true"></a><span class="co">#       device: &quot;:/data/${STACK}/prometheus&quot;</span></span>
      <span id="cb31-16"><a href="#cb31-16" aria-hidden="true"></a><span class="co">#   grafana:</span></span>
      <span id="cb31-17"><a href="#cb31-17" aria-hidden="true"></a><span class="co">#     driver: local</span></span>
      <span id="cb31-18"><a href="#cb31-18" aria-hidden="true"></a><span class="co">#     driver_opts:</span></span>
      <span id="cb31-19"><a href="#cb31-19" aria-hidden="true"></a><span class="co">#       type: &quot;nfs&quot;</span></span>
      <span id="cb31-20"><a href="#cb31-20" aria-hidden="true"></a><span class="co">#       o: &quot;addr=${MANAGER},nolock,soft,rw&quot; # nolock and soft ensure docker doesn&#39;t freeze if the nfs connection is lost.</span></span>
      <span id="cb31-21"><a href="#cb31-21" aria-hidden="true"></a><span class="co">#       device: &quot;:/data/${STACK}/grafana&quot;</span></span>
      <span id="cb31-22"><a href="#cb31-22" aria-hidden="true"></a><span class="co"># -------------------------------------------------------------------- services</span></span>
      <span id="cb31-23"><a href="#cb31-23" aria-hidden="true"></a><span class="fu">services</span><span class="kw">:</span></span>
      <span id="cb31-24"><a href="#cb31-24" aria-hidden="true"></a><span class="at">  </span><span class="fu">visualizer</span><span class="kw">:</span></span>
      <span id="cb31-25"><a href="#cb31-25" aria-hidden="true"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> dockersamples/visualizer</span></span>
      <span id="cb31-26"><a href="#cb31-26" aria-hidden="true"></a><span class="at">    </span><span class="fu">labels</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">prometheus-job=visualizer</span><span class="kw">]</span></span>
      <span id="cb31-27"><a href="#cb31-27" aria-hidden="true"></a><span class="at">    </span><span class="fu">deploy</span><span class="kw">:</span></span>
      <span id="cb31-28"><a href="#cb31-28" aria-hidden="true"></a><span class="at">      </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
      <span id="cb31-29"><a href="#cb31-29" aria-hidden="true"></a><span class="at">      </span><span class="fu">placement</span><span class="kw">:</span></span>
      <span id="cb31-30"><a href="#cb31-30" aria-hidden="true"></a><span class="at">        </span><span class="fu">constraints</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">node.role == manager</span><span class="kw">]</span></span>
      <span id="cb31-31"><a href="#cb31-31" aria-hidden="true"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
      <span id="cb31-32"><a href="#cb31-32" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> swarm</span></span>
      <span id="cb31-33"><a href="#cb31-33" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb31-34"><a href="#cb31-34" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> 5050:8080</span></span>
      <span id="cb31-35"><a href="#cb31-35" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
      <span id="cb31-36"><a href="#cb31-36" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> /var/run/docker.sock:/var/run/docker.sock</span></span>
      <span id="cb31-37"><a href="#cb31-37" aria-hidden="true"></a><span class="at">  </span><span class="fu">prometheus</span><span class="kw">:</span></span>
      <span id="cb31-38"><a href="#cb31-38" aria-hidden="true"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> 127.0.0.1:5000/${STACK}-prometheus</span></span>
      <span id="cb31-39"><a href="#cb31-39" aria-hidden="true"></a><span class="at">    </span><span class="fu">labels</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">prometheus-job=prometheus</span><span class="kw">]</span></span>
      <span id="cb31-40"><a href="#cb31-40" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span><span class="at"> ./builds/prometheus/</span></span>
      <span id="cb31-41"><a href="#cb31-41" aria-hidden="true"></a><span class="at">    </span><span class="fu">deploy</span><span class="kw">:</span></span>
      <span id="cb31-42"><a href="#cb31-42" aria-hidden="true"></a><span class="at">      </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
      <span id="cb31-43"><a href="#cb31-43" aria-hidden="true"></a><span class="at">      </span><span class="fu">placement</span><span class="kw">:</span></span>
      <span id="cb31-44"><a href="#cb31-44" aria-hidden="true"></a><span class="at">        </span><span class="fu">constraints</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">node.role == manager</span><span class="kw">]</span></span>
      <span id="cb31-45"><a href="#cb31-45" aria-hidden="true"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
      <span id="cb31-46"><a href="#cb31-46" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> swarm</span></span>
      <span id="cb31-47"><a href="#cb31-47" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb31-48"><a href="#cb31-48" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> 9090:9090</span></span>
      <span id="cb31-49"><a href="#cb31-49" aria-hidden="true"></a><span class="at">    </span><span class="fu">volumes</span><span class="kw">:</span></span>
      <span id="cb31-50"><a href="#cb31-50" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> /var/run/docker.sock:/var/run/docker.sock</span></span>
      <span id="cb31-51"><a href="#cb31-51" aria-hidden="true"></a><span class="co">      # - type: volume</span></span>
      <span id="cb31-52"><a href="#cb31-52" aria-hidden="true"></a><span class="co">      #   source: prometheus</span></span>
      <span id="cb31-53"><a href="#cb31-53" aria-hidden="true"></a><span class="co">      #   target: /prometheus</span></span>
      <span id="cb31-54"><a href="#cb31-54" aria-hidden="true"></a><span class="co">      #   volume:</span></span>
      <span id="cb31-55"><a href="#cb31-55" aria-hidden="true"></a><span class="co">      #     nocopy: true</span></span>
      <span id="cb31-56"><a href="#cb31-56" aria-hidden="true"></a><span class="at">    </span><span class="fu">command</span><span class="kw">:</span><span class="at"> --web.enable-lifecycle --config.file=/etc/prometheus/prometheus.yml </span></span>
      <span id="cb31-57"><a href="#cb31-57" aria-hidden="true"></a><span class="at">  </span><span class="fu">grafana</span><span class="kw">:</span></span>
      <span id="cb31-58"><a href="#cb31-58" aria-hidden="true"></a><span class="at">    </span><span class="fu">image</span><span class="kw">:</span><span class="at"> 127.0.0.1:5000/${STACK}-grafana</span></span>
      <span id="cb31-59"><a href="#cb31-59" aria-hidden="true"></a><span class="at">    </span><span class="fu">labels</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">prometheus-job=grafana</span><span class="kw">]</span></span>
      <span id="cb31-60"><a href="#cb31-60" aria-hidden="true"></a><span class="at">    </span><span class="fu">build</span><span class="kw">:</span><span class="at"> ./builds/grafana/</span></span>
      <span id="cb31-61"><a href="#cb31-61" aria-hidden="true"></a><span class="at">    </span><span class="fu">deploy</span><span class="kw">:</span></span>
      <span id="cb31-62"><a href="#cb31-62" aria-hidden="true"></a><span class="at">      </span><span class="fu">replicas</span><span class="kw">:</span><span class="at"> </span><span class="dv">1</span></span>
      <span id="cb31-63"><a href="#cb31-63" aria-hidden="true"></a><span class="at">      </span><span class="fu">placement</span><span class="kw">:</span></span>
      <span id="cb31-64"><a href="#cb31-64" aria-hidden="true"></a><span class="at">        </span><span class="fu">constraints</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">node.role == manager</span><span class="kw">]</span></span>
      <span id="cb31-65"><a href="#cb31-65" aria-hidden="true"></a><span class="at">    </span><span class="fu">networks</span><span class="kw">:</span></span>
      <span id="cb31-66"><a href="#cb31-66" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> swarm</span></span>
      <span id="cb31-67"><a href="#cb31-67" aria-hidden="true"></a><span class="at">    </span><span class="fu">ports</span><span class="kw">:</span></span>
      <span id="cb31-68"><a href="#cb31-68" aria-hidden="true"></a><span class="at">      </span><span class="kw">-</span><span class="at"> 3000:3000</span></span>
      <span id="cb31-69"><a href="#cb31-69" aria-hidden="true"></a><span class="co">    # volumes:</span></span>
      <span id="cb31-70"><a href="#cb31-70" aria-hidden="true"></a><span class="co">    #   - type: volume</span></span>
      <span id="cb31-71"><a href="#cb31-71" aria-hidden="true"></a><span class="co">    #     source: grafana</span></span>
      <span id="cb31-72"><a href="#cb31-72" aria-hidden="true"></a><span class="co">    #     target: /var/lib/grafana</span></span>
      <span id="cb31-73"><a href="#cb31-73" aria-hidden="true"></a><span class="co">    #     volume:</span></span>
      <span id="cb31-74"><a href="#cb31-74" aria-hidden="true"></a><span class="co">    #       nocopy: true</span></span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="virtualisation">7.6.3. Virtualisation<!-- OK --></h4>
      <p>Utiliser les hyperviseurs de type 1 (bare-metal) ou de type 2 (logiciels) pour la virtualisation apporte les avantages respectifs suivants :</p>
      <table>
      <colgroup>
      <col style="width: 100%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th>Hyperviseur de type 1 (bare-metal)</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Il s’exécutent directement sur le matériel de l’hôte, ce qui permet d’obtenir des <strong>performances plus élevées</strong> et une faible latence pour les machines virtuelles.</td>
      </tr>
      <tr class="even">
      <td>Ils ont un accès direct aux ressources matérielles de l’hôte, ce qui permet de les <strong>configurer de manière plus fine</strong> et d’obtenir des performances optimales.</td>
      </tr>
      <tr class="odd">
      <td></td>
      </tr>
      </tbody>
      </table>
      <table>
      <colgroup>
      <col style="width: 100%" />
      </colgroup>
      <thead>
      <tr class="header">
      <th>Hyperviseur de type 1 (logiciels)</th>
      </tr>
      </thead>
      <tbody>
      <tr class="odd">
      <td>Ils <strong>s’installent sur un système d’exploitation existant</strong>, ce qui permet de les installer facilement sur des machines existantes.</td>
      </tr>
      <tr class="even">
      <td>Ils n’ont pas besoin d’un accès direct aux ressources matérielles de l’hôte, ils <strong>utilisent donc moins de ressources</strong> système.</td>
      </tr>
      <tr class="odd">
      <td>Ils peuvent être <strong>facilement déplacés</strong> d’un système d’exploitation à un autre.</td>
      </tr>
      </tbody>
      </table>
      <h5 id="oracle-vm-virtualbox">7.6.3.1. Oracle VM Virtualbox<!-- OK --></h5>
      <p>Oracle VM VirtualBox (anciennement VirtualBox) est un <strong>logiciel libre de virtualisation</strong> publié par Oracle. C’est un <strong>hyperviseur de type 2</strong>, c’est-à-dire qu’il doit être installé sur un système d’exploitation, et non directement sur un ordinateur en tant que système d’exploitation.</p>
      <p>L’essentiel du travail de <strong>recherche et de développement</strong>, quant à la validation de l’infrastructure finale d’accueil de l’application a été effectué sur cette solution.</p>
      <p>Dans le cadre de ces tests, nous avons également créé un script Python (Cf. <a href="#7132-python">Python</a>) permettant d’automatiser le processus complet de création des différents environnements, en <strong>pilotant</strong> localement <strong>Oracle VM Virtualbox</strong>.</p>
      <h5 id="vmware-esxi">7.6.3.2. VMware ESXi<!-- OK --></h5>
      <p>VMware ESXi est un <strong>hyperviseur de type 1</strong> développé par VMware pour le déploiement et la mise en service de <strong>machines virtuelles</strong>. En tant qu’hyperviseur de type 1, ESXi s’installe directement en tant que système d’exploitation.</p>
      <p>Par soucis de <strong>prise en compte des standards de l’industrie</strong>, de <strong>nombreux tests</strong> de création et de configuration de machines virtuelles ont été réalisés <strong>sur VMware ESXi</strong>. l’environnement de production définitif, dans le cadre d’un hébergement sur site (on premise installation), fera très vraisemblablement appel à cette technologie.</p>
      <h3 id="outils-de-conception-de-la-documentation">7.7. Outils de conception de la documentation</h3>
      <h4 id="markdown">7.7.1. Markdown<!-- OK --></h4>
      <p>Markdown est un <strong>langage de balisage</strong> léger facile à lire et à écrire. Un document balisé par Markdown peut être <strong>lu en l’état sans donner l’impression d’avoir été balisé</strong> ou formaté par des instructions particulières. Markdown est largement utilisé dans les blogs, la messagerie instantanée, les forums en ligne, les logiciels collaboratifs, les pages de documentation et les fichiers readme.</p>
      <p>Un document balisé par Markdown peut être <strong>converti en HTML</strong>, en PDF ou en bien d’autres formats. Ceci en fait un excellent support pour stocker le contenu d’un document, tandis que la paramétrisation lors de son export se chargera de le styliser (CSS), séparant de manière effective le fond de la forme.</p>
      <p>L’ensemble de la <strong>documentation de ce projet</strong> (dont le present rapport) a été créée à partir de fichiers en Markdown. Les fichiers sont <strong>nativement affiches en HTML sur GitHub et GitLab</strong>, ou bien transformés a l’aide d’un programme comme <a href="https://pandoc.org/">Pandoc</a> (Cf. Exemple d’utilisation <a href="#7621-docker">Docker</a>).</p>
      <p>Voici un exemple de la syntaxe :</p>
      <!-- cSpell:disable -->
      <div class="sourceCode" id="cb32"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a></span>
      <span id="cb32-2"><a href="#cb32-2" aria-hidden="true"></a><span class="fu"># Heading 1</span></span>
      <span id="cb32-3"><a href="#cb32-3" aria-hidden="true"></a><span class="fu">## Heading 2</span></span>
      <span id="cb32-4"><a href="#cb32-4" aria-hidden="true"></a><span class="fu">### Heading 3</span></span>
      <span id="cb32-5"><a href="#cb32-5" aria-hidden="true"></a></span>
      <span id="cb32-6"><a href="#cb32-6" aria-hidden="true"></a>---</span>
      <span id="cb32-7"><a href="#cb32-7" aria-hidden="true"></a></span>
      <span id="cb32-8"><a href="#cb32-8" aria-hidden="true"></a>**Bold** __Bold__</span>
      <span id="cb32-9"><a href="#cb32-9" aria-hidden="true"></a>*Italic* _Italic_</span>
      <span id="cb32-10"><a href="#cb32-10" aria-hidden="true"></a>~~Strikethrough~~</span>
      <span id="cb32-11"><a href="#cb32-11" aria-hidden="true"></a></span>
      <span id="cb32-12"><a href="#cb32-12" aria-hidden="true"></a><span class="ss">- </span>Bullet point 1</span>
      <span id="cb32-13"><a href="#cb32-13" aria-hidden="true"></a><span class="ss">- </span>Bullet point 2</span>
      <span id="cb32-14"><a href="#cb32-14" aria-hidden="true"></a><span class="ss">    - </span>Sub-bullet point</span>
      <span id="cb32-15"><a href="#cb32-15" aria-hidden="true"></a><span class="ss">1. </span>Numbered point 1</span>
      <span id="cb32-16"><a href="#cb32-16" aria-hidden="true"></a><span class="ss">2. </span>Numbered point 2</span>
      <span id="cb32-17"><a href="#cb32-17" aria-hidden="true"></a></span>
      <span id="cb32-18"><a href="#cb32-18" aria-hidden="true"></a>Links: <span class="co">[</span><span class="ot">Link text</span><span class="co">](http://linkurl.com)</span></span>
      <span id="cb32-19"><a href="#cb32-19" aria-hidden="true"></a></span>
      <span id="cb32-20"><a href="#cb32-20" aria-hidden="true"></a>Images: <span class="al">![Alt text](imageurl.jpg)</span></span>
      <span id="cb32-21"><a href="#cb32-21" aria-hidden="true"></a></span>
      <span id="cb32-22"><a href="#cb32-22" aria-hidden="true"></a>| Column 1 | Column 2 | Column 3 |</span>
      <span id="cb32-23"><a href="#cb32-23" aria-hidden="true"></a>|----------|----------|----------|</span>
      <span id="cb32-24"><a href="#cb32-24" aria-hidden="true"></a>| Row 1, Column 1 | Row 1, Column 2 | Row 1, Column 3 |</span>
      <span id="cb32-25"><a href="#cb32-25" aria-hidden="true"></a>| Row 2, Column 1 | Row 2, Column 2 | Row 2, Column 3 |</span></code></pre></div>
      <!-- cSpell:enable -->
      <h4 id="javadoc">7.7.2. Javadoc<!-- OK --></h4>
      <p>Javadoc est un outil développé par Oracle, permettant de <strong>créer une documentation d’API en format HTML</strong> depuis les commentaires présents dans un code source en Java. C’est le standard industriel pour la documentation des classes Java.</p>
      <p>La plupart des <strong>IDE aident à la génération</strong> et au formatage des blocs de commentaires Javadoc. Ces commentaires permettent également aux IDE modernes d’apporter à l’utilisateur des <strong>informations contextuelles</strong> (definition de classe, de méthode, paramètres d’entrée et valeur de retour attendue).</p>
      <h4 id="plantuml-1">7.7.3. PlantUML<!-- EX --></h4>
      <p>PlantUML est un <strong>outil libre</strong> permettant de <strong>créer des diagrammes UML à partir de fichier texte</strong>.</p>
      <p>Du fait du format texte des fichiers utilisés par PlantUML, cet outil <strong>s’intègre parfaitement dans un pipeline</strong> d’intégration et de déploiement.</p>
      <p>Il est par exemple possible de <strong>générer automatiquement des UML</strong> de Modèle Physique de Données (MPD), afin d’avoir une représentation actualisée d’une base de données, ou bien de créer dynamiquement des diagrammes de classes à partir du code source.</p>
      <p>La majorité des diagrammes ont été réalisés grâce à cet outil. Voici en exemple le fichier PlantUML <code>something.puml</code> qui permet de générer le fichier PNG <code>.png</code> inséré dans le présent rapport.</p>
      <!-- cSpell:disable -->
      <pre class="puml"><code>
      - contexte
      </code></pre>
      <!-- cSpell:enable -->
      <div style="page-break-after: always;">

      </div>
      <h2 id="réalisations">8. Réalisations</h2>
      <div class="sourceCode" id="cb34"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true"></a><span class="ss">  - </span>Description des features réalisées</span>
      <span id="cb34-2"><a href="#cb34-2" aria-hidden="true"></a><span class="ss">  - </span>Description des fonctions implémentées</span>
      <span id="cb34-3"><a href="#cb34-3" aria-hidden="true"></a><span class="ss">  - </span>Description des actions réalisées sur la BDD</span>
      <span id="cb34-4"><a href="#cb34-4" aria-hidden="true"></a><span class="ss">  - </span>Description des tests unitaires/EtE (EndtoEnd)</span></code></pre></div>
      <h2 id="présentation-du-jeu-dessai-le-plus-représentatif">9. Présentation du jeu d’essai le plus représentatif</h2>
      <div class="sourceCode" id="cb35"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a><span class="ss">- </span>Description des scénarios désirées sur la fonctionnalité et vérification de la conformité du résultat</span>
      <span id="cb35-2"><a href="#cb35-2" aria-hidden="true"></a><span class="ss">- </span>Le jeu d&#39;essai permet de contrôler la réaction du code pour tous les types de données reçus par les méthodes et fonctions, qu&#39;ils soient valides ou non. Pour la fonctionnalité la plus complète de votre application, expliquez &quot;Données en entrée -&gt; données attendues -&gt; Données obtenues&quot;</span></code></pre></div>
      <div style="page-break-after: always;">

      </div>
      <h2 id="veille-sur-les-vulnérabilités-de-sécurité">10. Veille sur les vulnérabilités de sécurité</h2>
      <div class="sourceCode" id="cb36"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true"></a><span class="ss">- </span>Description de la veille, effectuée par le candidat pendant le projet, sur les vulnérabilités de sécurité</span>
      <span id="cb36-2"><a href="#cb36-2" aria-hidden="true"></a><span class="ss">- </span>Prise en compte des conventions liées à la sécurité imposée par la structure d&#39;accueil du stagiaire</span>
      <span id="cb36-3"><a href="#cb36-3" aria-hidden="true"></a><span class="ss">- </span>Mise à jour éventuelle des librairies/frameworks</span>
      <span id="cb36-4"><a href="#cb36-4" aria-hidden="true"></a><span class="ss">- </span>Auto-formation aux failles de sécurité déclarées sur telle ou telle technologie (lecture des documentations officielles, prise en compte des mesures préventives, mise en place des verrous recommandés)</span></code></pre></div>
      <h3 id="sql-injection">10.1. SQL Injection</h3>
      <p>[https://www.journaldev.com/34028/sql-injection-in-java]</p>
      <p>[https://sqlmap.org/] [https://github.com/sqlmapproject/sqlmap]</p>
      <p>What is SQL Injection ?</p>
      <p>SQL Injection is one of the top 10 web application vulnerabilities. In simple words, SQL Injection means injecting/inserting SQL code in a query via user-inputted data. It can occur in any applications using relational databases like Oracle, MySQL, PostgreSQL and SQL Server.</p>
      <p>To perform SQL Injection, a malicious user first tries to find a place in the application where he can embed SQL code along with data. It can be the login page of any web application or any other place. So when data embedded with SQL code is received by the application, SQL code will be executed along with the application query.</p>
      <p>Impact of SQL Injection</p>
      <ul>
      <li>A malicious user can obtain unauthorized access to your application and steal data.</li>
      <li>They can alter, delete data in your database and take your application down.</li>
      <li>A hacker can also get control of the system on which database server is running by executing database specific system commands.</li>
      </ul>
      <p>Example …</p>
      <p>Types of SQL Injection</p>
      <ol type="1">
      <li>Boolean Based SQL Injection</li>
      </ol>
      <p>The above example is a case of Boolean Based SQL Injection. It uses a boolean expression that evaluates to true or false. It can be used to get additional information from the database. For example;</p>
      <p>Input Data: 2 or 1=1</p>
      <p>SQL Query: select first_name, last_name from tbl_employee where empId=2 or 1=1</p>
      <ol start="2" type="1">
      <li>Union Based SQL Injection</li>
      </ol>
      <p>SQL union operator combines data from two different queries with the same number of columns. In this case, the union operator is used to get data from other tables.</p>
      <p>Input Data: 2 union select username, password from tbluser</p>
      <p>Query: Select first_name, last_name from tbl_employee where empId=2 union select username, password from tbluser</p>
      <p>By using Union Based SQL Injection, an attacker can obtain user credentials. 3. Time-Based SQL Injection</p>
      <p>In Time Based SQL Injection, special functions are injected in the query which can pause execution for a specified amount of time. This attack slows down the database server. It can bring down your application by affecting the database server performance. For example, In MySQL:</p>
      <p>Input Data: 2 + SLEEP(5)</p>
      <p>Query: select emp_id, first_name, last_name from tbl_employee where empId=2 + SLEEP(5)</p>
      <p>In the above example, query execution will pause for 5 seconds. 4. Error Based SQL Injection</p>
      <p>In this variation, the attacker tries to get information like an error code and a message from the database. The attacker injects SQL which are syntactically incorrect so database server will return error code and messages which can be used to get database and system information.</p>
      <p>Best Practices to avoid SQL Injection</p>
      <ol type="1">
      <li>Validate data before using them in the query.</li>
      <li>Do not use common words as your table name or column name. For example, many applications use tbluser or tblaccount to store user data. Email, firstname, lastname are common column names.</li>
      <li>Do not directly concatenate data ( received as user input) to create SQL queries.</li>
      <li>Use frameworks like Hibernate and Spring Data JPA for the data layer of an application.</li>
      <li>Use positional parameters in the query. If you are using plain JDBC, then use PreparedStatement to execute the query.</li>
      <li>Limit the application’s access to the database via permissions &amp; grants.</li>
      <li>Do not return sensitive error code and message to the end-user.</li>
      <li>Do proper code review so that no developer accidentally write unsafe SQL code.</li>
      <li>Use tools like SQLMap to find and fix SQL Injection vulnerabilities in your application.</li>
      </ol>
      <div style="page-break-after: always;">

      </div>
      <h2 id="description-dune-situation-de-travail-ayant-nécessité-une-recherche">11. Description d’une situation de travail ayant nécessité une recherche</h2>
    </div>
  </body>
</html>